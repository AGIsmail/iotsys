/*
 AngularJS v1.2.1
 (c) 2010-2012 Google, Inc. http://angularjs.org
 License: MIT
 CanvasJS HTML5 & JavaScript Charts - v1.4.1 GA - http://canvasjs.com/ 
 Copyright 2013 fenopix
*/
(function(){function d(a){var b="Array"===a&&la.isArray||function(b,g){return(g||pb.call(b))==="[object "+a+"]"};return Ob[a]=b}function q(a,b){var g=function(g){return l(g)?pb.call(g)==="[object "+b+"]":typeof g===a};return Ob[b]=g}function c(a){a.SugarMethods||(e(a,"SugarMethods",{}),f(a,!1,!0,{extend:function(b,g,e){f(a,!1!==e,g,b)},sugarRestore:function(){return k(this,a,arguments,function(a,b,g){e(a,b,g.method)})},sugarRevert:function(){return k(this,a,arguments,function(a,b,g){g.existed?e(a,
b,g.original):delete a[b]})}}))}function f(b,g,d,f){var h=g?b.prototype:b;c(b);v(f,function(f,c){var k=h[f],r=m(h,f);Ua(d)&&k&&(c=a(k,c,d));(!1!==d||!k)&&e(h,f,c);b.SugarMethods[f]={method:c,existed:r,original:k,instance:g}})}function b(a,b,g,e,d){var c={};e=va(e)?e.split(","):e;e.forEach(function(a,b){d(c,a,b)});f(a,b,g,c)}function k(a,b,g,e){var d=0===g.length,c=h(g),f=!1;v(b.SugarMethods,function(b,g){if(d||-1!==c.indexOf(b))f=!0,e(g.instance?a.prototype:a,b,g)});return f}function a(a,b,g){return function(e){return g.apply(this,
arguments)?b.apply(this,arguments):a.apply(this,arguments)}}function e(a,b,g){Pb?ka.defineProperty(a,b,{value:g,configurable:!0,enumerable:!1,writable:!0}):a[b]=g}function h(a,b,g){var e=[];g=g||0;var d;for(d=a.length;g<d;g++)e.push(a[g]),b&&b.call(a,a[g],g);return e}function p(a,b,g){var e=a[g||0];Sa(e)&&(a=e,g=0);return h(a,b,g)}function n(a){if(!a||!a.call)throw new TypeError("Callback is not callable");}function m(a,b){return!!a&&kc.call(a,b)}function l(a){return!!a&&("object"===typeof a||Xb&&
cb(a))}function t(a){var b=typeof a;return null==a||"string"===b||"number"===b||"boolean"===b}function u(a,b){b=b||pb.call(a);try{if(a&&a.constructor&&!m(a,"constructor")&&!m(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}return!!a&&"[object Object]"===b&&"hasOwnProperty"in a}function v(a,b){for(var g in a)if(m(a,g)&&!1===b.call(a,g,a[g],a))break}function x(a,b){for(var g=0;g<a;g++)b(g)}function A(a,b){v(b,function(g){a[g]=b[g]});return a}function s(a){t(a)&&(a=ka(a));if(Dc&&
va(a))for(var b=a,g=0,e;e=b.charAt(g);)b[g++]=e;return a}function K(a){A(this,s(a))}function F(a,b,g){var e=qb(10,mb(b||0));g=g||wb;0>b&&(e=1/e);return g(a*e)/e}function H(){return"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u2028\u2029\u3000\ufeff"}function y(a,b){var g="";for(a=a.toString();0<b;)if(b&1&&(g+=a),b>>=1)a+=a;return g}function I(a,b){var g,e;g=a.replace(La,function(a){a=rb[a];a===Ib&&(e=!0);return a});return e?parseFloat(g):
parseInt(g,b||10)}function M(a,b,g,e){e=mb(a).toString(e||10);e=y("0",b-e.replace(/\.\d+/,"").length)+e;if(g||0>a)e=(0>a?"-":"+")+e;return e}function J(a){if(11<=a&&13>=a)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function w(a,b){function g(a,d){if(a||-1<b.indexOf(d))e+=d}var e="";b=b||"";g(a.multiline,"m");g(a.ignoreCase,"i");g(a.global,"g");g(a.sticky,"y");return e}function S(a){va(a)||(a=sa(a));return a.replace(/([\\/\'*+?|()\[\]{}.^$])/g,
"\\$1")}function C(a,b){return a["get"+(a._utc?"UTC":"")+b]()}function B(a,b,g){return a["set"+(a._utc&&"ISOWeek"!=b?"UTC":"")+b](g)}function N(a,b){var g=typeof a,e,d,f,c,h,k,r;if("string"===g)return a;f=pb.call(a);e=u(a,f);d=Sa(a,f);if(null!=a&&e||d){b||(b=[]);if(1<b.length)for(k=b.length;k--;)if(b[k]===a)return"CYC";b.push(a);e=a.valueOf()+sa(a.constructor);c=d?a:ka.keys(a).sort();k=0;for(r=c.length;k<r;k++)h=d?k:c[k],e+=h+N(a[h],b);b.pop()}else e=-Infinity===1/a?"-0":sa(a&&a.valueOf?a.valueOf():
a);return g+f+e}function D(a,b){return a===b?0!==a||1/a===1/b:ma(a)&&ma(b)?N(a)===N(b):!1}function ma(a){var b=pb.call(a);return Yb.test(b)||u(a,b)}function V(a,b,g){var e,d=a.length,f=b.length,c=!1!==b[f-1];if(!(f>(c?1:2)))return Y(a,d,b[0],c,g);e=[];h(b,function(b){if(xb(b))return!1;e.push(Y(a,d,b,c,g))});return e}function Y(a,b,g,e,d){e&&(g%=b,0>g&&(g=b+g));return d?a.charAt(g):a[g]}function L(a,g){b(g,!0,!1,a,function(a,b){a[b+("equal"===b?"s":"")]=function(){return ka[b].apply(null,[this].concat(h(arguments)))}})}
function O(a,b,g,e){var d=a.length,f=-1==e,c=f?d-1:0;g=isNaN(g)?c:parseInt(g>>0);0>g&&(g=d+g);if(!f&&0>g||f&&g>=d)g=c;for(;f&&0<=g||!f&&g<d;){if(a[g]===b)return g;g+=e}return-1}function R(a,b,g,e){var d=a.length,f=0,c=g!==fa;n(b);if(0==d&&!c)throw new TypeError("Reduce called on empty array with no initial value");c||(g=a[e?d-1:f],f++);for(;f<d;)c=e?d-f-1:f,c in a&&(g=b(g,a[c],c,a)),f++;return g}function X(a){if(0===a.length)throw new TypeError("First argument must be defined");}function P(a){a=ua(a);
return function(b){return a.test(b)}}function ha(a){var b=a.getTime();return function(a){return!(!a||!a.getTime)&&a.getTime()===b}}function pa(a){return function(b,g,e){return b===a||a.call(this,b,g,e)}}function wa(a){return function(b,g,e){return b===a||a.call(e,g,b,e)}}function xa(a,b){var g={};return function(e,d,f){var c;if(!l(e))return!1;for(c in a)if(g[c]=g[c]||ja(a[c],b),!1===g[c].call(f,e[c],d,f))return!1;return!0}}function ta(a){return function(b){return b===a||D(b,a)}}function ja(a,b){if(!t(a)){if(cb(a))return P(a);
if(Za(a))return ha(a);if(Ua(a))return b?wa(a):pa(a);if(u(a))return xa(a,b)}return ta(a)}function na(a,b,g,e){return b?b.apply?b.apply(g,e||[]):Ua(a[b])?a[b].call(a):a[b]:a}function qa(a,b,g,e){var d,c=+a.length;0>g&&(g=a.length+g);d=isNaN(g)?0:g;for(!0===e&&(c+=d);d<c;){g=d%a.length;if(g in a){if(!1===b.call(a,a[g],g,a))break}else return oa(a,b,d,e);d++}}function oa(a,b,g,e){e=[];for(var d in a)d in a&&(d>>>0==d&&4294967295!=d)&&d>=g&&e.push(parseInt(d));e.sort().each(function(g){return b.call(a,
a[g],g,a)});return a}function ra(a,b,g,e,d,c){var f,h,k;0<a.length&&(k=ja(b),qa(a,function(b,g){if(k.call(c,b,g,a))return f=b,h=g,!1},g,e));return d?h:f}function r(a,b){var g=[],e={},d;qa(a,function(c,f){d=b?na(c,b,a,[c,f,a]):c;aa(e,d)||g.push(c)});return g}function z(a,b,g){var e=[],d={};b.each(function(a){aa(d,a)});a.each(function(a){var b=N(a),c=!ma(a);if(G(d,b,a,c)!==g){var f=0;if(c)for(b=d[b];f<b.length;)b[f]===a?b.splice(f,1):f+=1;else delete d[b];e.push(a)}});return e}function g(a,b,e){b=b||
Infinity;e=e||0;var d=[];qa(a,function(a){Sa(a)&&e<b?d=d.concat(g(a,b,e+1)):d.push(a)});return d}function E(a){var b=[];h(a,function(a){b=b.concat(a)});return b}function G(a,b,g,e){var d=b in a;e&&(a[b]||(a[b]=[]),d=-1!==a[b].indexOf(g));return d}function aa(a,b){var g=N(b),e=!ma(b),d=G(a,g,b,e);e?a[g].push(b):a[g]=b;return d}function ea(a,b,e,d){var c,f,h,k=[],r="max"===e,l="min"===e,p=la.isArray(a);for(c in a)if(a.hasOwnProperty(c)){e=a[c];h=na(e,b,a,p?[e,parseInt(c),a]:[]);if(h===fa)throw new TypeError("Cannot compare with undefined");
if(h===f)k.push(e);else if(f===fa||r&&h>f||l&&h<f)k=[e],f=h}p||(k=g(k,1));return d?k:k[0]}function ca(a,b){var g,e,d,c,f=0,h=0;g=la[Db];e=la[Eb];var k=la[Ec],r=la[da],l=la[Zb];a=Ta(a,g,e);b=Ta(b,g,e);do{g=k;e=a.charAt(f);d=g[e]||e;g=k;e=b.charAt(f);c=g[e]||e;g=d?r.indexOf(d):null;e=c?r.indexOf(c):null;if(-1===g||-1===e){if(g=a.charCodeAt(f)||null,e=b.charCodeAt(f)||null,l&&(g>=lc&&g<=yb||g>=mc&&g<=$b)&&(e>=lc&&e<=yb||e>=mc&&e<=$b))g=I(a.slice(f)),e=I(b.slice(f))}else d=d!==a.charAt(f),c=c!==b.charAt(f),
d!==c&&0===h&&(h=d-c);f+=1}while(null!=g&&null!=e&&g===e);return g===e?h:g-e}function Ta(a,b,g){va(a)||(a=sa(a));g&&(a=a.toLowerCase());b&&(a=a.replace(b,""));return a}function ia(a,g){b(ka,!1,!0,a,function(a,b){a[b]=function(a,e,d){var f=ka.keys(s(a)),c;g||(c=ja(e,!0));d=la.prototype[b].call(f,function(b){var d=a[b];return g?na(d,e,a,[b,d,a]):c(d,b,a)},d);Sa(d)&&(d=d.reduce(function(b,g,e){b[g]=a[g];return b},{}));return d}});L(a,K)}function Q(a){A(this,a);this.compiledFormats=ac.concat()}function Fa(a,
b){var g;va(a)||(a="");g=Fb[a]||Fb[a.slice(0,2)];if(!1===b&&!g)throw new TypeError("Invalid locale.");return g||Ya}function ba(a,b){function g(a){var b=h[a];va(b)?h[a]=b.split(","):b||(h[a]=[])}function e(a,b){a=a.split("+").map(function(a){return a.replace(/(.+):(.+)$/,function(a,b,g){return g.split("|").map(function(a){return b+a}).join("|")})}).join("|");return a.split("|").forEach(b)}function d(a,b,g){var c=[];h[a].forEach(function(a,d){b&&(a+="+"+a.slice(0,3));e(a,function(a,b){c[b*g+d]=a.toLowerCase()})});
h[a]=c}function c(a,b,g){a="\\d{"+a+","+b+"}";g&&(a+="|(?:"+Da(h.numbers)+")+");return a}function f(a,b){h[a]=h[a]||b}var h,k;h=new Q(b);g("modifiers");"months weekdays units numbers articles tokens timeMarker ampm timeSuffixes dateParse timeParse".split(" ").forEach(g);k=!h.monthSuffix;d("months",k,12);d("weekdays",k,7);d("units",!1,8);d("numbers",!1,10);f("code",a);f("date",c(1,2,h.digitDate));f("year","'\\d{2}|"+c(4,4));f("num",function(){var a=["-?\\d+"].concat(h.articles);h.numbers&&(a=a.concat(h.numbers));
return Da(a)}());(function(){var a=[];h.modifiersByName={};h.modifiers.push({name:"day",src:"yesterday",value:-1});h.modifiers.push({name:"day",src:"today",value:0});h.modifiers.push({name:"day",src:"tomorrow",value:1});h.modifiers.forEach(function(b){var g=b.name;e(b.src,function(e){var d=h[g];h.modifiersByName[e]=b;a.push({name:g,src:e,value:b.value});h[g]=d?d+"|"+e:e})});h.day+="|"+Da(h.weekdays);h.modifiers=a})();h.monthSuffix&&(h.month=c(1,2),h.months="1 2 3 4 5 6 7 8 9 10 11 12".split(" ").map(function(a){return a+
h.monthSuffix}));h.full_month=c(1,2)+"|"+Da(h.months);0<h.timeSuffixes.length&&h.addFormat(Va(tc,h),!1,oc);h.addFormat("{day}",!0);h.addFormat("{month}"+(h.monthSuffix||""));h.addFormat("{year}"+(h.yearSuffix||""));h.timeParse.forEach(function(a){h.addFormat(a,!0)});h.dateParse.forEach(function(a){h.addFormat(a)});return Fb[a]=h}function T(a,b,g,e){a.compiledFormats.unshift({variant:e,locale:a,reg:ua("^"+b+"$","i"),to:g})}function Ba(a){return a.slice(0,1).toUpperCase()+a.slice(1)}function Da(a){return a.filter(function(a){return!!a}).join("|")}
function W(){var a=ga.SugarNewDate;return a?a():new ga}function U(a,b){var g;if(l(a[0]))return a;if(Ma(a[0])&&!Ma(a[1]))return[a[0]];if(va(a[0])&&b)return[sb(a[0]),a[1]];g={};uc.forEach(function(b,e){g[b.name]=a[e]});return[g]}function sb(a,b){var g,e={};if(g=a.match(/^(\d+)?\s?(\w+?)s?$/i))b===fa&&(b=parseInt(g[1])||1),e[g[2].toLowerCase()]=b;return e}function Ga(a,b,g){var e;g===fa&&(g=cc.length);for(b=b||0;b<g&&!(e=cc[b],!1===a(e.name,e,b));b++);}function Pa(a,b){var g={},e,d;b.forEach(function(b,
c){e=a[c+1];e===fa||""===e||("year"===b&&(g.yearAsString=e.replace(/'/,"")),d=parseFloat(e.replace(/'/,"").replace(/,/,".")),g[b]=!isNaN(d)?d:e.toLowerCase())});return g}function gb(a){a=a.trim().replace(/^just (?=now)|\.+$/i,"");return Na(a)}function Na(a){return a.replace(dc,function(a,b,g){var e=0,d=1,c,f;if(b)return a;g.split("").reverse().forEach(function(a){a=Jb[a];var b=9<a;b?(c&&(e+=d),d*=a/(f||1),f=a):(!1===c&&(d*=10),e+=d*a);c=b});c&&(e+=d);return e})}function db(a,b,g,e){function d(a){y.push(a)}
function c(){y.forEach(function(a){a.call()})}function f(){var a=r.getWeekday();r.setWeekday(7*(m.num-1)+(a>t?t+7:t))}function h(){var a=z.modifiersByName[m.edge];Ga(function(a){if(m[a]!==fa)return E=a,!1},4);if("year"===E)m.specificity="month";else if("month"===E||"week"===E)m.specificity="day";r[(0>a.value?"endOf":"beginningOf")+Ba(E)]();-2===a.value&&r.reset()}function k(){var a;Ga(function(b,g,e){"day"===b&&(b="date");if(m[b]!==fa){if(e>=w)return r.setTime(NaN),!1;a=a||{};a[b]=m[b];delete m[b]}});
a&&d(function(){r.set(a,!0)})}var r,p,n,y,z,m,E,w,t,u,B;r=W();y=[];r.utc(e);Za(a)?r.utc(a.isUTC()).setTime(a.getTime()):Ma(a)?r.setTime(a):l(a)?(r.set(a,!0),m=a):va(a)&&(n=Fa(b),a=gb(a),n&&v(n.getFormats(),function(g,e){var c=a.match(e.reg);if(c){z=e.locale;m=Pa(c,e.to,z);z.cachedFormat=e;m.utc&&r.utc();if(m.timestamp)return m=m.timestamp,!1;if(e.variant&&!va(m.month)&&(va(m.date)||n.hasVariant(b)))B=m.month,m.month=m.date,m.date=B;m.year&&2===m.yearAsString.length&&(m.year=100*wb(C(W(),"FullYear")/
100)-100*wb(m.year/100)+m.year);m.month&&(m.month=z.getMonth(m.month),m.shift&&!m.unit&&(m.unit=z.units[7]));m.weekday&&m.date?delete m.weekday:m.weekday&&(m.weekday=z.getWeekday(m.weekday),m.shift&&!m.unit&&(m.unit=z.units[5]));if(m.day&&(B=z.modifiersByName[m.day]))m.day=B.value,r.reset(),p=!0;else if(m.day&&-1<(t=z.getWeekday(m.day)))delete m.day,m.num&&m.month?(d(f),m.day=1):m.weekday=t;m.date&&!Ma(m.date)&&(m.date=z.getNumericDate(m.date));z.matchPM(m.ampm)&&12>m.hour?m.hour+=12:z.matchAM(m.ampm)&&
12===m.hour&&(m.hour=0);if("offset_hours"in m||"offset_minutes"in m)r.utc(),m.offset_minutes=m.offset_minutes||0,m.offset_minutes+=60*m.offset_hours,"-"===m.offset_sign&&(m.offset_minutes*=-1),m.minute-=m.offset_minutes;if(m.unit){p=!0;u=z.getNumber(m.num);w=z.getUnitIndex(m.unit);E=Ha.units[w];k();m.shift&&(u*=(B=z.modifiersByName[m.shift])?B.value:0);if(m.sign&&(B=z.modifiersByName[m.sign]))u*=B.value;m.weekday!==fa&&(r.set({weekday:m.weekday},!0),delete m.weekday);m[E]=(m[E]||0)+u}m.edge&&d(h);
"-"===m.year_sign&&(m.year*=-1);Ga(function(a,b,g){b=m[a];var e=b%1;e&&(m[cc[g-1].name]=wb(e*("second"===a?1E3:60)),m[a]=Ja(b))},1,4);return!1}}),m?p?r.advance(m):(r._utc&&r.reset(),Wa(r,m,!0,!1,g)):("now"!==a&&(r=new ga(a)),e&&r.addMinutes(-r.getTimezoneOffset())),c(),r.utc(!1));return{date:r,set:m}}function hb(a){var b,g=mb(a),e=g,d=0;Ga(function(a,c,f){b=Ja(F(g/c.multiplier(),1));1<=b&&(e=b,d=f)},1);return[e,d,a]}function eb(a){var b=hb(a.millisecondsFromNow());if(6===b[1]||5===b[1]&&4===b[0]&&
a.daysFromNow()>=W().daysInMonth())b[0]=mb(a.monthsFromNow()),b[1]=6;return b}function ob(a,b){var g=function(a,b){var g=C(a,"Hours");return Fa(b).ampm[Ja(g/12)]||""};Ia("t",g,1);Ia("tt",g);Ia("T",g,1,1);Ia("TT",g,null,2)}function ib(a,b){var g=function(a,b){var g=C(a,"Day");return Fa(b).weekdays[g]};Ia("dow",g,3);Ia("Dow",g,3,1);Ia("weekday",g);Ia("Weekday",g,null,1)}function fb(a,b,g){var e=function(a,g){var e=C(a,"Month");return Fa(g).months[e+12*b]};Ia(a,e,g);Ia(Ba(a),e,g,1)}function Ia(a,b,g,
e){Ea[a]=function(a,d){var c=b(a,d);g&&(c=c.slice(0,g));e&&(c=c.slice(0,e).toUpperCase()+c.slice(e));return c}}function Qa(a,b,g){Ea[a]=b;Ea[a+a]=function(a,g){return M(b(a,g),2)};g&&(Ea[a+a+a]=function(a,g){return M(b(a,g),3)},Ea[a+a+a+a]=function(a,g){return M(b(a,g),4)})}function Kb(a){var b=a.match(/(\{\w+\})|[^{}]+/g);wc[a]=b.map(function(a){a.replace(/\{(\w+)\}/,function(b,g){a=Ea[g]||g;return g});return a})}function Ra(a,b,g,e){var d;if(a.isValid())Date[b]?b=Date[b]:Ua(b)&&(d=eb(a),b=b.apply(a,
d.concat(Fa(e))));else return"Invalid Date";if(!b&&g)return d=d||eb(a),0===d[1]&&(d[1]=1,d[0]=1),Fa(e).getRelativeFormat(d);b=b||"long";if("short"===b||"long"===b||"full"===b)b=Fa(e)[b];wc[b]||Kb(b);var c,f;g="";b=wc[b];c=0;for(d=b.length;c<d;c++)f=b[c],g+=Ua(f)?f(a,e):f;return g}function jb(a,b,g,e,d){var c,f,h,k=0,r=0,l=0;c=db(b,g,null,d);0<e&&(r=l=e,f=!0);if(!c.date.isValid())return!1;if(c.set&&c.set.specificity){Gb.forEach(function(b,g){b.name===c.set.specificity&&(k=b.multiplier(c.date,a-c.date)-
1)});b=Ba(c.set.specificity);if(c.set.edge||c.set.shift)c.date["beginningOf"+b]();"month"===c.set.specificity&&(h=c.date.clone()["endOf"+b]().getTime());!f&&(c.set.sign&&"millisecond"!=c.set.specificity)&&(r=50,l=-50)}f=a.getTime();b=c.date.getTime();h=ya(a,b,h||b+k);return f>=b-r&&f<=h+l}function ya(a,b,g){b=new ga(b);a=(new ga(g)).utc(a.isUTC());23!==C(a,"Hours")&&(b=b.getTimezoneOffset(),a=a.getTimezoneOffset(),b!==a&&(g+=(a-b).minutes()));return g}function Wa(a,b,g,e,d){function c(a){return b[a]!==
fa?b[a]:b[a+"s"]}function f(a){return c(a)!==fa}var h,k;if(Ma(b)&&e)b={milliseconds:b};else if(Ma(b))return a.setTime(b),a;b.date!==fa&&(b.day=b.date);Ga(function(e,d,c){var h="day"===e;if(f(e)||h&&f("weekday"))return b.specificity=e,k=+c,!1;if(g&&"week"!==e&&(!h||!f("week")))B(a,d.method,h?1:0)});Gb.forEach(function(g,d){var h=g.name,k=g.method,r;r=c(h);r!==fa&&(e?("week"===h&&(r=(b.day||0)+7*r,k="Date"),r=r*e+C(a,k)):"month"===h&&f("day")&&B(a,"Date",15),B(a,k,r),e&&"month"===h&&(h=r,0>h&&(h=h%
12+12),h%12!=C(a,"Month")&&B(a,"Date",0)))});!e&&(!f("day")&&f("weekday"))&&(h=c("weekday"),a.setWeekday(h));a:{switch(d){case -1:h=a>W();break a;case 1:h=a<W();break a}h=void 0}h&&Ga(function(b,g){if((g.ambiguous||"week"===b&&f("weekday"))&&!(f(b)||"day"===b&&f("weekday")))return a[g.addMethod](d),!1},k+1);return a}function Va(a,b,g){var e={h:0,m:1,s:2},d;b=b||Ha;return a.replace(/{([a-z])}/g,function(a,c){var f=[],h="h"===c,k=h&&!g;if("t"===c)return b.ampm.join("|");h&&f.push(":");(d=b.timeSuffixes[e[c]])&&
f.push(d+"\\s*");return 0===f.length?"":"(?:"+f.join("|")+")"+(k?"":"?")})}function Ca(a,b,g){var e,d;Ma(a[1])?e=U(a)[0]:(e=a[0],d=a[1]);return db(e,d,b,g).date}function tb(a,b){function g(){return wb(this*b)}function e(){return Ca(arguments)[a.addMethod](this)}function d(){return Ca(arguments)[a.addMethod](-this)}var c=a.name,f={};f[c]=g;f[c+"s"]=g;f[c+"Before"]=d;f[c+"sBefore"]=d;f[c+"Ago"]=d;f[c+"sAgo"]=d;f[c+"After"]=e;f[c+"sAfter"]=e;f[c+"FromNow"]=e;f[c+"sFromNow"]=e;$a.extend(f)}function Oa(a,
b,g,e,d){Infinity!==b&&(a.timers||(a.timers=[]),Ma(b)||(b=1),a._canceled=!1,a.timers.push(setTimeout(function(){a._canceled||g.apply(e,d||[])},b)))}function ec(a,b,g,e,d,c){var f=a.toFixed(20),h=f.search(/\./),f=f.search(/[1-9]/),h=h-f;0<h&&(h-=1);d=Ab(xc(Ja(h/3),!1===d?g.length:d),-e);e=g.charAt(d+e-1);-9>h&&(d=-3,b=mb(h)-9,e=g.slice(0,1));g=c?qb(2,10*d):qb(10,3*d);return F(a/g,b||0).format()+e.trim()}function fc(a,b,g,e){var d,c,f;(c=b.match(/^(.+?)(\[.*\])$/))?(f=c[1],b=c[2].replace(/^\[|\]$/g,
"").split("]["),b.forEach(function(b){d=!b||b.match(/^\d+$/);!f&&Sa(a)&&(f=a.length);m(a,f)||(a[f]=d?[]:{});a=a[f];f=b}),!f&&d&&(f=a.length.toString()),fc(a,f,g,e)):a[b]=e&&"true"===g?!0:e&&"false"===g?!1:g}function pc(a,b){var g;return Sa(b)||l(b)&&b.toString===pb?(g=[],v(b,function(b,e){a&&(b=a+"["+b+"]");g.push(pc(b,e))}),g.join("&")):!a?"":Sb(a)+"="+(Za(b)?b.getTime():Sb(b))}function Sb(a){return!a&&!1!==a&&0!==a?"":encodeURIComponent(a).replace(/%20/g,"+")}function qc(a,b,g){var e,d=a instanceof
K?new K:{};v(a,function(a,c){e=!1;p(b,function(b){b=cb(b)?b.test(a):l(b)?m(b,a):a===sa(b);b&&(e=!0)},1);e===g&&(d[a]=c)});return d}function kb(a,b){this.start=Tb(a);this.end=Tb(b)}function Tb(a){return Za(a)?new ga(a.getTime()):null==a?a:Za(a)?a.getTime():a.valueOf()}function Ub(a){a=null==a?a:Za(a)?a.getTime():a.valueOf();return!!a||0===a}function Xa(a,b){var g,e,d,c;if(Ma(b))return new ga(a.getTime()+b);g=b[0];e=b[1];d=C(a,e);c=new ga(a.getTime());B(c,e,d+g);return c}function Hb(a,b){return sa.fromCharCode(a.charCodeAt(0)+
b)}function gc(a,b){return a+b}function Lb(a){a=+a;if(0>a||Infinity===a)throw new RangeError("Invalid number");return a}function Bb(a,b){return y(b!==fa?b:" ",a)}function hc(a,b,g,e,d){var c;if(a.length<=b)return a.toString();e=e===fa?"...":e;switch(g){case "left":return a=d?vb(a,b,!0):a.slice(a.length-b),e+a;case "middle":return g=za(b/2),c=Ja(b/2),b=d?vb(a,g):a.slice(0,g),a=d?vb(a,c,!0):a.slice(a.length-c),b+e+a;default:return b=d?vb(a,b):a.slice(0,b),b+e}}function vb(a,b,g){if(g)return vb(a.reverse(),
b).reverse();g=ua("(?=["+H()+"])");var e=0;return a.split(g).filter(function(a){e+=a.length;return e<=b}).join("")}function ub(a,b,g){va(b)&&(b=a.indexOf(b),-1===b&&(b=g?a.length:0));return b}var ka=Object,la=Array,ua=RegExp,ga=Date,sa=String,$a=Number,ab=Math,fa,Mb="undefined"!==typeof global?global:this,pb=ka.prototype.toString,kc=ka.prototype.hasOwnProperty,Pb=ka.defineProperty&&ka.defineProperties,Xb="function"===typeof ua(),Dc=!("0"in new sa("a")),Ob={},Yb=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,
bb="Boolean Number String Array Date RegExp Function".split(" "),xb=q("boolean",bb[0]),Ma=q("number",bb[1]),va=q("string",bb[2]),Sa=d(bb[3]),Za=d(bb[4]),cb=d(bb[5]),Ua=d(bb[6]);K.prototype.constructor=ka;var mb=ab.abs,qb=ab.pow,za=ab.ceil,Ja=ab.floor,wb=ab.round,xc=ab.min,Ab=ab.max,lc=48,yb=57,mc=65296,$b=65305,Ib=".",Aa="",rb={},La;(function(){c(ka);v(bb,function(a,b){c(Mb[b])})})();(function(){var a,b;for(b=0;9>=b;b++)a=sa.fromCharCode(b+mc),Aa+=a,rb[a]=sa.fromCharCode(b+lc);rb[","]="";rb["\uff0e"]=
Ib;rb[Ib]=Ib;La=ua("["+Aa+"\uff0e,"+Ib+"]","g")})();f(ka,!1,!1,{keys:function(a){var b=[];if(!l(a)&&!cb(a)&&!Ua(a))throw new TypeError("Object required");v(a,function(a,g){b.push(a)});return b}});f(la,!1,!1,{isArray:function(a){return Sa(a)}});f(la,!0,!1,{every:function(a,b){var g=this.length,e=0;for(X(arguments);e<g;){if(e in this&&!a.call(b,this[e],e,this))return!1;e++}return!0},some:function(a,b){var g=this.length,e=0;for(X(arguments);e<g;){if(e in this&&a.call(b,this[e],e,this))return!0;e++}return!1},
map:function(a,b){b=arguments[1];var g=this.length,e=0,d=Array(g);for(X(arguments);e<g;)e in this&&(d[e]=a.call(b,this[e],e,this)),e++;return d},filter:function(a){var b=arguments[1],g=this.length,e=0,d=[];for(X(arguments);e<g;)e in this&&a.call(b,this[e],e,this)&&d.push(this[e]),e++;return d},indexOf:function(a,b){return va(this)?this.indexOf(a,b):O(this,a,b,1)},lastIndexOf:function(a,b){return va(this)?this.lastIndexOf(a,b):O(this,a,b,-1)},forEach:function(a,b){var g=this.length,e=0;for(n(a);e<
g;)e in this&&a.call(b,this[e],e,this),e++},reduce:function(a,b){return R(this,a,b)},reduceRight:function(a,b){return R(this,a,b,!0)}});f(Function,!0,!1,{bind:function(a){var b=this,g=h(arguments,null,1),e;if(!Ua(this))throw new TypeError("Function.prototype.bind called on a non-function");e=function(){return b.apply(b.prototype&&this instanceof b?this:a,g.concat(h(arguments)))};e.prototype=this.prototype;return e}});f(ga,!1,!1,{now:function(){return(new ga).getTime()}});(function(){var a=H().match(/^\s+$/);
try{sa.prototype.trim.call([1])}catch(b){a=!1}f(sa,!0,!a,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(ua("^["+H()+"]+"),"")},trimRight:function(){return this.replace(ua("["+H()+"]+$"),"")}})})();(function(){var a=new ga(ga.UTC(1999,11,31)),a=a.toISOString&&"1999-12-31T00:00:00.000Z"===a.toISOString();b(ga,!0,!a,"toISOString,toJSON",function(a,b){a[b]=function(){return M(this.getUTCFullYear(),4)+"-"+M(this.getUTCMonth()+1,2)+"-"+M(this.getUTCDate(),
2)+"T"+M(this.getUTCHours(),2)+":"+M(this.getUTCMinutes(),2)+":"+M(this.getUTCSeconds(),2)+"."+M(this.getUTCMilliseconds(),3)+"Z"}})})();var da="AlphanumericSortOrder",Db="AlphanumericSortIgnore",Eb="AlphanumericSortIgnoreCase",Ec="AlphanumericSortEquivalents",Zb="AlphanumericSortNatural";f(la,!1,!0,{create:function(){var a=[];h(arguments,function(b){if(!t(b)&&"length"in b&&("[object Arguments]"===pb.call(b)||b.callee)||!t(b)&&"length"in b&&!va(b)&&!u(b))b=la.prototype.slice.call(b,0);a=a.concat(b)});
return a}});f(la,!0,!1,{find:function(a,b){n(a);return ra(this,a,0,!1,!1,b)},findIndex:function(a,b){var g;n(a);g=ra(this,a,0,!1,!0,b);return g===fa?-1:g}});f(la,!0,!0,{findFrom:function(a,b,g){return ra(this,a,b,g)},findIndexFrom:function(a,b,g){b=ra(this,a,b,g,!0);return b===fa?-1:b},findAll:function(a,b,g){var e=[],d;0<this.length&&(d=ja(a),qa(this,function(a,b,g){d(a,b,g)&&e.push(a)},b,g));return e},count:function(a){return a===fa?this.length:this.findAll(a).length},removeAt:function(a,b){if(a===
fa)return this;b===fa&&(b=a);this.splice(a,b-a+1);return this},include:function(a,b){return this.clone().add(a,b)},exclude:function(){return la.prototype.remove.apply(this.clone(),arguments)},clone:function(){return A([],this)},unique:function(a){return r(this,a)},flatten:function(a){return g(this,a)},union:function(){return r(this.concat(E(arguments)))},intersect:function(){return z(this,E(arguments),!1)},subtract:function(a){return z(this,E(arguments),!0)},at:function(){return V(this,arguments)},
first:function(a){if(a===fa)return this[0];0>a&&(a=0);return this.slice(0,a)},last:function(a){return a===fa?this[this.length-1]:this.slice(0>this.length-a?0:this.length-a)},from:function(a){return this.slice(a)},to:function(a){a===fa&&(a=this.length);return this.slice(0,a)},min:function(a,b){return ea(this,a,"min",b)},max:function(a,b){return ea(this,a,"max",b)},least:function(a,b){return ea(this.groupBy.apply(this,[a]),"length","min",b)},most:function(a,b){return ea(this.groupBy.apply(this,[a]),
"length","max",b)},sum:function(a){a=a?this.map(a):this;return 0<a.length?a.reduce(function(a,b){return a+b}):0},average:function(a){a=a?this.map(a):this;return 0<a.length?a.sum()/a.length:0},inGroups:function(a,b){var g=1<arguments.length,e=this,d=[],c=za(this.length/a);x(a,function(a){a*=c;var f=e.slice(a,a+c);g&&f.length<c&&x(c-f.length,function(){f=f.add(b)});d.push(f)});return d},inGroupsOf:function(a,b){var g=[],e=this.length,d=this,c;if(0===e||0===a)return d;a===fa&&(a=1);b===fa&&(b=null);
x(za(e/a),function(e){for(c=d.slice(a*e,a*e+a);c.length<a;)c.push(b);g.push(c)});return g},isEmpty:function(){return 0==this.compact().length},sortBy:function(a,b){var g=this.clone();g.sort(function(e,d){var c,f;c=na(e,a,g,[e]);f=na(d,a,g,[d]);return(va(c)&&va(f)?ca(c,f):c<f?-1:c>f?1:0)*(b?-1:1)});return g},randomize:function(){for(var a=this.concat(),b=a.length,g,e;b;)g=ab.random()*b|0,e=a[--b],a[b]=a[g],a[g]=e;return a},zip:function(){var a=h(arguments);return this.map(function(b,g){return[b].concat(a.map(function(a){return g in
a?a[g]:null}))})},sample:function(a){var b=this.randomize();return 0<arguments.length?b.slice(0,a):b[0]},each:function(a,b,g){qa(this,a,b,g);return this},add:function(a,b){if(!Ma($a(b))||isNaN(b))b=this.length;la.prototype.splice.apply(this,[b,0].concat(a));return this},remove:function(){var a=this;h(arguments,function(b){var g=0;for(b=ja(b);g<a.length;)b(a[g],g,a)?a.splice(g,1):g++});return a},compact:function(a){var b=[];qa(this,function(g,e){Sa(g)?b.push(g.compact()):a&&g?b.push(g):!a&&(null!=
g&&g.valueOf()===g.valueOf())&&b.push(g)});return b},groupBy:function(a,b){var g=this,e={},d;qa(g,function(b,c){d=na(b,a,g,[b,c,g]);e[d]||(e[d]=[]);e[d].push(b)});b&&v(e,b);return e},none:function(){return!this.any.apply(this,arguments)}});f(la,!0,!0,{all:la.prototype.every,any:la.prototype.some,insert:la.prototype.add});f(ka,!1,!0,{map:function(a,b){var g={},e,d;for(e in a)m(a,e)&&(d=a[e],g[e]=na(d,b,a,[e,d,a]));return g},reduce:function(a){var b=ka.keys(s(a)).map(function(b){return a[b]});return b.reduce.apply(b,
h(arguments,null,1))},each:function(a,b){n(b);v(a,b);return a},size:function(a){return ka.keys(s(a)).length}});var Vb="any all none count find findAll isEmpty".split(" "),ic="sum average min max least most".split(" "),Wb=["map","reduce","size"],Nb=Vb.concat(ic).concat(Wb);(function(){var a=la.prototype.map,g=function(){var a=arguments;return 0<a.length&&!Ua(a[0])};b(la,!0,g,"every,all,some,filter,any,none,find,findIndex",function(a,b){var g=la.prototype[b];a[b]=function(a){var b=ja(a);return g.call(this,
function(a,g){return b(a,g,this)})}});f(la,!0,g,{map:function(b){return a.call(this,function(a,g){return na(a,b,this,[a,g,this])})}})})();(function(){la[da]="A\u00c1\u00c0\u00c2\u00c3\u0104BC\u0106\u010c\u00c7D\u010e\u00d0E\u00c9\u00c8\u011a\u00ca\u00cb\u0118FG\u011eH\u0131I\u00cd\u00cc\u0130\u00ce\u00cfJKL\u0141MN\u0143\u0147\u00d1O\u00d3\u00d2\u00d4PQR\u0158S\u015a\u0160\u015eT\u0164U\u00da\u00d9\u016e\u00db\u00dcVWXY\u00ddZ\u0179\u017b\u017d\u00de\u00c6\u0152\u00d8\u00d5\u00c5\u00c4\u00d6".split("").map(function(a){return a+
a.toLowerCase()}).join("");var a={};qa("A\u00c1\u00c0\u00c2\u00c3\u00c4 C\u00c7 E\u00c9\u00c8\u00ca\u00cb I\u00cd\u00cc\u0130\u00ce\u00cf O\u00d3\u00d2\u00d4\u00d5\u00d6 S\u00df U\u00da\u00d9\u00db\u00dc".split(" "),function(b){var g=b.charAt(0);qa(b.slice(1).split(""),function(b){a[b]=g;a[b.toLowerCase()]=g.toLowerCase()})});la[Zb]=!0;la[Eb]=!0;la[Ec]=a})();ia(Vb);ia(ic,!0);L(Wb,K);la.AlphanumericSort=ca;var Ha,Ya,oc="ampm hour minute second ampm utc offset_sign offset_hours offset_minutes ampm".split(" "),
tc="({t})?\\s*(\\d{1,2}(?:[,.]\\d+)?)(?:{h}([0-5]\\d(?:[,.]\\d+)?)?{m}(?::?([0-5]\\d(?:[,.]\\d+)?){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",Jb={},dc,uc,cc,ac=[],wc={},Ea={yyyy:function(a){return C(a,"FullYear")},yy:function(a){return C(a,"FullYear")%100},ord:function(a){a=C(a,"Date");return a+J(a)},tz:function(a){return a.getUTCOffset()},isotz:function(a){return a.getUTCOffset(!0)},Z:function(a){return a.getUTCOffset()},ZZ:function(a){return a.getUTCOffset().replace(/(\d{2})$/,
":$1")}},Gb=[{name:"year",method:"FullYear",ambiguous:!0,multiplier:function(a){return 864E5*(365+(a?a.isLeapYear()?1:0:0.25))}},{name:"month",error:0.919,method:"Month",ambiguous:!0,multiplier:function(a,b){var g=30.4375,e;a&&(e=a.daysInMonth(),b<=e.days()&&(g=e));return 864E5*g}},{name:"week",method:"ISOWeek",multiplier:function(){return 6048E5}},{name:"day",error:0.958,method:"Date",ambiguous:!0,multiplier:function(){return 864E5}},{name:"hour",method:"Hours",multiplier:function(){return 36E5}},
{name:"minute",method:"Minutes",multiplier:function(){return 6E4}},{name:"second",method:"Seconds",multiplier:function(){return 1E3}},{name:"millisecond",method:"Milliseconds",multiplier:function(){return 1}}],Fb={};Q.prototype={getMonth:function(a){return Ma(a)?a-1:this.months.indexOf(a)%12},getWeekday:function(a){return this.weekdays.indexOf(a)%7},getNumber:function(a){var b;return Ma(a)?a:a&&-1!==(b=this.numbers.indexOf(a))?(b+1)%10:1},getNumericDate:function(a){var b=this;return a.replace(ua(this.num,
"g"),function(a){return b.getNumber(a)||""})},getUnitIndex:function(a){return this.units.indexOf(a)%8},getRelativeFormat:function(a){return this.convertAdjustedToFormat(a,0<a[2]?"future":"past")},getDuration:function(a){return this.convertAdjustedToFormat(hb(a),"duration")},hasVariant:function(a){a=a||this.code;return"en"===a||"en-US"===a?!0:this.variant},matchAM:function(a){return a===this.ampm[0]},matchPM:function(a){return a&&a===this.ampm[1]},convertAdjustedToFormat:function(a,b){var g,e,d=a[0],
c=a[1],f=a[2],h=this[b]||this.relative;if(Ua(h))return h.call(this,d,c,f,b);e=this.units[8*(this.plural&&1<d?1:0)+c]||this.units[c];this.capitalizeUnit&&(e=Ba(e));g=this.modifiers.filter(function(a){return"sign"==a.name&&a.value==(0<f?1:-1)})[0];return h.replace(/\{(.*?)\}/g,function(a,b){switch(b){case "num":return d;case "unit":return e;case "sign":return g.src}})},getFormats:function(){return this.cachedFormat?[this.cachedFormat].concat(this.compiledFormats):this.compiledFormats},addFormat:function(a,
b,g,e,d){var c=g||[],f=this,h;a=a.replace(/\s+/g,"[,. ]*");a=a.replace(/\{([^,]+?)\}/g,function(a,b){var e,d,h,k=b.match(/\?$/);h=b.match(/^(\d+)\??$/);var r=b.match(/(\d)(?:-(\d))?/),l=b.replace(/[^a-z]+$/,"");h?e=f.tokens[h[1]]:f[l]?e=f[l]:f[l+"s"]&&(e=f[l+"s"],r&&(d=[],e.forEach(function(a,b){var g=b%(f.units?8:e.length);g>=r[1]&&g<=(r[2]||r[1])&&d.push(a)}),e=d),e=Da(e));h?h="(?:"+e+")":(g||c.push(l),h="("+e+")");k&&(h+="?");return h});b?(b=Va(tc,f,d),d=["t","[\\s\\u3000]"].concat(f.timeMarker),
h=a.match(/\\d\{\d,\d\}\)+\??$/),T(f,"(?:"+b+")[,\\s\\u3000]+?"+a,oc.concat(c),e),T(f,a+"(?:[,\\s]*(?:"+d.join("|")+(h?"+":"*")+")"+b+")?",c.concat(oc),e)):T(f,a,c,e)}};f(ga,!1,!0,{create:function(){return Ca(arguments)},past:function(){return Ca(arguments,-1)},future:function(){return Ca(arguments,1)},addLocale:function(a,b){return ba(a,b)},setLocale:function(a,b){var g=Fa(a,!1);Ya=g;a&&a!=g.code&&(g.code=a);return g},getLocale:function(a){return!a?Ya:Fa(a,!1)},addFormat:function(a,b,g){T(Fa(g),
a,b)}});f(ga,!0,!0,{set:function(){var a=U(arguments);return Wa(this,a[0],a[1])},setWeekday:function(a){if(a!==fa)return B(this,"Date",C(this,"Date")+a-C(this,"Day"))},setISOWeek:function(a){var b=C(this,"Day")||7;if(a!==fa)return this.set({month:0,date:4}),this.set({weekday:1}),1<a&&this.addWeeks(a-1),1!==b&&this.advance({days:b-1}),this.getTime()},getISOWeek:function(){var a;a=this.clone();var b=C(a,"Day")||7;a.addDays(4-b).reset();return 1+Ja(a.daysSince(a.clone().beginningOfYear())/7)},beginningOfISOWeek:function(){var a=
this.getDay();0===a?a=-6:1!==a&&(a=1);this.setWeekday(a);return this.reset()},endOfISOWeek:function(){0!==this.getDay()&&this.setWeekday(7);return this.endOfDay()},getUTCOffset:function(a){var b=this._utc?0:this.getTimezoneOffset();return!b&&a?"Z":M(Ja(-b/60),2,!0)+(!0===a?":":"")+M(mb(b%60),2)},utc:function(a){e(this,"_utc",!0===a||0===arguments.length);return this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var a=U(arguments,!0);return Wa(this,a[0],a[1],
1)},rewind:function(){var a=U(arguments,!0);return Wa(this,a[0],a[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(a,b,g){return this.getTime()>ga.create(a).getTime()-(b||0)},isBefore:function(a,b){return this.getTime()<ga.create(a).getTime()+(b||0)},isBetween:function(a,b,g){var e=this.getTime();a=ga.create(a).getTime();var d=ga.create(b).getTime();b=xc(a,d);a=Ab(a,d);g=g||0;return b-g<e&&a+g>e},isLeapYear:function(){var a=C(this,"FullYear");return 0===a%4&&0!==a%100||0===
a%400},daysInMonth:function(){return 32-C(new ga(C(this,"FullYear"),C(this,"Month"),32),"Date")},format:function(a,b){return Ra(this,a,!1,b)},relative:function(a,b){va(a)&&(b=a,a=null);return Ra(this,a,!0,b)},is:function(a,b,g){var e,d;if(this.isValid()){if(va(a))switch(a=a.trim().toLowerCase(),d=this.clone().utc(g),!0){case "future"===a:return this.getTime()>W().getTime();case "past"===a:return this.getTime()<W().getTime();case "weekday"===a:return 0<C(d,"Day")&&6>C(d,"Day");case "weekend"===a:return 0===
C(d,"Day")||6===C(d,"Day");case -1<(e=Ha.weekdays.indexOf(a)%7):return C(d,"Day")===e;case -1<(e=Ha.months.indexOf(a)%12):return C(d,"Month")===e}return jb(this,a,null,b,g)}},reset:function(a){var b={},g;a=a||"hours";"date"===a&&(a="days");g=Gb.some(function(b){return a===b.name||a===b.name+"s"});b[a]=a.match(/^days?/)?1:0;return g?this.set(b,!0):this},clone:function(){var a=new ga(this.getTime());a.utc(!!this._utc);return a}});f(ga,!0,!0,{iso:function(){return this.toISOString()},getWeekday:ga.prototype.getDay,
getUTCWeekday:ga.prototype.getUTCDay});f($a,!0,!0,{duration:function(a){return Fa(a).getDuration(this)}});Ha=Ya=ga.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of",
"short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},
{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:"{num} {unit} {sign};{sign} {num} {unit};{0} {num}{1} {day} of {month} {year?};{weekday?} {month} {date}{1?} {year?};{date} {month} {year};{date} {month};{shift} {weekday};{shift} week {weekday};{weekday} {2?} {shift} week;{num} {unit=4-5} {sign} {day};{0?} {date}{1} of {month};{0?}{month?} {date?}{1?} of {shift} {unit=6-7}".split(";")});
cc=Gb.concat().reverse();uc=Gb.concat();uc.splice(2,1);(function(){b(ga,!0,!0,Gb,function(a,b,g){function e(a){a/=f;var g=a%1,d=b.error||0.999;g&&mb(g%1)>d&&(a=wb(a));return 0>a?za(a):Ja(a)}var d=b.name,c=Ba(d),f=b.multiplier(),h,r;b.addMethod="add"+c+"s";h=function(a,b){return e(this.getTime()-ga.create(a,b).getTime())};r=function(a,b){return e(ga.create(a,b).getTime()-this.getTime())};a[d+"sAgo"]=r;a[d+"sUntil"]=r;a[d+"sSince"]=h;a[d+"sFromNow"]=h;a[b.addMethod]=function(a,b){var g={};g[d]=a;return this.advance(g,
b)};tb(b,f);3>g&&["Last","This","Next"].forEach(function(b){a["is"+b+c]=function(){return jb(this,b+" "+d,"en")}});4>g&&(a["beginningOf"+c]=function(){var a={};switch(d){case "year":a.year=C(this,"FullYear");break;case "month":a.month=C(this,"Month");break;case "day":a.day=C(this,"Date");break;case "week":a.weekday=0}return this.set(a,!0)},a["endOf"+c]=function(){var a={hours:23,minutes:59,seconds:59,milliseconds:999};switch(d){case "year":a.month=11;a.day=31;break;case "month":a.day=this.daysInMonth();
break;case "week":a.weekday=6}return this.set(a,!0)})})})();Ha.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0);Ha.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0);Ha.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]);Ha.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]);Ha.addFormat(Va(tc,Ha),!1,oc);ac=Ha.compiledFormats.slice(0,7).reverse();Ha.compiledFormats=Ha.compiledFormats.slice(7).concat(ac);
(function(){Qa("f",function(a){return C(a,"Milliseconds")},!0);Qa("s",function(a){return C(a,"Seconds")});Qa("m",function(a){return C(a,"Minutes")});Qa("h",function(a){return C(a,"Hours")%12||12});Qa("H",function(a){return C(a,"Hours")});Qa("d",function(a){return C(a,"Date")});Qa("M",function(a){return C(a,"Month")+1});ob();ib();fb("mon",0,3);fb("month",0);fb("month2",1);fb("month3",2);Ea.ms=Ea.f;Ea.milliseconds=Ea.f;Ea.seconds=Ea.s;Ea.minutes=Ea.m;Ea.hours=Ea.h;Ea["24hr"]=Ea.H;Ea["12hr"]=Ea.h;Ea.date=
Ea.d;Ea.day=Ea.d;Ea.year=Ea.yyyy})();(function(){b(ga,!0,!0,"short,long,full",function(a,b){a[b]=function(a){return Ra(this,b,!1,a)}})})();(function(){"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07".split("").forEach(function(a,b){9<b&&(b=qb(10,b-9));Jb[a]=b});A(Jb,rb);dc=ua("([\u671f\u9031\u5468])?([\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d\u5341\u767e\u5343\u4e07"+Aa+"]+)(?!\u6628)","g")})();(function(){var a=Ha.weekdays.slice(0,7),g=Ha.months.slice(0,
12);b(ga,!0,!0,"today yesterday tomorrow weekday weekend future past".split(" ").concat(a).concat(g),function(a,b){a["is"+Ba(b)]=function(a){return this.is(b,0,a)}})})();(function(){ga.utc||(ga.utc={create:function(){return Ca(arguments,0,!0)},past:function(){return Ca(arguments,-1,!0)},future:function(){return Ca(arguments,1,!0)}})})();f(ga,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"});
f(Function,!0,!0,{lazy:function(a,b,g){function e(){c.length<g-(f&&b?1:0)&&c.push([this,arguments]);f||(f=!0,b?h():Oa(e,r,h));return l}var d=this,c=[],f=!1,h,r,k,l;a=a||1;g=g||Infinity;r=za(a);k=wb(r/a)||1;h=function(){var a=c.length,b;if(0!=a){for(b=Ab(a-k,0);a>b;)l=Function.prototype.apply.apply(d,c.shift()),a--;Oa(e,r,function(){f=!1;h()})}};return e},throttle:function(a){return this.lazy(a,!0,1)},debounce:function(a){function b(){b.cancel();Oa(b,a,g,this,arguments)}var g=this;return b},delay:function(a){var b=
h(arguments,null,1);Oa(this,a,this,this,b);return this},every:function(a){function b(){g.apply(g,e);Oa(g,a,b)}var g=this,e=arguments,e=1<e.length?h(e,null,1):[];Oa(g,a,b);return g},cancel:function(){var a=this.timers,b;if(Sa(a))for(;b=a.shift();)clearTimeout(b);this._canceled=!0;return this},after:function(a){var b=this,g=0,e=[];if(Ma(a)){if(0===a)return b.call(),b}else a=1;return function(){var d;e.push(h(arguments));g++;if(g==a)return d=b.call(this,e),g=0,e=[],d}},once:function(){return this.throttle(Infinity,
!0)},fill:function(){var a=this,b=h(arguments);return function(){var g=h(arguments);b.forEach(function(a,b){(null!=a||b>=g.length)&&g.splice(b,0,a)});return a.apply(this,g)}}});f($a,!1,!0,{random:function(a,b){var g,e;1==arguments.length&&(b=a,a=0);g=xc(a||0,b===fa?1:b);e=Ab(a||0,b===fa?1:b)+1;return Ja(ab.random()*(e-g)+g)}});f($a,!0,!0,{log:function(a){return ab.log(this)/(a?ab.log(a):1)},abbr:function(a){return ec(this,a,"kmbt",0,4)},metric:function(a,b){return ec(this,a,"n\u03bcm kMGTPE",4,b===
fa?1:b)},bytes:function(a,b){return ec(this,a,"kMGTPE",0,b===fa?4:b,!0)+"B"},isInteger:function(){return 0==this%1},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(a){return 0===this%a},format:function(a,b,g){var e,d,c,f="";b===fa&&(b=",");g===fa&&(g=".");e=(Ma(a)?F(this,a||0).toFixed(Ab(a,0)):this.toString()).replace(/^-/,"").split(".");d=e[0];c=e[1];for(e=d.length;0<e;e-=3)e<d.length&&(f=b+f),f=d.slice(Ab(0,e-3),e)+
f;c&&(f+=g+y("0",(a||0)-c.length)+c);return(0>this?"-":"")+f},hex:function(a){return this.pad(a||1,!1,16)},times:function(a){if(a)for(var b=0;b<this;b++)a.call(this,b);return this.toNumber()},chr:function(){return sa.fromCharCode(this)},pad:function(a,b,g){return M(this,a,b,g)},ordinalize:function(){var a=mb(this),a=parseInt(a.toString().slice(-2));return this+J(a)},toNumber:function(){return parseFloat(this,10)}});(function(){function a(b){return function(a){return a?F(this,a,b):b(this)}}f($a,!0,
!0,{ceil:a(za),round:a(wb),floor:a(Ja)});b($a,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(a,b){a[b]=function(a,g){return ab[b](this,a,g)}})})();var jc=["isObject","isNaN"],yc="keys values select reject each merge clone equal watch tap has toQueryString".split(" ");f(ka,!1,!0,{watch:function(a,b,g){if(Pb){var e=a[b];ka.defineProperty(a,b,{enumerable:!0,configurable:!0,get:function(){return e},set:function(d){e=g.call(a,b,e,d)}})}}});f(ka,!1,function(){return 1<arguments.length},
{keys:function(a,b){var g=ka.keys(a);g.forEach(function(g){b.call(a,g,a[g])});return g}});f(ka,!1,!0,{isObject:function(a){return u(a)},isNaN:function(a){return Ma(a)&&a.valueOf()!==a.valueOf()},equal:function(a,b){return D(a,b)},extended:function(a){return new K(a)},merge:function(a,b,g,e){var d,c,f;if(a&&"string"!==typeof b)for(d in b)if(m(b,d)&&a){c=b[d];f=g&&l(c);if(a[d]!==fa){if(!1===e&&!f)continue;Ua(e)&&(c=e.call(b,d,a[d],b[d]))}if(f)if(Za(c))c=new ga(c.getTime());else if(cb(c))c=new ua(c.source,
w(c));else{a[d]||(a[d]=la.isArray(c)?[]:{});ka.merge(a[d],b[d],g,e);continue}a[d]=c}return a},values:function(a,b){var g=[];v(a,function(e,d){g.push(d);b&&b.call(a,d)});return g},clone:function(a,b){var g;if(!l(a))return a;g=pb.call(a);if(Za(a,g)&&a.clone)return a.clone();if(Za(a,g)||cb(a,g))return new a.constructor(a);if(a instanceof K)g=new K;else if(Sa(a,g))g=[];else if(u(a,g))g={};else throw new TypeError("Clone must be a basic data type.");return ka.merge(g,a,b)},fromQueryString:function(a,b){var g=
ka.extended();a=a&&a.toString?a.toString():"";a.replace(/^.*?\?/,"").split("&").forEach(function(a){a=a.split("=");2===a.length&&fc(g,a[0],decodeURIComponent(a[1]),b)});return g},toQueryString:function(a,b){return pc(b,a)},tap:function(a,b){var g=b;Ua(b)||(g=function(){if(b)a[b]()});g.call(a,a);return a},has:function(a,b){return m(a,b)},select:function(a){return qc(a,arguments,!0)},reject:function(a){return qc(a,arguments,!1)}});(function(){b(ka,!1,!0,bb,function(a,b){var g="is"+b;jc.push(g);a[g]=
Ob[b]})})();(function(){f(ka,!1,function(){return 0===arguments.length},{extend:function(){var a=jc.concat(yc);"undefined"!==typeof Nb&&(a=a.concat(Nb));L(a,ka)}})})();L(yc,K);kb.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"};f(kb,!0,!0,{isValid:function(){return Ub(this.start)&&Ub(this.end)&&typeof this.start===typeof this.end},span:function(){return this.isValid()?mb((va(this.end)?this.end.charCodeAt(0):this.end)-(va(this.start)?this.start.charCodeAt(0):
this.start))+1:NaN},contains:function(a){return null==a?!1:a.start&&a.end?a.start>=this.start&&a.start<=this.end&&a.end>=this.start&&a.end<=this.end:a>=this.start&&a<=this.end},every:function(a,b){var g,e=this.start,d=this.end,c=d<e,f=e,h=0,r=[];Ua(a)&&(b=a,a=null);a=a||1;Ma(e)?g=gc:va(e)?g=Hb:Za(e)&&(g=a,Ma(g)?a=g:(e=g.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),g=parseInt(e[1])||1,e=e[2].slice(0,1).toUpperCase()+e[2].slice(1),e.match(/hour|minute|second/i)?e+="s":"Year"===e?e="FullYear":"Day"===
e&&(e="Date"),a=[g,e]),g=Xa);for(c&&0<a&&(a*=-1);c?f>=d:f<=d;)r.push(f),b&&b(f,h),f=g(f,a),h++;return r},union:function(a){return new kb(this.start<a.start?this.start:a.start,this.end>a.end?this.end:a.end)},intersect:function(a){return a.start>this.end||a.end<this.start?new kb(NaN,NaN):new kb(this.start>a.start?this.start:a.start,this.end<a.end?this.end:a.end)},clone:function(a){return new kb(this.start,this.end)},clamp:function(a){var b=this.start,g=this.end,e=g<b?g:b,b=b>g?b:g;return Tb(a<e?e:a>
b?b:a)}});[$a,sa,ga].forEach(function(a){f(a,!1,!0,{range:function(b,g){a.create&&(b=a.create(b),g=a.create(g));return new kb(b,g)}})});f($a,!0,!0,{upto:function(a,b,g){return $a.range(this,a).every(g,b)},clamp:function(a,b){return(new kb(a,b)).clamp(this)},cap:function(a){return this.clamp(fa,a)}});f($a,!0,!0,{downto:$a.prototype.upto});f(la,!1,function(a){return a instanceof kb},{create:function(a){return a.every()}});f(ua,!1,!0,{escape:function(a){return S(a)}});f(ua,!0,!0,{getFlags:function(){return w(this)},
setFlags:function(a){return ua(this.source,a)},addFlag:function(a){return this.setFlags(w(this,a))},removeFlag:function(a){return this.setFlags(w(this).replace(a,""))}});var zc,Ac;f(sa,!0,!1,{repeat:function(a){a=Lb(a);return y(this,a)}});f(sa,!0,function(a){return cb(a)||2<arguments.length},{startsWith:function(a){var b=arguments,g=b[1],b=b[2],e=this;g&&(e=e.slice(g));b===fa&&(b=!0);g=cb(a)?a.source.replace("^",""):S(a);return ua("^"+g,b?"":"i").test(e)},endsWith:function(a){var b=arguments,g=b[1],
b=b[2],e=this;g!==fa&&(e=e.slice(0,g));b===fa&&(b=!0);g=cb(a)?a.source.replace("$",""):S(a);return ua(g+"$",b?"":"i").test(e)}});f(sa,!0,!0,{escapeRegExp:function(){return S(this)},escapeURL:function(a){return a?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(a){return a?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,
"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return zc(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(Ac(this)))},each:function(a,b){var g,e,d;Ua(a)?(b=a,a=/[\s\S]/g):a?va(a)?a=ua(S(a),"gi"):cb(a)&&(a=ua(a.source,w(a,"g"))):a=/[\s\S]/g;g=this.match(a)||[];if(b){e=0;for(d=g.length;e<d;e++)g[e]=b.call(this,g[e],e,g)||g[e]}return g},shift:function(a){var b="";
a=a||0;this.codes(function(g){b+=sa.fromCharCode(g+a)});return b},codes:function(a){var b=[],g,e;g=0;for(e=this.length;g<e;g++){var d=this.charCodeAt(g);b.push(d);a&&a.call(this,d,g)}return b},chars:function(a){return this.each(a)},words:function(a){return this.trim().each(/\S+/g,a)},lines:function(a){return this.trim().each(/^.*$/gm,a)},paragraphs:function(a){var b=this.trim().split(/[\r\n]{2,}/);return b=b.map(function(b){if(a)var g=a.call(b);return g?g:b})},isBlank:function(){return 0===this.trim().length},
has:function(a){return-1!==this.search(cb(a)?a:S(a))},add:function(a,b){b=b===fa?this.length:b;return this.slice(0,b)+a+this.slice(b)},remove:function(a){return this.replace(a,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(a,b){return"\u3000"===b?b:" "})},at:function(){return V(this,arguments,!0)},from:function(a){return this.slice(ub(this,a,!0))},to:function(a){a===fa&&(a=this.length);return this.slice(0,
ub(this,a))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(sa.Inflector&&sa.Inflector.acronymRegExp,function(a,b){return(0<b?"_":"")+a.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(a){return this.underscore().replace(/(^|_)([^_]+)/g,function(b,g,e,d){b=(b=sa.Inflector)&&b.acronyms[e];b=va(b)?b:void 0;d=!1!==a||0<d;return b?d?b:b.toLowerCase():
d?e.capitalize():e})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var a=this;p(0<arguments.length?arguments:[""],function(b){a=a.replace(ua("</?"+S(b)+"[^<>]*>","gi"),"")});return a},removeTags:function(){var a=this;p(0<arguments.length?arguments:["\\S+"],function(b){b=ua("<("+b+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi");a=a.replace(b,"")});return a},truncate:function(a,b,g){return hc(this,a,b,g)},truncateOnWord:function(a,b,g){return hc(this,a,b,g,!0)},pad:function(a,
b){var g,e;a=Lb(a);g=Ab(0,a-this.length)/2;e=Ja(g);g=za(g);return Bb(e,b)+this+Bb(g,b)},padLeft:function(a,b){a=Lb(a);return Bb(Ab(0,a-this.length),b)+this},padRight:function(a,b){a=Lb(a);return this+Bb(Ab(0,a-this.length),b)},first:function(a){a===fa&&(a=1);return this.substr(0,a)},last:function(a){a===fa&&(a=1);return this.substr(0>this.length-a?0:this.length-a)},toNumber:function(a){return I(this,a)},capitalize:function(a){var b;return this.toLowerCase().replace(a?/[^']/g:/^\S/,function(a){var g=
a.toUpperCase(),e;e=b?a:g;b=g!==a;return e})},assign:function(){var a={};p(arguments,function(b,g){l(b)?A(a,b):a[g+1]=b});return this.replace(/\{([^{]+?)\}/g,function(b,g){return m(a,g)?a[g]:b})}});f(sa,!0,!0,{insert:sa.prototype.add});(function(a){if(Mb.btoa)zc=Mb.btoa,Ac=Mb.atob;else{var b=/[^A-Za-z0-9\+\/\=]/g;zc=function(b){var g="",e,d,c,f,h,r,k=0;do e=b.charCodeAt(k++),d=b.charCodeAt(k++),c=b.charCodeAt(k++),f=e>>2,e=(e&3)<<4|d>>4,h=(d&15)<<2|c>>6,r=c&63,isNaN(d)?h=r=64:isNaN(c)&&(r=64),g=g+
a.charAt(f)+a.charAt(e)+a.charAt(h)+a.charAt(r);while(k<b.length);return g};Ac=function(g){var e="",d,c,f,h,r,k=0;if(g.match(b))throw Error("String contains invalid base64 characters");g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=a.indexOf(g.charAt(k++)),c=a.indexOf(g.charAt(k++)),h=a.indexOf(g.charAt(k++)),r=a.indexOf(g.charAt(k++)),d=d<<2|c>>4,c=(c&15)<<4|h>>2,f=(h&3)<<6|r,e+=sa.fromCharCode(d),64!=h&&(e+=sa.fromCharCode(c)),64!=r&&(e+=sa.fromCharCode(f));while(k<g.length);return e}}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")})();
(function(d,q){function c(a){var b=a.length,e=g.type(a);return g.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===e||"function"!==e&&(0===b||"number"===typeof b&&0<b&&b-1 in a)}function f(a){var b=Fa[a]={};g.each(a.match(G)||[],function(a,g){b[g]=!0});return b}function b(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=g.expando+Math.random()}function k(a,b,g){if(g===q&&1===a.nodeType)if(g="data-"+b.replace(Da,"-$1").toLowerCase(),g=a.getAttribute(g),"string"===typeof g){try{g=
"true"===g?!0:"false"===g?!1:"null"===g?null:+g+""===g?+g:Ba.test(g)?JSON.parse(g):g}catch(e){}ba.set(a,b,g)}else g=q;return g}function a(){return!0}function e(){return!1}function h(){try{return P.activeElement}catch(a){}}function p(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function n(a,b,e){if(g.isFunction(b))return g.grep(a,function(a,g){return!!b.call(a,g,a)!==e});if(b.nodeType)return g.grep(a,function(a){return a===b!==e});if("string"===typeof b){if(hb.test(b))return g.filter(b,a,e);b=g.filter(b,
a)}return g.grep(a,function(a){return 0<=oa.call(b,a)!==e})}function m(a,b){return g.nodeName(a,"table")&&g.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function l(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function t(a){var b=Wa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function u(a,b){for(var g=a.length,e=0;e<g;e++)T.set(a[e],"globalEval",!b||T.get(b[e],"globalEval"))}
function v(a,b){var e,d,c,f;if(1===b.nodeType){if(T.hasData(a)&&(f=T.access(a),e=T.set(b,f),f=f.events))for(c in delete e.handle,e.events={},f){e=0;for(d=f[c].length;e<d;e++)g.event.add(b,c,f[c][e])}ba.hasData(a)&&(c=ba.access(a),c=g.extend({},c),ba.set(b,c))}}function x(a,b){var e=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return b===q||b&&g.nodeName(a,b)?g.merge([a],e):e}function A(a,b){if(b in a)return b;for(var g=b.charAt(0).toUpperCase()+
b.slice(1),e=b,d=Hb.length;d--;)if(b=Hb[d]+g,b in a)return b;return e}function s(a,b){a=b||a;return"none"===g.css(a,"display")||!g.contains(a.ownerDocument,a)}function K(a,b){for(var e,d,c,f=[],h=0,r=a.length;h<r;h++)if(d=a[h],d.style)if(f[h]=T.get(d,"olddisplay"),e=d.style.display,b)!f[h]&&"none"===e&&(d.style.display=""),""===d.style.display&&s(d)&&(f[h]=T.access(d,"olddisplay",I(d.nodeName)));else if(!f[h]&&(c=s(d),e&&"none"!==e||!c))T.set(d,"olddisplay",c?e:g.css(d,"display"));for(h=0;h<r;h++)if(d=
a[h],d.style&&(!b||"none"===d.style.display||""===d.style.display))d.style.display=b?f[h]||"":"none";return a}function F(a,b,g){return(a=pc.exec(b))?Math.max(0,a[1]-(g||0))+(a[2]||"px"):b}function H(a,b,e,d,c){b=e===(d?"border":"content")?4:"width"===b?1:0;for(var f=0;4>b;b+=2)"margin"===e&&(f+=g.css(a,e+Xa[b],!0,c)),d?("content"===e&&(f-=g.css(a,"padding"+Xa[b],!0,c)),"margin"!==e&&(f-=g.css(a,"border"+Xa[b]+"Width",!0,c))):(f+=g.css(a,"padding"+Xa[b],!0,c),"padding"!==e&&(f+=g.css(a,"border"+Xa[b]+
"Width",!0,c)));return f}function y(a,b,e){var c=!0,f="width"===b?a.offsetWidth:a.offsetHeight,h=d.getComputedStyle(a,null),r=g.support.boxSizing&&"border-box"===g.css(a,"boxSizing",!1,h);if(0>=f||null==f){f=tb(a,b,h);if(0>f||null==f)f=a.style[b];if(Sb.test(f))return f;c=r&&(g.support.boxSizingReliable||f===a.style[b]);f=parseFloat(f)||0}return f+H(a,b,e||(r?"border":"content"),c,h)+"px"}function I(a){var b=P,e=kb[a];if(!e){e=M(a,b);if("none"===e||!e)Oa=(Oa||g("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(Oa[0].contentWindow||Oa[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),e=M(a,b),Oa.detach();kb[a]=e}return e}function M(a,b){var e=g(b.createElement(a)).appendTo(b.body),d=g.css(e[0],"display");e.remove();return d}function J(a,b,e,d){var c;if(g.isArray(b))g.each(b,function(b,g){e||Lb.test(a)?d(a,g):J(a+"["+("object"===typeof g?b:"")+"]",g,e,d)});else if(!e&&"object"===g.type(b))for(c in b)J(a+"["+c+"]",b[c],
e,d);else d(a,b)}function w(a){return function(b,e){"string"!==typeof b&&(e=b,b="*");var d,c=0,f=b.toLowerCase().match(G)||[];if(g.isFunction(e))for(;d=f[c++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(e)):(a[d]=a[d]||[]).push(e)}}function S(a,b,e,d){function c(r){var k;f[r]=!0;g.each(a[r]||[],function(a,g){var r=g(b,e,d);if("string"===typeof r&&!h&&!f[r])return b.dataTypes.unshift(r),c(r),!1;if(h)return!(k=r)});return k}var f={},h=a===Pb;return c(b.dataTypes[0])||!f["*"]&&c("*")}function C(a,
b){var e,d,c=g.ajaxSettings.flatOptions||{};for(e in b)b[e]!==q&&((c[e]?a:d||(d={}))[e]=b[e]);d&&g.extend(!0,a,d);return a}function B(){setTimeout(function(){Sa=q});return Sa=g.now()}function N(a,b,g){for(var e,d=(za[b]||[]).concat(za["*"]),c=0,f=d.length;c<f;c++)if(e=d[c].call(g,b,a))return e}function D(a,b,e){var d,c=0,f=qb.length,h=g.Deferred().always(function(){delete r.elem}),r=function(){if(d)return!1;for(var b=Sa||B(),b=Math.max(0,k.startTime+k.duration-b),g=1-(b/k.duration||0),e=0,c=k.tweens.length;e<
c;e++)k.tweens[e].run(g);h.notifyWith(a,[k,g,b]);if(1>g&&c)return b;h.resolveWith(a,[k]);return!1},k=h.promise({elem:a,props:g.extend({},b),opts:g.extend(!0,{specialEasing:{}},e),originalProperties:b,originalOptions:e,startTime:Sa||B(),duration:e.duration,tweens:[],createTween:function(b,e){var d=g.Tween(a,k.opts,b,e,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(d);return d},stop:function(b){var g=0,e=b?k.tweens.length:0;if(d)return this;for(d=!0;g<e;g++)k.tweens[g].run(1);b?h.resolveWith(a,
[k,b]):h.rejectWith(a,[k,b]);return this}});e=k.props;for(ma(e,k.opts.specialEasing);c<f;c++)if(b=qb[c].call(k,a,e,k.opts))return b;g.map(e,N,k);g.isFunction(k.opts.start)&&k.opts.start.call(a,k);g.fx.timer(g.extend(r,{elem:a,anim:k,queue:k.opts.queue}));return k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function ma(a,b){var e,d,c,f,h;for(e in a)if(d=g.camelCase(e),c=b[d],f=a[e],g.isArray(f)&&(c=f[1],f=a[e]=f[0]),e!==d&&(a[d]=f,delete a[e]),
(h=g.cssHooks[d])&&"expand"in h)for(e in f=h.expand(f),delete a[d],f)e in a||(a[e]=f[e],b[e]=c);else b[d]=c}function V(a,b,g,e,d){return new V.prototype.init(a,b,g,e,d)}function Y(a,b){var g,e={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)g=Xa[d],e["margin"+g]=e["padding"+g]=a;b&&(e.opacity=e.width=a);return e}var L,O,R=typeof q,X=d.location,P=d.document,ha=P.documentElement,pa=d.jQuery,wa=d.$,xa={},ta=[],ja=ta.concat,na=ta.push,qa=ta.slice,oa=ta.indexOf,ra=xa.toString,r=xa.hasOwnProperty,z="2.0.3".trim,
g=function(a,b){return new g.fn.init(a,b,L)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,G=/\S+/g,aa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ea=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ca=/^-ms-/,Ta=/-([\da-z])/gi,ia=function(a,b){return b.toUpperCase()},Q=function(){P.removeEventListener("DOMContentLoaded",Q,!1);d.removeEventListener("load",Q,!1);g.ready()};g.fn=g.prototype={jquery:"2.0.3",constructor:g,init:function(a,b,e){var d;if(!a)return this;if("string"===typeof a){if((d="<"===a.charAt(0)&&">"===a.charAt(a.length-
1)&&3<=a.length?[null,a,null]:aa.exec(a))&&(d[1]||!b)){if(d[1]){if(b=b instanceof g?b[0]:b,g.merge(this,g.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:P,!0)),ea.test(d[1])&&g.isPlainObject(b))for(d in b)if(g.isFunction(this[d]))this[d](b[d]);else this.attr(d,b[d])}else{if((b=P.getElementById(d[2]))&&b.parentNode)this.length=1,this[0]=b;this.context=P;this.selector=a}return this}return!b||b.jquery?(b||e).find(a):this.constructor(b).find(a)}if(a.nodeType)return this.context=this[0]=a,this.length=
1,this;if(g.isFunction(a))return e.ready(a);a.selector!==q&&(this.selector=a.selector,this.context=a.context);return g.makeArray(a,this)},selector:"",length:0,toArray:function(){return qa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=g.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return g.each(this,a,b)},ready:function(a){g.ready.promise().done(a);return this},slice:function(){return this.pushStack(qa.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},map:function(a){return this.pushStack(g.map(this,function(b,g){return a.call(b,g,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:na,sort:[].sort,splice:[].splice};g.fn.init.prototype=g.fn;g.extend=g.fn.extend=function(){var a,b,e,d,c,f=arguments[0]||{},h=1,k=arguments.length,r=!1;"boolean"===typeof f&&
(r=f,f=arguments[1]||{},h=2);"object"!==typeof f&&!g.isFunction(f)&&(f={});k===h&&(f=this,--h);for(;h<k;h++)if(null!=(a=arguments[h]))for(b in a)e=f[b],d=a[b],f!==d&&(r&&d&&(g.isPlainObject(d)||(c=g.isArray(d)))?(c?(c=!1,e=e&&g.isArray(e)?e:[]):e=e&&g.isPlainObject(e)?e:{},f[b]=g.extend(r,e,d)):d!==q&&(f[b]=d));return f};g.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(a){d.$===g&&(d.$=wa);a&&d.jQuery===g&&(d.jQuery=pa);return g},isReady:!1,readyWait:1,holdReady:function(a){a?
g.readyWait++:g.ready(!0)},ready:function(a){if(!(!0===a?--g.readyWait:g.isReady))g.isReady=!0,!0!==a&&0<--g.readyWait||(O.resolveWith(P,[g]),g.fn.trigger&&g(P).trigger("ready").off("ready"))},isFunction:function(a){return"function"===g.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"===typeof a||"function"===typeof a?xa[ra.call(a)]||"object":typeof a},
isPlainObject:function(a){if("object"!==g.type(a)||a.nodeType||g.isWindow(a))return!1;try{if(a.constructor&&!r.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,e){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(e=b,b=!1);b=b||P;var d=ea.exec(a);e=!e&&[];if(d)return[b.createElement(d[1])];d=g.buildFragment([a],b,e);e&&g(e).remove();return g.merge([],
d.childNodes)},parseJSON:JSON.parse,parseXML:function(a){var b,e;if(!a||"string"!==typeof a)return null;try{e=new DOMParser,b=e.parseFromString(a,"text/xml")}catch(d){b=q}(!b||b.getElementsByTagName("parsererror").length)&&g.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){var b;b=eval;if(a=g.trim(a))1===a.indexOf("use strict")?(b=P.createElement("script"),b.text=a,P.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(ca,"ms-").replace(Ta,
ia)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,g){var e,d=0,f=a.length;e=c(a);if(g)if(e)for(;d<f&&!(e=b.apply(a[d],g),!1===e);d++);else for(d in a){if(e=b.apply(a[d],g),!1===e)break}else if(e)for(;d<f&&!(e=b.call(a[d],d,a[d]),!1===e);d++);else for(d in a)if(e=b.call(a[d],d,a[d]),!1===e)break;return a},trim:function(a){return null==a?"":z.call(a)},makeArray:function(a,b){var e=b||[];null!=a&&(c(Object(a))?g.merge(e,"string"===typeof a?[a]:
a):na.call(e,a));return e},inArray:function(a,b,g){return null==b?-1:oa.call(b,a,g)},merge:function(a,b){var g=b.length,e=a.length,d=0;if("number"===typeof g)for(;d<g;d++)a[e++]=b[d];else for(;b[d]!==q;)a[e++]=b[d++];a.length=e;return a},grep:function(a,b,g){var e,d=[],c=0,f=a.length;for(g=!!g;c<f;c++)e=!!b(a[c],c),g!==e&&d.push(a[c]);return d},map:function(a,b,g){var e,d=0,f=a.length,h=[];if(c(a))for(;d<f;d++)e=b(a[d],d,g),null!=e&&(h[h.length]=e);else for(d in a)e=b(a[d],d,g),null!=e&&(h[h.length]=
e);return ja.apply([],h)},guid:1,proxy:function(a,b){var e,d;"string"===typeof b&&(e=a[b],b=a,a=e);if(!g.isFunction(a))return q;d=qa.call(arguments,2);e=function(){return a.apply(b||this,d.concat(qa.call(arguments)))};e.guid=a.guid=a.guid||g.guid++;return e},access:function(a,b,e,d,c,f,h){var k=0,r=a.length,l=null==e;if("object"===g.type(e))for(k in c=!0,e)g.access(a,b,k,e[k],!0,f,h);else if(d!==q&&(c=!0,g.isFunction(d)||(h=!0),l&&(h?(b.call(a,d),b=null):(l=b,b=function(a,b,e){return l.call(g(a),
e)})),b))for(;k<r;k++)b(a[k],e,h?d:d.call(a[k],k,b(a[k],e)));return c?a:l?b.call(a):r?b(a[0],e):f},now:Date.now,swap:function(a,b,g,e){var d,c={};for(d in b)c[d]=a.style[d],a.style[d]=b[d];g=g.apply(a,e||[]);for(d in b)a.style[d]=c[d];return g}});g.ready.promise=function(a){O||(O=g.Deferred(),"complete"===P.readyState?setTimeout(g.ready):(P.addEventListener("DOMContentLoaded",Q,!1),d.addEventListener("load",Q,!1)));return O.promise(a)};g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),
function(a,b){xa["[object "+b+"]"]=b.toLowerCase()});L=g(P);(function(a,b){function e(a,b,g,d){var c,f,h,k,r;(b?b.ownerDocument||b:q)!==M&&N(b);b=b||M;g=g||[];if(!a||"string"!==typeof a)return g;if(1!==(k=b.nodeType)&&9!==k)return[];if(A&&!d){if(c=jb.exec(a))if(h=c[1])if(9===k)if((f=b.getElementById(h))&&f.parentNode){if(f.id===h)return g.push(f),g}else return g;else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(h))&&ea(b,f)&&f.id===h)return g.push(f),g}else{if(c[2])return Pa.apply(g,b.getElementsByTagName(a)),
g;if((h=c[3])&&B.getElementsByClassName&&b.getElementsByClassName)return Pa.apply(g,b.getElementsByClassName(h)),g}if(B.qsa&&(!ya||!ya.test(a))){f=c=J;h=b;r=9===k&&a;if(1===k&&"object"!==b.nodeName.toLowerCase()){k=m(a);(c=b.getAttribute("id"))?f=c.replace(O,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(h=k.length;h--;)k[h]=f+z(k[h]);h=L.test(a)&&b.parentNode||b;r=k.join(",")}if(r)try{return Pa.apply(g,h.querySelectorAll(r)),g}catch(l){}finally{c||b.removeAttribute("id")}}}var p;a:{a=a.replace(eb,
"$1");f=m(a);if(!d&&1===f.length){c=f[0]=f[0].slice(0);if(2<c.length&&"ID"===(p=c[0]).type&&B.getById&&9===b.nodeType&&A&&x.relative[c[1].type]){b=(x.find.ID(p.matches[0].replace(Oa,R),b)||[])[0];if(!b){p=g;break a}a=a.slice(c.shift().value.length)}for(k=Na.needsContext.test(a)?0:c.length;k--;){p=c[k];if(x.relative[h=p.type])break;if(h=x.find[h])if(d=h(p.matches[0].replace(Oa,R),L.test(c[0].type)&&b.parentNode||b)){c.splice(k,1);a=d.length&&z(c);if(!a){Pa.apply(g,d);p=g;break a}break}}}U(a,f)(d,b,
!A,g,L.test(a));p=g}return p}function d(){function a(g,e){b.push(g+=" ")>x.cacheLength&&delete a[b.shift()];return a[g]=e}var b=[];return a}function c(a){a[J]=!0;return a}function f(a){var b=M.createElement("div");try{return!!a(b)}catch(g){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b){for(var g=a.split("|"),e=a.length;e--;)x.attrHandle[g[e]]=b}function k(a,b){var g=b&&a,e=g&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||Ga)-(~a.sourceIndex||Ga);if(e)return e;if(g)for(;g=
g.nextSibling;)if(g===b)return-1;return a?1:-1}function r(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var g=b.nodeName.toLowerCase();return("input"===g||"button"===g)&&b.type===a}}function p(a){return c(function(b){b=+b;return c(function(g,e){for(var d,c=a([],g.length,b),f=c.length;f--;)if(g[d=c[f]])g[d]=!(e[d]=g[d])})})}function n(){}function m(a,b){var g,d,c,f,h,k,r;if(h=H[a+" "])return b?0:h.slice(0);h=a;k=[];for(r=x.preFilter;h;){if(!g||
(d=tb.exec(h)))d&&(h=h.slice(d[0].length)||h),k.push(c=[]);g=!1;if(d=fb.exec(h))g=d.shift(),c.push({value:g,type:d[0].replace(eb," ")}),h=h.slice(g.length);for(f in x.filter)if((d=Na[f].exec(h))&&(!r[f]||(d=r[f](d))))g=d.shift(),c.push({value:g,type:f,matches:d}),h=h.slice(g.length);if(!g)break}return b?h.length:h?e.error(a):H(a,k).slice(0)}function z(a){for(var b=0,g=a.length,e="";b<g;b++)e+=a[b].value;return e}function y(a,b,g){var e=b.dir,d=g&&"parentNode"===e,c=sb++;return b.first?function(b,
g,c){for(;b=b[e];)if(1===b.nodeType||d)return a(b,g,c)}:function(b,g,f){var h,k,r,l=aa+" "+c;if(f)for(;b=b[e];){if((1===b.nodeType||d)&&a(b,g,f))return!0}else for(;b=b[e];)if(1===b.nodeType||d)if(r=b[J]||(b[J]={}),(k=r[e])&&k[0]===l){if(!0===(h=k[1])||h===G)return!0===h}else if(k=r[e]=[l],k[1]=a(b,g,f)||G,!0===k[1])return!0}}function E(a){return 1<a.length?function(b,g,e){for(var d=a.length;d--;)if(!a[d](b,g,e))return!1;return!0}:a[0]}function C(a,b,g,e,d){for(var c,f=[],h=0,k=a.length,r=null!=b;h<
k;h++)if(c=a[h])if(!g||g(c,e,d))f.push(c),r&&b.push(h);return f}function v(a,b,g,d,f,h){d&&!d[J]&&(d=v(d));f&&!f[J]&&(f=v(f,h));return c(function(c,h,k,r){var l,p,n=[],m=[],z=h.length,y;if(!(y=c)){y=b||"*";for(var E=k.nodeType?[k]:k,Ja=[],v=0,w=E.length;v<w;v++)e(y,E[v],Ja);y=Ja}y=a&&(c||!b)?C(y,n,a,k,r):y;E=g?f||(c?a:z||d)?[]:h:y;g&&g(y,E,k,r);if(d){l=C(E,m);d(l,[],k,r);for(k=l.length;k--;)if(p=l[k])E[m[k]]=!(y[m[k]]=p)}if(c){if(f||a){if(f){l=[];for(k=E.length;k--;)if(p=E[k])l.push(y[k]=p);f(null,
E=[],l,r)}for(k=E.length;k--;)if((p=E[k])&&-1<(l=f?Ba.call(c,p):n[k]))c[l]=!(h[l]=p)}}else E=C(E===h?E.splice(z,E.length):E),f?f(null,h,E,r):Pa.apply(h,E)})}function w(a){var b,g,e,d=a.length,c=x.relative[a[0].type];g=c||x.relative[" "];for(var f=c?1:0,h=y(function(a){return a===b},g,!0),k=y(function(a){return-1<Ba.call(b,a)},g,!0),r=[function(a,g,e){return!c&&(e||g!==I)||((b=g).nodeType?h(a,g,e):k(a,g,e))}];f<d;f++)if(g=x.relative[a[f].type])r=[y(E(r),g)];else{g=x.filter[a[f].type].apply(null,a[f].matches);
if(g[J]){for(e=++f;e<d&&!x.relative[a[e].type];e++);return v(1<f&&E(r),1<f&&z(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(eb,"$1"),g,f<e&&w(a.slice(f,e)),e<d&&w(a=a.slice(e)),e<d&&z(a))}r.push(g)}return E(r)}function t(a,b){var g=0,d=0<b.length,f=0<a.length,h=function(c,h,k,r,l){var p,n,m=[],z=0,y="0",E=c&&[],Ja=null!=l,v=I,w=c||f&&x.find.TAG("*",l&&h.parentNode||h),t=aa+=null==v?1:Math.random()||0.1;Ja&&(I=h!==M&&h,G=g);for(;null!=(l=w[y]);y++){if(f&&l){for(p=0;n=a[p++];)if(n(l,
h,k)){r.push(l);break}Ja&&(aa=t,G=++g)}d&&((l=!n&&l)&&z--,c&&E.push(l))}z+=y;if(d&&y!==z){for(p=0;n=b[p++];)n(E,m,h,k);if(c){if(0<z)for(;y--;)!E[y]&&!m[y]&&(m[y]=Ca.call(r));m=C(m)}Pa.apply(r,m);Ja&&(!c&&0<m.length&&1<z+b.length)&&e.uniqueSort(r)}Ja&&(aa=t,I=v);return E};return d?c(h):h}var u,B,G,x,s,W,U,I,F,N,M,D,A,ya,K,S,ea,J="sizzle"+-new Date,q=a.document,aa=0,sb=0,Q=d(),H=d(),ca=d(),ma=!1,Wa=function(a,b){a===b&&(ma=!0);return 0},Va=typeof b,Ga=-2147483648,ia={}.hasOwnProperty,ba=[],Ca=ba.pop,
T=ba.push,Pa=ba.push,V=ba.slice,Ba=ba.indexOf||function(a){for(var b=0,g=this.length;b<g;b++)if(this[b]===a)return b;return-1},Fa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ta="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Fa+")|)|)[\\x20\\t\\r\\n\\f]*\\]",gb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ta.replace(3,8)+")*)|.*)\\)|)",
eb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,tb=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,fb=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,L=/[\x20\t\r\n\f]*[+~]/,Da=/=[\x20\t\r\n\f]*([^\]'"]*)[\x20\t\r\n\f]*\]/g,db=RegExp(gb),ob=RegExp("^"+Fa+"$"),Na={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ta),PSEUDO:RegExp("^"+gb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Ia=/^[^{]+\{\s*\[native \w/,jb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,hb=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,O=/'|\\/g,Oa=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,
R=function(a,b,g){a="0x"+b-65536;return a!==a||g?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Pa.apply(ba=V.call(q.childNodes),q.childNodes),ba[q.childNodes.length].nodeType}catch(Kb){Pa={apply:ba.length?function(a,b){T.apply(a,V.call(b))}:function(a,b){for(var g=a.length,e=0;a[g++]=b[e++];);a.length=g-1}}}W=e.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};B=e.support={};N=e.setDocument=function(a){var b=a?a.ownerDocument||
a:q;a=b.defaultView;if(b===M||9!==b.nodeType||!b.documentElement)return M;M=b;D=b.documentElement;A=!W(b);a&&(a.attachEvent&&a!==a.top)&&a.attachEvent("onbeforeunload",function(){N()});B.attributes=f(function(a){a.className="i";return!a.getAttribute("className")});B.getElementsByTagName=f(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});B.getElementsByClassName=f(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className=
"i";return 2===a.getElementsByClassName("i").length});B.getById=f(function(a){D.appendChild(a).id=J;return!b.getElementsByName||!b.getElementsByName(J).length});B.getById?(x.find.ID=function(a,b){if(typeof b.getElementById!==Va&&A){var g=b.getElementById(a);return g&&g.parentNode?[g]:[]}},x.filter.ID=function(a){var b=a.replace(Oa,R);return function(a){return a.getAttribute("id")===b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(Oa,R);return function(a){return(a=typeof a.getAttributeNode!==
Va&&a.getAttributeNode("id"))&&a.value===b}});x.find.TAG=B.getElementsByTagName?function(a,b){if(typeof b.getElementsByTagName!==Va)return b.getElementsByTagName(a)}:function(a,b){var g,e=[],d=0,c=b.getElementsByTagName(a);if("*"===a){for(;g=c[d++];)1===g.nodeType&&e.push(g);return e}return c};x.find.CLASS=B.getElementsByClassName&&function(a,b){if(typeof b.getElementsByClassName!==Va&&A)return b.getElementsByClassName(a)};K=[];ya=[];if(B.qsa=Ia.test(b.querySelectorAll))f(function(a){a.innerHTML=
"<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||ya.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||ya.push(":checked")}),f(function(a){var g=b.createElement("input");g.setAttribute("type","hidden");a.appendChild(g).setAttribute("t","");a.querySelectorAll("[t^='']").length&&ya.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
a.querySelectorAll(":enabled").length||ya.push(":enabled",":disabled");a.querySelectorAll("*,:x");ya.push(",.*:")});(B.matchesSelector=Ia.test(S=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&f(function(a){B.disconnectedMatch=S.call(a,"div");S.call(a,"[s!='']:x");K.push("!=",gb)});ya=ya.length&&RegExp(ya.join("|"));K=K.length&&RegExp(K.join("|"));ea=Ia.test(D.contains)||D.compareDocumentPosition?function(a,b){var g=9===a.nodeType?a.documentElement:a,e=b&&
b.parentNode;return a===e||!(!e||!(1===e.nodeType&&(g.contains?g.contains(e):a.compareDocumentPosition&&a.compareDocumentPosition(e)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Wa=D.compareDocumentPosition?function(a,g){if(a===g)return ma=!0,0;var e=g.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(g);return e?e&1||!B.sortDetached&&g.compareDocumentPosition(a)===e?a===b||ea(q,a)?-1:g===b||ea(q,g)?1:F?Ba.call(F,a)-Ba.call(F,g):0:e&4?-1:1:
a.compareDocumentPosition?-1:1}:function(a,g){var e,d=0;e=a.parentNode;var c=g.parentNode,f=[a],h=[g];if(a===g)return ma=!0,0;if(!e||!c)return a===b?-1:g===b?1:e?-1:c?1:F?Ba.call(F,a)-Ba.call(F,g):0;if(e===c)return k(a,g);for(e=a;e=e.parentNode;)f.unshift(e);for(e=g;e=e.parentNode;)h.unshift(e);for(;f[d]===h[d];)d++;return d?k(f[d],h[d]):f[d]===q?-1:h[d]===q?1:0};return b};e.matches=function(a,b){return e(a,null,null,b)};e.matchesSelector=function(a,b){(a.ownerDocument||a)!==M&&N(a);b=b.replace(Da,
"='$1']");if(B.matchesSelector&&A&&(!K||!K.test(b))&&(!ya||!ya.test(b)))try{var g=S.call(a,b);if(g||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return g}catch(d){}return 0<e(b,M,null,[a]).length};e.contains=function(a,b){(a.ownerDocument||a)!==M&&N(a);return ea(a,b)};e.attr=function(a,g){(a.ownerDocument||a)!==M&&N(a);var e=x.attrHandle[g.toLowerCase()],e=e&&ia.call(x.attrHandle,g.toLowerCase())?e(a,g,!A):b;return e===b?B.attributes||!A?a.getAttribute(g):(e=a.getAttributeNode(g))&&e.specified?
e.value:null:e};e.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};e.uniqueSort=function(a){var b,g=[],e=0,d=0;ma=!B.detectDuplicates;F=!B.sortStable&&a.slice(0);a.sort(Wa);if(ma){for(;b=a[d++];)b===a[d]&&(e=g.push(d));for(;e--;)a.splice(g[e],1)}return a};s=e.getText=function(a){var b,g="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=s(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=
a[e];e++)g+=s(b);return g};x=e.selectors={cacheLength:50,createPseudo:c,match:Na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(Oa,R);a[3]=(a[4]||a[5]||"").replace(Oa,R);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===
a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]);return a},PSEUDO:function(a){var g,e=!a[5]&&a[2];if(Na.CHILD.test(a[0]))return null;if(a[3]&&a[4]!==b)a[2]=a[4];else if(e&&db.test(e)&&(g=m(e,!0))&&(g=e.indexOf(")",e.length-g)-e.length))a[0]=a[0].slice(0,g),a[2]=e.slice(0,g);return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(Oa,R).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=
Q[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Q(a,function(a){return b.test("string"===typeof a.className&&a.className||typeof a.getAttribute!==Va&&a.getAttribute("class")||"")})},ATTR:function(a,b,g){return function(d){d=e.attr(d,a);if(null==d)return"!="===b;if(!b)return!0;d+="";return"="===b?d===g:"!="===b?d!==g:"^="===b?g&&0===d.indexOf(g):"*="===b?g&&-1<d.indexOf(g):"$="===b?g&&d.slice(-g.length)===g:"~="===b?-1<(" "+d+" ").indexOf(g):"|="===b?d===g||d.slice(0,
g.length+1)===g+"-":!1}},CHILD:function(a,b,g,e,d){var c="nth"!==a.slice(0,3),f="last"!==a.slice(-4),h="of-type"===b;return 1===e&&0===d?function(a){return!!a.parentNode}:function(b,g,k){var r,l,p,n,m;g=c!==f?"nextSibling":"previousSibling";var z=b.parentNode,y=h&&b.nodeName.toLowerCase();k=!k&&!h;if(z){if(c){for(;g;){for(l=b;l=l[g];)if(h?l.nodeName.toLowerCase()===y:1===l.nodeType)return!1;m=g="only"===a&&!m&&"nextSibling"}return!0}m=[f?z.firstChild:z.lastChild];if(f&&k){k=z[J]||(z[J]={});r=k[a]||
[];n=r[0]===aa&&r[1];p=r[0]===aa&&r[2];for(l=n&&z.childNodes[n];l=++n&&l&&l[g]||(p=n=0)||m.pop();)if(1===l.nodeType&&++p&&l===b){k[a]=[aa,n,p];break}}else if(k&&(r=(b[J]||(b[J]={}))[a])&&r[0]===aa)p=r[1];else for(;l=++n&&l&&l[g]||(p=n=0)||m.pop();)if((h?l.nodeName.toLowerCase()===y:1===l.nodeType)&&++p)if(k&&((l[J]||(l[J]={}))[a]=[aa,p]),l===b)break;p-=d;return p===e||0===p%e&&0<=p/e}}},PSEUDO:function(a,b){var g,d=x.pseudos[a]||x.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);return d[J]?
d(b):1<d.length?(g=[a,a,"",b],x.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,g){for(var e,c=d(a,b),f=c.length;f--;)e=Ba.call(a,c[f]),a[e]=!(g[e]=c[f])}):function(a){return d(a,0,g)}):d}},pseudos:{not:c(function(a){var b=[],g=[],e=U(a.replace(eb,"$1"));return e[J]?c(function(a,b,g,d){d=e(a,null,d,[]);for(var c=a.length;c--;)if(g=d[c])a[c]=!(b[c]=g)}):function(a,d,c){b[0]=a;e(b,null,c,g);return!g.pop()}}),has:c(function(a){return function(b){return 0<e(a,b).length}}),contains:c(function(a){return function(b){return-1<
(b.textContent||b.innerText||s(b)).indexOf(a)}}),lang:c(function(a){ob.test(a||"")||e.error("unsupported lang: "+a);a=a.replace(Oa,R).toLowerCase();return function(b){var g;do if(g=A?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return g=g.toLowerCase(),g===a||0===g.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var g=a.location&&a.location.hash;return g&&g.slice(1)===b.id},root:function(a){return a===D},focus:function(a){return a===M.activeElement&&
(!M.hasFocus||M.hasFocus())&&!(!a.type&&!a.href&&!~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},
header:function(a){return Y.test(a.nodeName)},input:function(a){return hb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:p(function(){return[0]}),last:p(function(a,b){return[b-1]}),eq:p(function(a,b,g){return[0>g?g+b:g]}),even:p(function(a,b){for(var g=0;g<b;g+=2)a.push(g);return a}),
odd:p(function(a,b){for(var g=1;g<b;g+=2)a.push(g);return a}),lt:p(function(a,b,g){for(b=0>g?g+b:g;0<=--b;)a.push(b);return a}),gt:p(function(a,b,g){for(g=0>g?g+b:g;++g<b;)a.push(g);return a})}};x.pseudos.nth=x.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[u]=r(u);for(u in{submit:!0,reset:!0})x.pseudos[u]=l(u);n.prototype=x.filters=x.pseudos;x.setFilters=new n;U=e.compile=function(a,b){var g,e=[],d=[],c=ca[a+" "];if(!c){b||(b=m(a));for(g=b.length;g--;)c=w(b[g]),
c[J]?e.push(c):d.push(c);c=ca(a,t(d,e))}return c};B.sortStable=J.split("").sort(Wa).join("")===J;B.detectDuplicates=ma;N();B.sortDetached=f(function(a){return a.compareDocumentPosition(M.createElement("div"))&1});f(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,g){if(!g)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});(!B.attributes||!f(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");
return""===a.firstChild.getAttribute("value")}))&&h("value",function(a,b,g){if(!g&&"input"===a.nodeName.toLowerCase())return a.defaultValue});f(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,g){var e;if(!g)return(e=a.getAttributeNode(b))&&e.specified?e.value:!0===a[b]?b.toLowerCase():null});g.find=e;g.expr=e.selectors;g.expr[":"]=g.expr.pseudos;g.unique=
e.uniqueSort;g.text=e.getText;g.isXMLDoc=e.isXML;g.contains=e.contains})(d);var Fa={};g.Callbacks=function(a){a="string"===typeof a?Fa[a]||f(a):g.extend({},a);var b,e,d,c,h,k,r=[],l=!a.once&&[],p=function(g){b=a.memory&&g;e=!0;k=c||0;c=0;h=r.length;for(d=!0;r&&k<h;k++)if(!1===r[k].apply(g[0],g[1])&&a.stopOnFalse){b=!1;break}d=!1;r&&(l?l.length&&p(l.shift()):b?r=[]:n.disable())},n={add:function(){if(r){var e=r.length;(function Db(b){g.each(b,function(b,e){var d=g.type(e);"function"===d?(!a.unique||
!n.has(e))&&r.push(e):e&&(e.length&&"string"!==d)&&Db(e)})})(arguments);d?h=r.length:b&&(c=e,p(b))}return this},remove:function(){r&&g.each(arguments,function(a,b){for(var e;-1<(e=g.inArray(b,r,e));)r.splice(e,1),d&&(e<=h&&h--,e<=k&&k--)});return this},has:function(a){return a?-1<g.inArray(a,r):!(!r||!r.length)},empty:function(){r=[];h=0;return this},disable:function(){r=l=b=q;return this},disabled:function(){return!r},lock:function(){l=q;b||n.disable();return this},locked:function(){return!l},fireWith:function(a,
b){if(r&&(!e||l))b=b||[],b=[a,b.slice?b.slice():b],d?l.push(b):p(b);return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!e}};return n};g.extend({Deferred:function(a){var b=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],e="pending",d={state:function(){return e},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var a=
arguments;return g.Deferred(function(e){g.each(b,function(b,f){var h=f[0],k=g.isFunction(a[b])&&a[b];c[f[1]](function(){var a=k&&k.apply(this,arguments);if(a&&g.isFunction(a.promise))a.promise().done(e.resolve).fail(e.reject).progress(e.notify);else e[h+"With"](this===d?e.promise():this,k?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?g.extend(a,d):d}},c={};d.pipe=d.then;g.each(b,function(a,g){var f=g[2],h=g[3];d[g[1]]=f.add;h&&f.add(function(){e=h},b[a^1][2].disable,b[2][2].lock);
c[g[0]]=function(){c[g[0]+"With"](this===c?d:this,arguments);return this};c[g[0]+"With"]=f.fireWith});d.promise(c);a&&a.call(c,c);return c},when:function(a){var b=0,e=qa.call(arguments),d=e.length,c=1!==d||a&&g.isFunction(a.promise)?d:0,f=1===c?a:g.Deferred(),h=function(a,b,g){return function(e){b[a]=this;g[a]=1<arguments.length?qa.call(arguments):e;g===k?f.notifyWith(b,g):--c||f.resolveWith(b,g)}},k,r,l;if(1<d){k=Array(d);r=Array(d);for(l=Array(d);b<d;b++)e[b]&&g.isFunction(e[b].promise)?e[b].promise().done(h(b,
l,e)).fail(f.reject).progress(h(b,r,k)):--c}c||f.resolveWith(l,e);return f.promise()}});g.support=function(a){var b=P.createElement("input"),e=P.createDocumentFragment(),c=P.createElement("div"),f=P.createElement("select"),h=f.appendChild(P.createElement("option"));if(!b.type)return a;b.type="checkbox";a.checkOn=""!==b.value;a.optSelected=h.selected;a.reliableMarginRight=!0;a.boxSizingReliable=!0;a.pixelPosition=!1;b.checked=!0;a.noCloneChecked=b.cloneNode(!0).checked;f.disabled=!0;a.optDisabled=
!h.disabled;b=P.createElement("input");b.value="t";b.type="radio";a.radioValue="t"===b.value;b.setAttribute("checked","t");b.setAttribute("name","t");e.appendChild(b);a.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked;a.focusinBubbles="onfocusin"in d;c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip="";a.clearCloneStyle="content-box"===c.style.backgroundClip;g(function(){var b,e,f=P.getElementsByTagName("body")[0];f&&(b=P.createElement("div"),b.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",
f.appendChild(b).appendChild(c),c.innerHTML="",c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",g.swap(f,null!=f.style.zoom?{zoom:1}:{},function(){a.boxSizing=4===c.offsetWidth}),d.getComputedStyle&&(a.pixelPosition="1%"!==(d.getComputedStyle(c,null)||{}).top,a.boxSizingReliable="4px"===(d.getComputedStyle(c,null)||{width:"4px"}).width,e=c.appendChild(P.createElement("div")),
e.style.cssText=c.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e.style.marginRight=e.style.width="0",c.style.width="1px",a.reliableMarginRight=!parseFloat((d.getComputedStyle(e,null)||{}).marginRight)),f.removeChild(b))});return a}({});var ba,T,Ba=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Da=/([A-Z])/g;b.uid=1;b.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0};b.prototype={key:function(a){if(!b.accepts(a))return 0;
var e={},d=a[this.expando];if(!d){d=b.uid++;try{e[this.expando]={value:d},Object.defineProperties(a,e)}catch(c){e[this.expando]=d,g.extend(a,e)}}this.cache[d]||(this.cache[d]={});return d},set:function(a,b,e){var d;a=this.key(a);var c=this.cache[a];if("string"===typeof b)c[b]=e;else if(g.isEmptyObject(c))g.extend(this.cache[a],b);else for(d in b)c[d]=b[d];return c},get:function(a,b){var g=this.cache[this.key(a)];return b===q?g:g[b]},access:function(a,b,e){if(b===q||b&&"string"===typeof b&&e===q)return e=
this.get(a,b),e!==q?e:this.get(a,g.camelCase(b));this.set(a,b,e);return e!==q?e:b},remove:function(a,b){var e,d;e=this.key(a);var c=this.cache[e];if(b===q)this.cache[e]={};else{g.isArray(b)?d=b.concat(b.map(g.camelCase)):(e=g.camelCase(b),b in c?d=[b,e]:(d=e,d=d in c?[d]:d.match(G)||[]));for(e=d.length;e--;)delete c[d[e]]}},hasData:function(a){return!g.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};ba=new b;T=new b;g.extend({acceptData:b.accepts,
hasData:function(a){return ba.hasData(a)||T.hasData(a)},data:function(a,b,g){return ba.access(a,b,g)},removeData:function(a,b){ba.remove(a,b)},_data:function(a,b,g){return T.access(a,b,g)},_removeData:function(a,b){T.remove(a,b)}});g.fn.extend({data:function(a,b){var e,d,c=this[0],f=0,h=null;if(a===q){if(this.length&&(h=ba.get(c),1===c.nodeType&&!T.get(c,"hasDataAttrs"))){for(e=c.attributes;f<e.length;f++)d=e[f].name,0===d.indexOf("data-")&&(d=g.camelCase(d.slice(5)),k(c,d,h[d]));T.set(c,"hasDataAttrs",
!0)}return h}return"object"===typeof a?this.each(function(){ba.set(this,a)}):g.access(this,function(b){var e,d=g.camelCase(a);if(c&&b===q){e=ba.get(c,a);if(e!==q)return e;e=ba.get(c,d);if(e!==q)return e;e=k(c,d,q);if(e!==q)return e}else this.each(function(){var g=ba.get(this,d);ba.set(this,d,b);-1!==a.indexOf("-")&&g!==q&&ba.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ba.remove(this,a)})}});g.extend({queue:function(a,b,e){var d;if(a)return b=
(b||"fx")+"queue",d=T.get(a,b),e&&(!d||g.isArray(e)?d=T.access(a,b,g.makeArray(e)):d.push(e)),d||[]},dequeue:function(a,b){b=b||"fx";var e=g.queue(a,b),d=e.length,c=e.shift(),f=g._queueHooks(a,b),h=function(){g.dequeue(a,b)};"inprogress"===c&&(c=e.shift(),d--);c&&("fx"===b&&e.unshift("inprogress"),delete f.stop,c.call(a,h,f));!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return T.get(a,e)||T.access(a,e,{empty:g.Callbacks("once memory").add(function(){T.remove(a,[b+"queue",
e])})})}});g.fn.extend({queue:function(a,b){var e=2;"string"!==typeof a&&(b=a,a="fx",e--);return arguments.length<e?g.queue(this[0],a):b===q?this:this.each(function(){var e=g.queue(this,a,b);g._queueHooks(this,a);"fx"===a&&"inprogress"!==e[0]&&g.dequeue(this,a)})},dequeue:function(a){return this.each(function(){g.dequeue(this,a)})},delay:function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,g){var e=setTimeout(b,a);g.stop=function(){clearTimeout(e)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,b){var e,d=1,c=g.Deferred(),f=this,h=this.length,k=function(){--d||c.resolveWith(f,[f])};"string"!==typeof a&&(b=a,a=q);for(a=a||"fx";h--;)if((e=T.get(f[h],a+"queueHooks"))&&e.empty)d++,e.empty.add(k);k();return c.promise(b)}});var W,U=/[\t\r\n\f]/g,sb=/\r/g,Ga=/^(?:input|select|textarea|button)$/i;g.fn.extend({attr:function(a,b){return g.access(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})},prop:function(a,
b){return g.access(this,g.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[g.propFix[a]||a]})},addClass:function(a){var b,e,d,c,f,h=0,k=this.length;b="string"===typeof a&&a;if(g.isFunction(a))return this.each(function(b){g(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(G)||[];h<k;h++)if(e=this[h],d=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(U," "):" ")){for(f=0;c=b[f++];)0>d.indexOf(" "+c+" ")&&(d+=c+" ");e.className=
g.trim(d)}return this},removeClass:function(a){var b,e,d,c,f,h=0,k=this.length;b=0===arguments.length||"string"===typeof a&&a;if(g.isFunction(a))return this.each(function(b){g(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(G)||[];h<k;h++)if(e=this[h],d=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(U," "):"")){for(f=0;c=b[f++];)for(;0<=d.indexOf(" "+c+" ");)d=d.replace(" "+c+" "," ");e.className=a?g.trim(d):""}return this},toggleClass:function(a,b){var e=typeof a;
return"boolean"===typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):g.isFunction(a)?this.each(function(e){g(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===e)for(var b,d=0,c=g(this),f=a.match(G)||[];b=f[d++];)c.hasClass(b)?c.removeClass(b):c.addClass(b);else if(e===R||"boolean"===e)this.className&&T.set(this,"__className__",this.className),this.className=this.className||!1===a?"":T.get(this,"__className__")||""})},hasClass:function(a){a=" "+a+
" ";for(var b=0,g=this.length;b<g;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(U," ").indexOf(a))return!0;return!1},val:function(a){var b,e,d,c=this[0];if(arguments.length)return d=g.isFunction(a),this.each(function(e){if(1===this.nodeType&&(e=d?a.call(this,e,g(this).val()):a,null==e?e="":"number"===typeof e?e+="":g.isArray(e)&&(e=g.map(e,function(a){return null==a?"":a+""})),b=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],!b||!("set"in b)||b.set(this,e,"value")===
q))this.value=e});if(c){if((b=g.valHooks[c.type]||g.valHooks[c.nodeName.toLowerCase()])&&"get"in b&&(e=b.get(c,"value"))!==q)return e;e=c.value;return"string"===typeof e?e.replace(sb,""):null==e?"":e}}});g.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,e=a.options,d=a.selectedIndex,c=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:e.length,h=0>d?f:a?d:0;h<f;h++)if(b=e[h],(b.selected||h===d)&&(g.support.optDisabled?
!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(a)return b;c.push(b)}return c},set:function(a,b){for(var e,d,c=a.options,f=g.makeArray(b),h=c.length;h--;)if(d=c[h],d.selected=0<=g.inArray(g(d).val(),f))e=!0;e||(a.selectedIndex=-1);return f}}},attr:function(a,b,e){var d,c,f=a.nodeType;if(a&&!(3===f||8===f||2===f)){if(typeof a.getAttribute===R)return g.prop(a,b,e);if(1!==f||!g.isXMLDoc(a))b=b.toLowerCase(),d=g.attrHooks[b]||
(g.expr.match.bool.test(b)?W:void 0);if(e!==q)if(null===e)g.removeAttr(a,b);else{if(d&&"set"in d&&(c=d.set(a,e,b))!==q)return c;a.setAttribute(b,e+"");return e}else{if(d&&"get"in d&&null!==(c=d.get(a,b)))return c;c=g.find.attr(a,b);return null==c?q:c}}},removeAttr:function(a,b){var e,d,c=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;e=f[c++];)d=g.propFix[e]||e,g.expr.match.bool.test(e)&&(a[d]=!1),a.removeAttribute(e)},attrHooks:{type:{set:function(a,b){if(!g.support.radioValue&&"radio"===b&&g.nodeName(a,
"input")){var e=a.value;a.setAttribute("type",b);e&&(a.value=e);return b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,e){var d,c,f;f=a.nodeType;if(a&&!(3===f||8===f||2===f)){if(f=1!==f||!g.isXMLDoc(a))b=g.propFix[b]||b,c=g.propHooks[b];return e!==q?c&&"set"in c&&(d=c.set(a,e,b))!==q?d:a[b]=e:c&&"get"in c&&null!==(d=c.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||Ga.test(a.nodeName)||a.href?a.tabIndex:-1}}}});W={set:function(a,b,e){!1===
b?g.removeAttr(a,e):a.setAttribute(e,e);return e}};g.each(g.expr.match.bool.source.match(/\w+/g),function(a,b){var e=g.expr.attrHandle[b]||g.find.attr;g.expr.attrHandle[b]=function(a,b,d){var c=g.expr.attrHandle[b];a=d?q:(g.expr.attrHandle[b]=q)!=e(a,b,d)?b.toLowerCase():null;g.expr.attrHandle[b]=c;return a}});g.support.optSelected||(g.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});g.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),
function(){g.propFix[this.toLowerCase()]=this});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(a,b){if(g.isArray(b))return a.checked=0<=g.inArray(g(a).val(),b)}};g.support.checkOn||(g.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Pa=/^key/,gb=/^(?:mouse|contextmenu)|click/,Na=/^(?:focusinfocus|focusoutblur)$/,db=/^([^.]*)(?:\.(.+)|)$/;g.event={global:{},add:function(a,b,e,d,c){var f,h,k,r,l,p,n,m,z;if(l=T.get(a)){e.handler&&(f=e,e=
f.handler,c=f.selector);e.guid||(e.guid=g.guid++);if(!(r=l.events))r=l.events={};if(!(h=l.handle))h=l.handle=function(a){return typeof g!==R&&(!a||g.event.triggered!==a.type)?g.event.dispatch.apply(h.elem,arguments):q},h.elem=a;b=(b||"").match(G)||[""];for(l=b.length;l--;)if(k=db.exec(b[l])||[],m=p=k[1],z=(k[2]||"").split(".").sort(),m){k=g.event.special[m]||{};m=(c?k.delegateType:k.bindType)||m;k=g.event.special[m]||{};p=g.extend({type:m,origType:p,data:d,handler:e,guid:e.guid,selector:c,needsContext:c&&
g.expr.match.needsContext.test(c),namespace:z.join(".")},f);if(!(n=r[m]))n=r[m]=[],n.delegateCount=0,(!k.setup||!1===k.setup.call(a,d,z,h))&&a.addEventListener&&a.addEventListener(m,h,!1);k.add&&(k.add.call(a,p),p.handler.guid||(p.handler.guid=e.guid));c?n.splice(n.delegateCount++,0,p):n.push(p);g.event.global[m]=!0}a=null}},remove:function(a,b,e,d,c){var f,h,k,r,l,p,n,m,z,y,E,C=T.hasData(a)&&T.get(a);if(C&&(r=C.events)){b=(b||"").match(G)||[""];for(l=b.length;l--;)if(k=db.exec(b[l])||[],z=E=k[1],
y=(k[2]||"").split(".").sort(),z){n=g.event.special[z]||{};z=(d?n.delegateType:n.bindType)||z;m=r[z]||[];k=k[2]&&RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(h=f=m.length;f--;)if(p=m[f],(c||E===p.origType)&&(!e||e.guid===p.guid)&&(!k||k.test(p.namespace))&&(!d||d===p.selector||"**"===d&&p.selector))m.splice(f,1),p.selector&&m.delegateCount--,n.remove&&n.remove.call(a,p);h&&!m.length&&((!n.teardown||!1===n.teardown.call(a,y,C.handle))&&g.removeEvent(a,z,C.handle),delete r[z])}else for(z in r)g.event.remove(a,
z+b[l],e,d,!0);g.isEmptyObject(r)&&(delete C.handle,T.remove(a,"events"))}},trigger:function(a,b,e,c){var f,h,k,l,p,n,m=[e||P],z=r.call(a,"type")?a.type:a;n=r.call(a,"namespace")?a.namespace.split("."):[];h=f=e=e||P;if(!(3===e.nodeType||8===e.nodeType)&&!Na.test(z+g.event.triggered))if(0<=z.indexOf(".")&&(n=z.split("."),z=n.shift(),n.sort()),l=0>z.indexOf(":")&&"on"+z,a=a[g.expando]?a:new g.Event(z,"object"===typeof a&&a),a.isTrigger=c?2:3,a.namespace=n.join("."),a.namespace_re=a.namespace?RegExp("(^|\\.)"+
n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=q,a.target||(a.target=e),b=null==b?[a]:g.makeArray(b,[a]),n=g.event.special[z]||{},c||!(n.trigger&&!1===n.trigger.apply(e,b))){if(!c&&!n.noBubble&&!g.isWindow(e)){k=n.delegateType||z;Na.test(k+z)||(h=h.parentNode);for(;h;h=h.parentNode)m.push(h),f=h;if(f===(e.ownerDocument||P))m.push(f.defaultView||f.parentWindow||d)}for(f=0;(h=m[f++])&&!a.isPropagationStopped();)a.type=1<f?k:n.bindType||z,(p=(T.get(h,"events")||{})[a.type]&&T.get(h,"handle"))&&p.apply(h,
b),(p=l&&h[l])&&(g.acceptData(h)&&p.apply&&!1===p.apply(h,b))&&a.preventDefault();a.type=z;if(!c&&!a.isDefaultPrevented()&&(!n._default||!1===n._default.apply(m.pop(),b))&&g.acceptData(e)&&l&&g.isFunction(e[z])&&!g.isWindow(e))(f=e[l])&&(e[l]=null),g.event.triggered=z,e[z](),g.event.triggered=q,f&&(e[l]=f);return a.result}},dispatch:function(a){a=g.event.fix(a);var b,e,d,c,f=[],h=qa.call(arguments);b=(T.get(this,"events")||{})[a.type]||[];var k=g.event.special[a.type]||{};h[0]=a;a.delegateTarget=
this;if(!(k.preDispatch&&!1===k.preDispatch.call(this,a))){f=g.event.handlers.call(this,a,b);for(b=0;(c=f[b++])&&!a.isPropagationStopped();){a.currentTarget=c.elem;for(e=0;(d=c.handlers[e++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace))if(a.handleObj=d,a.data=d.data,d=((g.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,h),d!==q&&!1===(a.result=d))a.preventDefault(),a.stopPropagation()}k.postDispatch&&k.postDispatch.call(this,a);return a.result}},
handlers:function(a,b){var e,d,c,f,h=[],k=b.delegateCount,r=a.target;if(k&&r.nodeType&&(!a.button||"click"!==a.type))for(;r!==this;r=r.parentNode||this)if(!0!==r.disabled||"click"!==a.type){d=[];for(e=0;e<k;e++)f=b[e],c=f.selector+" ",d[c]===q&&(d[c]=f.needsContext?0<=g(c,this).index(r):g.find(c,this,null,[r]).length),d[c]&&d.push(f);d.length&&h.push({elem:r,handlers:d})}k<b.length&&h.push({elem:this,handlers:b.slice(k)});return h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,g,d=b.button;null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||P,g=e.documentElement,e=e.body,a.pageX=b.clientX+(g&&g.scrollLeft||e&&e.scrollLeft||0)-(g&&g.clientLeft||e&&e.clientLeft||0),a.pageY=
b.clientY+(g&&g.scrollTop||e&&e.scrollTop||0)-(g&&g.clientTop||e&&e.clientTop||0));!a.which&&d!==q&&(a.which=d&1?1:d&2?3:d&4?2:0);return a}},fix:function(a){if(a[g.expando])return a;var b,e,d;b=a.type;var c=a,f=this.fixHooks[b];f||(this.fixHooks[b]=f=gb.test(b)?this.mouseHooks:Pa.test(b)?this.keyHooks:{});d=f.props?this.props.concat(f.props):this.props;a=new g.Event(c);for(b=d.length;b--;)e=d[b],a[e]=c[e];a.target||(a.target=P);3===a.target.nodeType&&(a.target=a.target.parentNode);return f.filter?
f.filter(a,c):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(a){return g.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==q&&(a.originalEvent.returnValue=a.result)}}},
simulate:function(a,b,e,d){a=g.extend(new g.Event,e,{type:a,isSimulated:!0,originalEvent:{}});d?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};g.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,!1)};g.Event=function(b,d){if(!(this instanceof g.Event))return new g.Event(b,d);b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||b.getPreventDefault&&b.getPreventDefault()?a:e):this.type=
b;d&&g.extend(this,d);this.timeStamp=b&&b.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=a;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=a;b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a;this.stopPropagation()}};
g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,d=a.relatedTarget,c=a.handleObj;if(!d||d!==this&&!g.contains(this,d))a.type=c.origType,e=c.handler.apply(this,arguments),a.type=b;return e}}});g.support.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,d=function(a){g.event.simulate(b,a.target,g.event.fix(a),!0)};g.event.special[b]={setup:function(){0===e++&&P.addEventListener(a,d,
!0)},teardown:function(){0===--e&&P.removeEventListener(a,d,!0)}}});g.fn.extend({on:function(a,b,d,c,f){var h,k;if("object"===typeof a){"string"!==typeof b&&(d=d||b,b=q);for(k in a)this.on(k,b,d,a[k],f);return this}null==d&&null==c?(c=b,d=b=q):null==c&&("string"===typeof b?(c=d,d=q):(c=d,d=b,b=q));if(!1===c)c=e;else if(!c)return this;1===f&&(h=c,c=function(a){g().off(a);return h.apply(this,arguments)},c.guid=h.guid||(h.guid=g.guid++));return this.each(function(){g.event.add(this,a,c,d,b)})},one:function(a,
b,e,g){return this.on(a,b,e,g,1)},off:function(a,b,d){var c;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,g(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"===typeof a){for(c in a)this.off(c,b,a[c]);return this}if(!1===b||"function"===typeof b)d=b,b=q;!1===d&&(d=e);return this.each(function(){g.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,
b){var e=this[0];if(e)return g.event.trigger(a,b,e,!0)}});var hb=/^.[^:#\[\.,]*$/,eb=/^(?:parents|prev(?:Until|All))/,ob=g.expr.match.needsContext,ib={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({find:function(a){var b,e=[],d=this,c=d.length;if("string"!==typeof a)return this.pushStack(g(a).filter(function(){for(b=0;b<c;b++)if(g.contains(d[b],this))return!0}));for(b=0;b<c;b++)g.find(a,d[b],e);e=this.pushStack(1<c?g.unique(e):e);e.selector=this.selector?this.selector+" "+a:a;return e},has:function(a){var b=
g(a,this),e=b.length;return this.filter(function(){for(var a=0;a<e;a++)if(g.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(n(this,a||[],!0))},filter:function(a){return this.pushStack(n(this,a||[],!1))},is:function(a){return!!n(this,"string"===typeof a&&ob.test(a)?g(a):a||[],!1).length},closest:function(a,b){for(var e,d=0,c=this.length,f=[],h=ob.test(a)||"string"!==typeof a?g(a,b||this.context):0;d<c;d++)for(e=this[d];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(h?-1<h.index(e):
1===e.nodeType&&g.find.matchesSelector(e,a))){f.push(e);break}return this.pushStack(1<f.length?g.unique(f):f)},index:function(a){return!a?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof a?oa.call(g(a),this[0]):oa.call(this,a.jquery?a[0]:a)},add:function(a,b){var e="string"===typeof a?g(a,b):g.makeArray(a&&a.nodeType?[a]:a),e=g.merge(this.get(),e);return this.pushStack(g.unique(e))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});
g.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g.dir(a,"parentNode")},parentsUntil:function(a,b,e){return g.dir(a,"parentNode",e)},next:function(a){return p(a,"nextSibling")},prev:function(a){return p(a,"previousSibling")},nextAll:function(a){return g.dir(a,"nextSibling")},prevAll:function(a){return g.dir(a,"previousSibling")},nextUntil:function(a,b,e){return g.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return g.dir(a,"previousSibling",
e)},siblings:function(a){return g.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return g.sibling(a.firstChild)},contents:function(a){return a.contentDocument||g.merge([],a.childNodes)}},function(a,b){g.fn[a]=function(e,d){var c=g.map(this,b,e);"Until"!==a.slice(-5)&&(d=e);d&&"string"===typeof d&&(c=g.filter(d,c));1<this.length&&(ib[a]||g.unique(c),eb.test(a)&&c.reverse());return this.pushStack(c)}});g.extend({filter:function(a,b,e){var d=b[0];e&&(a=":not("+a+")");return 1===b.length&&
1===d.nodeType?g.find.matchesSelector(d,a)?[d]:[]:g.find.matches(a,g.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,b,e){for(var d=[],c=e!==q;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(c&&g(a).is(e))break;d.push(a)}return d},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&e.push(a);return e}});var fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ia=/<([\w:]+)/,Qa=/<|&#?\w+;/,Kb=/<(?:script|style|link)/i,Ra=/^(?:checkbox|radio)$/i,
jb=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ca={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ca.optgroup=Ca.option;Ca.tbody=Ca.tfoot=Ca.colgroup=Ca.caption=Ca.thead;Ca.th=Ca.td;g.fn.extend({text:function(a){return g.access(this,
function(a){return a===q?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||P).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&m(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var e,d=a?g.filter(a,this):this,c=0;null!=(e=d[c]);c++)!b&&1===e.nodeType&&g.cleanData(x(e)),e.parentNode&&(b&&g.contains(e.ownerDocument,e)&&u(x(e,"script")),e.parentNode.removeChild(e));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(g.cleanData(x(a,
!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return g.access(this,function(a){var b=this[0]||{},e=0,d=this.length;if(a===q&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!Kb.test(a)&&!Ca[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fb,"<$1></$2>");try{for(;e<d;e++)b=this[e]||{},1===b.nodeType&&(g.cleanData(x(b,!1)),b.innerHTML=a);b=0}catch(c){}}b&&this.empty().append(a)},
null,a,arguments.length)},replaceWith:function(){var a=g.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;this.domManip(arguments,function(e){var d=a[b++],c=a[b++];c&&(d&&d.parentNode!==c&&(d=this.nextSibling),g(this).remove(),c.insertBefore(e,d))},!0);return b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,e){a=ja.apply([],a);var d,c,f,h,k=0,r=this.length,p=this,n=r-1,m=a[0],z=g.isFunction(m);if(z||!(1>=r||"string"!==typeof m||g.support.checkClone||
!jb.test(m)))return this.each(function(g){var d=p.eq(g);z&&(a[0]=m.call(this,g,d.html()));d.domManip(a,b,e)});if(r&&(d=g.buildFragment(a,this[0].ownerDocument,!1,!e&&this),c=d.firstChild,1===d.childNodes.length&&(d=c),c)){c=g.map(x(d,"script"),l);for(f=c.length;k<r;k++)h=d,k!==n&&(h=g.clone(h,!0,!0),f&&g.merge(c,x(h,"script"))),b.call(this[k],h,k);if(f){d=c[c.length-1].ownerDocument;g.map(c,t);for(k=0;k<f;k++)if(h=c[k],ya.test(h.type||"")&&!T.access(h,"globalEval")&&g.contains(d,h))h.src?g._evalUrl(h.src):
g.globalEval(h.textContent.replace(Va,""))}}return this}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(a){for(var e=[],d=g(a),c=d.length-1,f=0;f<=c;f++)a=f===c?this:this.clone(!0),g(d[f])[b](a),na.apply(e,a.get());return this.pushStack(e)}});g.extend({clone:function(a,b,e){var d,c,f,h,k=a.cloneNode(!0),r=g.contains(a.ownerDocument,a);if(!g.support.noCloneChecked&&(1===a.nodeType||11===a.nodeType)&&
!g.isXMLDoc(a)){h=x(k);f=x(a);d=0;for(c=f.length;d<c;d++){var l=f[d],p=h[d],n=p.nodeName.toLowerCase();if("input"===n&&Ra.test(l.type))p.checked=l.checked;else if("input"===n||"textarea"===n)p.defaultValue=l.defaultValue}}if(b)if(e){f=f||x(a);h=h||x(k);d=0;for(c=f.length;d<c;d++)v(f[d],h[d])}else v(a,k);h=x(k,"script");0<h.length&&u(h,!r&&x(a,"script"));return k},buildFragment:function(a,b,e,d){for(var c,f,h,k=0,r=a.length,l=b.createDocumentFragment(),p=[];k<r;k++)if((c=a[k])||0===c)if("object"===
g.type(c))g.merge(p,c.nodeType?[c]:c);else if(Qa.test(c)){f=f||l.appendChild(b.createElement("div"));h=(Ia.exec(c)||["",""])[1].toLowerCase();h=Ca[h]||Ca._default;f.innerHTML=h[1]+c.replace(fb,"<$1></$2>")+h[2];for(h=h[0];h--;)f=f.lastChild;g.merge(p,f.childNodes);f=l.firstChild;f.textContent=""}else p.push(b.createTextNode(c));l.textContent="";for(k=0;c=p[k++];)if(!(d&&-1!==g.inArray(c,d))&&(a=g.contains(c.ownerDocument,c),f=x(l.appendChild(c),"script"),a&&u(f),e))for(h=0;c=f[h++];)ya.test(c.type||
"")&&e.push(c);return l},cleanData:function(a){for(var e,d,c,f,h,k,r=g.event.special,l=0;(d=a[l])!==q;l++){if(b.accepts(d)&&(h=d[T.expando])&&(e=T.cache[h])){c=Object.keys(e.events||{});if(c.length)for(k=0;(f=c[k])!==q;k++)r[f]?g.event.remove(d,f):g.removeEvent(d,f,e.handle);T.cache[h]&&delete T.cache[h]}delete ba.cache[d[ba.expando]]}},_evalUrl:function(a){return g.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});g.fn.extend({wrapAll:function(a){var b;if(g.isFunction(a))return this.each(function(b){g(this).wrapAll(a.call(this,
b))});this[0]&&(b=g(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(e){g(this).wrapAll(b?a.call(this,
e):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}});var tb,Oa,ec=/^(none|table(?!-c[ea]).+)/,fc=/^margin/,pc=RegExp("^("+E+")(.*)$","i"),Sb=RegExp("^("+E+")(?!px)[a-z%]+$","i"),qc=RegExp("^([+-])=("+E+")","i"),kb={BODY:"block"},Tb={position:"absolute",visibility:"hidden",display:"block"},Ub={letterSpacing:0,fontWeight:400},Xa=["Top","Right","Bottom","Left"],Hb=["Webkit","O","Moz","ms"];g.fn.extend({css:function(a,
b){return g.access(this,function(a,b,e){var c,f={},h=0;if(g.isArray(b)){e=d.getComputedStyle(a,null);for(c=b.length;h<c;h++)f[b[h]]=g.css(a,b[h],!1,e);return f}return e!==q?g.style(a,b,e):g.css(a,b)},a,b,1<arguments.length)},show:function(){return K(this,!0)},hide:function(){return K(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){s(this)?g(this).show():g(this).hide()})}});g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=tb(a,"opacity");
return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,e,d){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var c,f,h,k=g.camelCase(b),r=a.style;b=g.cssProps[k]||(g.cssProps[k]=A(r,k));h=g.cssHooks[b]||g.cssHooks[k];if(e!==q){f=typeof e;if("string"===f&&(c=qc.exec(e)))e=(c[1]+1)*c[2]+parseFloat(g.css(a,b)),f="number";if(!(null==e||"number"===f&&isNaN(e)))if("number"===
f&&!g.cssNumber[k]&&(e+="px"),!g.support.clearCloneStyle&&(""===e&&0===b.indexOf("background"))&&(r[b]="inherit"),!h||!("set"in h)||(e=h.set(a,e,d))!==q)r[b]=e}else return h&&"get"in h&&(c=h.get(a,!1,d))!==q?c:r[b]}},css:function(a,b,e,d){var c,f;f=g.camelCase(b);b=g.cssProps[f]||(g.cssProps[f]=A(a.style,f));(f=g.cssHooks[b]||g.cssHooks[f])&&"get"in f&&(c=f.get(a,!0,e));c===q&&(c=tb(a,b,d));"normal"===c&&b in Ub&&(c=Ub[b]);return""===e||e?(a=parseFloat(c),!0===e||g.isNumeric(a)?a||0:c):c}});tb=function(a,
b,e){var c,f=(e=e||d.getComputedStyle(a,null))?e.getPropertyValue(b)||e[b]:q,h=a.style;e&&(""===f&&!g.contains(a.ownerDocument,a)&&(f=g.style(a,b)),Sb.test(f)&&fc.test(b)&&(a=h.width,b=h.minWidth,c=h.maxWidth,h.minWidth=h.maxWidth=h.width=f,f=e.width,h.width=a,h.minWidth=b,h.maxWidth=c));return f};g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,e,d){if(e)return 0===a.offsetWidth&&ec.test(g.css(a,"display"))?g.swap(a,Tb,function(){return y(a,b,d)}):y(a,b,d)},set:function(a,e,
c){var f=c&&d.getComputedStyle(a,null);return F(a,e,c?H(a,b,c,g.support.boxSizing&&"border-box"===g.css(a,"boxSizing",!1,f),f):0)}}});g(function(){g.support.reliableMarginRight||(g.cssHooks.marginRight={get:function(a,b){if(b)return g.swap(a,{display:"inline-block"},tb,[a,"marginRight"])}});!g.support.pixelPosition&&g.fn.position&&g.each(["top","left"],function(a,b){g.cssHooks[b]={get:function(a,e){if(e)return e=tb(a,b),Sb.test(e)?g(a).position()[b]+"px":e}}})});g.expr&&g.expr.filters&&(g.expr.filters.hidden=
function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight},g.expr.filters.visible=function(a){return!g.expr.filters.hidden(a)});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(e){var g=0,d={};for(e="string"===typeof e?e.split(" "):[e];4>g;g++)d[a+Xa[g]+b]=e[g]||e[g-2]||e[0];return d}};fc.test(a)||(g.cssHooks[a+b].set=F)});var gc=/%20/g,Lb=/\[\]$/,Bb=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,vb=/^(?:input|select|textarea|keygen)/i;g.fn.extend({serialize:function(){return g.param(this.serializeArray())},
serializeArray:function(){return this.map(function(){var a=g.prop(this,"elements");return a?g.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!g(this).is(":disabled")&&vb.test(this.nodeName)&&!hc.test(a)&&(this.checked||!Ra.test(a))}).map(function(a,b){var e=g(this).val();return null==e?null:g.isArray(e)?g.map(e,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:e.replace(Bb,"\r\n")}}).get()}});g.param=function(a,b){var e,d=[],c=function(a,b){b=
g.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};b===q&&(b=g.ajaxSettings&&g.ajaxSettings.traditional);if(g.isArray(a)||a.jquery&&!g.isPlainObject(a))g.each(a,function(){c(this.name,this.value)});else for(e in a)J(e,a[e],b,c);return d.join("&").replace(gc,"+")};g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){g.fn[b]=function(a,e){return 0<arguments.length?this.on(b,null,a,e):this.trigger(b)}});g.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,e,g){return this.on(b,a,e,g)},undelegate:function(a,b,e){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",e)}});var ub,ka,la=g.now(),ua=/\?/,ga=/#.*$/,sa=/([?&])_=[^&]*/,$a=/^(.*?):[ \t]*([^\r\n]*)$/mg,
ab=/^(?:GET|HEAD)$/,fa=/^\/\//,Mb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pb=g.fn.load,kc={},Pb={},Xb="*/".concat("*");try{ka=X.href}catch(Dc){ka=P.createElement("a"),ka.href="",ka=ka.href}ub=Mb.exec(ka.toLowerCase())||[];g.fn.load=function(a,b,e){if("string"!==typeof a&&pb)return pb.apply(this,arguments);var d,c,f,h=this,k=a.indexOf(" ");0<=k&&(d=a.slice(k),a=a.slice(0,k));g.isFunction(b)?(e=b,b=q):b&&"object"===typeof b&&(c="POST");0<h.length&&g.ajax({url:a,type:c,dataType:"html",data:b}).done(function(a){f=
arguments;h.html(d?g("<div>").append(g.parseHTML(a)).find(d):a)}).complete(e&&function(a,b){h.each(e,f||[a.responseText,b,a])});return this};g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ka,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ub[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":Xb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?C(C(a,g.ajaxSettings),b):C(g.ajaxSettings,a)},ajaxPrefilter:w(kc),ajaxTransport:w(Pb),ajax:function(a,
b){function e(a,b,h,r){var p,v,w,u;u=b;if(2!==t){t=2;k&&clearTimeout(k);d=q;f=r||"";B.readyState=0<a?4:0;r=200<=a&&300>a||304===a;if(h){w=n;for(var x=B,G,s,W,U,I=w.contents,F=w.dataTypes;"*"===F[0];)F.shift(),G===q&&(G=w.mimeType||x.getResponseHeader("Content-Type"));if(G)for(s in I)if(I[s]&&I[s].test(G)){F.unshift(s);break}if(F[0]in h)W=F[0];else{for(s in h){if(!F[0]||w.converters[s+" "+F[0]]){W=s;break}U||(U=s)}W=W||U}W?(W!==F[0]&&F.unshift(W),w=h[W]):w=void 0}a:{h=n;G=w;s=B;W=r;var M,N,D,x={},
I=h.dataTypes.slice();if(I[1])for(N in h.converters)x[N.toLowerCase()]=h.converters[N];for(U=I.shift();U;)if(h.responseFields[U]&&(s[h.responseFields[U]]=G),!D&&(W&&h.dataFilter)&&(G=h.dataFilter(G,h.dataType)),D=U,U=I.shift())if("*"===U)U=D;else if("*"!==D&&D!==U){N=x[D+" "+U]||x["* "+U];if(!N)for(M in x)if(w=M.split(" "),w[1]===U&&(N=x[D+" "+w[0]]||x["* "+w[0]])){!0===N?N=x[M]:!0!==x[M]&&(U=w[0],I.unshift(w[1]));break}if(!0!==N)if(N&&h["throws"])G=N(G);else try{G=N(G)}catch(A){w={state:"parsererror",
error:N?A:"No conversion from "+D+" to "+U};break a}}w={state:"success",data:G}}if(r)n.ifModified&&((u=B.getResponseHeader("Last-Modified"))&&(g.lastModified[c]=u),(u=B.getResponseHeader("etag"))&&(g.etag[c]=u)),204===a||"HEAD"===n.type?u="nocontent":304===a?u="notmodified":(u=w.state,p=w.data,v=w.error,r=!v);else if(v=u,a||!u)u="error",0>a&&(a=0);B.status=a;B.statusText=(b||u)+"";r?y.resolveWith(m,[p,u,B]):y.rejectWith(m,[B,u,v]);B.statusCode(C);C=q;l&&z.trigger(r?"ajaxSuccess":"ajaxError",[B,n,
r?p:v]);E.fireWith(m,[B,u]);l&&(z.trigger("ajaxComplete",[B,n]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=q);b=b||{};var d,c,f,h,k,r,l,p,n=g.ajaxSetup({},b),m=n.context||n,z=n.context&&(m.nodeType||m.jquery)?g(m):g.event,y=g.Deferred(),E=g.Callbacks("once memory"),C=n.statusCode||{},v={},w={},t=0,u="canceled",B={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!h)for(h={};b=$a.exec(f);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},
getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var e=a.toLowerCase();t||(a=w[e]=w[e]||a,v[a]=b);return this},overrideMimeType:function(a){t||(n.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)C[b]=[C[b],a[b]];else B.always(a[B.status]);return this},abort:function(a){a=a||u;d&&d.abort(a);e(0,a);return this}};y.promise(B).complete=E.add;B.success=B.done;B.error=B.fail;n.url=((a||n.url||ka)+"").replace(ga,"").replace(fa,ub[1]+"//");n.type=
b.method||b.type||n.method||n.type;n.dataTypes=g.trim(n.dataType||"*").toLowerCase().match(G)||[""];null==n.crossDomain&&(r=Mb.exec(n.url.toLowerCase()),n.crossDomain=!(!r||!(r[1]!==ub[1]||r[2]!==ub[2]||(r[3]||("http:"===r[1]?"80":"443"))!==(ub[3]||("http:"===ub[1]?"80":"443")))));n.data&&(n.processData&&"string"!==typeof n.data)&&(n.data=g.param(n.data,n.traditional));S(kc,n,b,B);if(2===t)return B;(l=n.global)&&0===g.active++&&g.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=
!ab.test(n.type);c=n.url;n.hasContent||(n.data&&(c=n.url+=(ua.test(c)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=sa.test(c)?c.replace(sa,"$1_="+la++):c+(ua.test(c)?"&":"?")+"_="+la++));n.ifModified&&(g.lastModified[c]&&B.setRequestHeader("If-Modified-Since",g.lastModified[c]),g.etag[c]&&B.setRequestHeader("If-None-Match",g.etag[c]));(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&B.setRequestHeader("Content-Type",n.contentType);B.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?
n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+Xb+"; q=0.01":""):n.accepts["*"]);for(p in n.headers)B.setRequestHeader(p,n.headers[p]);if(n.beforeSend&&(!1===n.beforeSend.call(m,B,n)||2===t))return B.abort();u="abort";for(p in{success:1,error:1,complete:1})B[p](n[p]);if(d=S(Pb,n,b,B)){B.readyState=1;l&&z.trigger("ajaxSend",[B,n]);n.async&&0<n.timeout&&(k=setTimeout(function(){B.abort("timeout")},n.timeout));try{t=1,d.send(v,e)}catch(x){if(2>t)e(-1,x);else throw x;}}else e(-1,"No Transport");
return B},getJSON:function(a,b,e){return g.get(a,b,e,"json")},getScript:function(a,b){return g.get(a,q,b,"script")}});g.each(["get","post"],function(a,b){g[b]=function(a,e,d,c){g.isFunction(e)&&(c=c||d,d=e,e=q);return g.ajax({url:a,type:b,dataType:c,data:e,success:d})}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){g.globalEval(a);return a}}});
g.ajaxPrefilter("script",function(a){a.cache===q&&(a.cache=!1);a.crossDomain&&(a.type="GET")});g.ajaxTransport("script",function(a){if(a.crossDomain){var b,e;return{send:function(d,c){b=g("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",e=function(a){b.remove();e=null;a&&c("error"===a.type?404:200,a.type)});P.head.appendChild(b[0])},abort:function(){e&&e()}}}});var Ob=[],Yb=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ob.pop()||g.expando+
"_"+la++;this[a]=!0;return a}});g.ajaxPrefilter("json jsonp",function(a,b,e){var c,f,h,k=!1!==a.jsonp&&(Yb.test(a.url)?"url":"string"===typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yb.test(a.data)&&"data");if(k||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=g.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,k?a[k]=a[k].replace(Yb,"$1"+c):!1!==a.jsonp&&(a.url+=(ua.test(a.url)?"&":"?")+a.jsonp+"="+c),a.converters["script json"]=function(){h||g.error(c+
" was not called");return h[0]},a.dataTypes[0]="json",f=d[c],d[c]=function(){h=arguments},e.always(function(){d[c]=f;a[c]&&(a.jsonpCallback=b.jsonpCallback,Ob.push(c));h&&g.isFunction(f)&&f(h[0]);h=f=q}),"script"});g.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var bb=g.ajaxSettings.xhr(),xb={0:200,1223:204},Ma=0,va={};if(d.ActiveXObject)g(d).on("unload",function(){for(var a in va)va[a]();va=q});g.support.cors=!!bb&&"withCredentials"in bb;g.support.ajax=bb=!!bb;g.ajaxTransport(function(a){var b;
if(g.support.cors||bb&&!a.crossDomain)return{send:function(e,g){var d,c,f=a.xhr();f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(d in a.xhrFields)f[d]=a.xhrFields[d];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);!a.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");for(d in e)f.setRequestHeader(d,e[d]);b=function(a){return function(){b&&(delete va[c],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?g(f.status||404,f.statusText):
g(xb[f.status]||f.status,f.statusText,"string"===typeof f.responseText?{text:f.responseText}:q,f.getAllResponseHeaders()))}};f.onload=b();f.onerror=b("error");b=va[c=Ma++]=b("abort");f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}});var Sa,Za,cb=/^(?:toggle|show|hide)$/,Ua=RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),mb=/queueHooks$/,qb=[function(a,b,e){var d,c,f,h,k,r=this,l={},p=a.style,n=a.nodeType&&s(a),m=T.get(a,"fxshow");e.queue||(h=g._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=
0,k=h.empty.fire,h.empty.fire=function(){h.unqueued||k()}),h.unqueued++,r.always(function(){r.always(function(){h.unqueued--;g.queue(a,"fx").length||h.empty.fire()})}));if(1===a.nodeType&&("height"in b||"width"in b))e.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===g.css(a,"display")&&"none"===g.css(a,"float")&&(p.display="inline-block");e.overflow&&(p.overflow="hidden",r.always(function(){p.overflow=e.overflow[0];p.overflowX=e.overflow[1];p.overflowY=e.overflow[2]}));for(d in b)if(c=b[d],
cb.exec(c)){delete b[d];f=f||"toggle"===c;if(c===(n?"hide":"show"))if("show"===c&&m&&m[d]!==q)n=!0;else continue;l[d]=m&&m[d]||g.style(a,d)}if(!g.isEmptyObject(l))for(d in m?"hidden"in m&&(n=m.hidden):m=T.access(a,"fxshow",{}),f&&(m.hidden=!n),n?g(a).show():r.done(function(){g(a).hide()}),r.done(function(){var b;T.remove(a,"fxshow");for(b in l)g.style(a,b,l[b])}),l)b=N(n?m[d]:0,d,r),d in m||(m[d]=b.start,n&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],za={"*":[function(a,b){var e=this.createTween(a,
b),d=e.cur(),c=Ua.exec(b),f=c&&c[3]||(g.cssNumber[a]?"":"px"),h=(g.cssNumber[a]||"px"!==f&&+d)&&Ua.exec(g.css(e.elem,a)),k=1,r=20;if(h&&h[3]!==f){f=f||h[3];c=c||[];h=+d||1;do k=k||".5",h/=k,g.style(e.elem,a,h+f);while(k!==(k=e.cur()/d)&&1!==k&&--r)}c&&(h=e.start=+h||+d||0,e.unit=f,e.end=c[1]?h+(c[1]+1)*c[2]:+c[2]);return e}]};g.Animation=g.extend(D,{tweener:function(a,b){g.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var e,d=0,c=a.length;d<c;d++)e=a[d],za[e]=za[e]||[],za[e].unshift(b)},prefilter:function(a,
b){b?qb.unshift(a):qb.push(a)}});g.Tween=V;V.prototype={constructor:V,init:function(a,b,e,d,c,f){this.elem=a;this.prop=e;this.easing=c||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(g.cssNumber[e]?"":"px")},cur:function(){var a=V.propHooks[this.prop];return a&&a.get?a.get(this):V.propHooks._default.get(this)},run:function(a){var b,e=V.propHooks[this.prop];this.pos=this.options.duration?b=g.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=
a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);e&&e.set?e.set(this):V.propHooks._default.set(this);return this}};V.prototype.init.prototype=V.prototype;V.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];a=g.css(a.elem,a.prop,"");return!a||"auto"===a?0:a},set:function(a){if(g.fx.step[a.prop])g.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[g.cssProps[a.prop]]||
g.cssHooks[a.prop])?g.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};g.each(["toggle","show","hide"],function(a,b){var e=g.fn[b];g.fn[b]=function(a,g,d){return null==a||"boolean"===typeof a?e.apply(this,arguments):this.animate(Y(b,!0),a,g,d)}});g.fn.extend({fadeTo:function(a,b,e,g){return this.filter(s).css("opacity",0).show().end().animate({opacity:b},a,e,g)},animate:function(a,
b,e,d){var c=g.isEmptyObject(a),f=g.speed(b,e,d);b=function(){var b=D(this,g.extend({},a),f);(c||T.get(this,"finish"))&&b.stop(!0)};b.finish=b;return c||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,e){var d=function(a){var b=a.stop;delete a.stop;b(e)};"string"!==typeof a&&(e=b,b=a,a=q);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=g.timers,h=T.get(this);if(c)h[c]&&h[c].stop&&d(h[c]);else for(c in h)h[c]&&(h[c].stop&&mb.test(c))&&
d(h[c]);for(c=f.length;c--;)if(f[c].elem===this&&(null==a||f[c].queue===a))f[c].anim.stop(e),b=!1,f.splice(c,1);(b||!e)&&g.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,e=T.get(this),d=e[a+"queue"];b=e[a+"queueHooks"];var c=g.timers,f=d?d.length:0;e.finish=!0;g.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===a&&(c[b].anim.stop(!0),c.splice(b,1));for(b=0;b<f;b++)d[b]&&d[b].finish&&d[b].finish.call(this);
delete e.finish})}});g.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,e,g){return this.animate(b,a,e,g)}});g.speed=function(a,b,e){var d=a&&"object"===typeof a?g.extend({},a):{complete:e||!e&&b||g.isFunction(a)&&a,duration:a,easing:e&&b||b&&!g.isFunction(b)&&b};d.duration=g.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in g.fx.speeds?g.fx.speeds[d.duration]:
g.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){g.isFunction(d.old)&&d.old.call(this);d.queue&&g.dequeue(this,d.queue)};return d};g.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};g.timers=[];g.fx=V.prototype.init;g.fx.tick=function(){var a,b=g.timers,e=0;for(Sa=g.now();e<b.length;e++)a=b[e],!a()&&b[e]===a&&b.splice(e--,1);b.length||g.fx.stop();Sa=q};g.fx.timer=function(a){a()&&g.timers.push(a)&&g.fx.start()};
g.fx.interval=13;g.fx.start=function(){Za||(Za=setInterval(g.fx.tick,g.fx.interval))};g.fx.stop=function(){clearInterval(Za);Za=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fx.step={};g.expr&&g.expr.filters&&(g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length});g.fn.offset=function(a){if(arguments.length)return a===q?this:this.each(function(b){g.offset.setOffset(this,a,b)});var b,e;e=this[0];var d={top:0,left:0},c=e&&e.ownerDocument;if(c){b=c.documentElement;
if(!g.contains(b,e))return d;typeof e.getBoundingClientRect!==R&&(d=e.getBoundingClientRect());e=g.isWindow(c)?c:9===c.nodeType&&c.defaultView;return{top:d.top+e.pageYOffset-b.clientTop,left:d.left+e.pageXOffset-b.clientLeft}}};g.offset={setOffset:function(a,b,e){var d,c,f,h=g.css(a,"position"),k=g(a),r={};"static"===h&&(a.style.position="relative");f=k.offset();c=g.css(a,"top");d=g.css(a,"left");("absolute"===h||"fixed"===h)&&-1<(c+d).indexOf("auto")?(d=k.position(),c=d.top,d=d.left):(c=parseFloat(c)||
0,d=parseFloat(d)||0);g.isFunction(b)&&(b=b.call(a,e,f));null!=b.top&&(r.top=b.top-f.top+c);null!=b.left&&(r.left=b.left-f.left+d);"using"in b?b.using.call(a,r):k.css(r)}};g.fn.extend({position:function(){if(this[0]){var a,b,e=this[0],d={top:0,left:0};"fixed"===g.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),g.nodeName(a[0],"html")||(d=a.offset()),d.top+=g.css(a[0],"borderTopWidth",!0),d.left+=g.css(a[0],"borderLeftWidth",!0));return{top:b.top-d.top-g.css(e,
"marginTop",!0),left:b.left-d.left-g.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ha;a&&!g.nodeName(a,"html")&&"static"===g.css(a,"position");)a=a.offsetParent;return a||ha})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var e="pageYOffset"===b;g.fn[a]=function(c){return g.access(this,function(a,c,f){var h=g.isWindow(a)?a:9===a.nodeType&&a.defaultView;if(f===q)return h?h[b]:a[c];h?h.scrollTo(!e?f:d.pageXOffset,
e?f:d.pageYOffset):a[c]=f},a,c,arguments.length,null)}});g.each({Height:"height",Width:"width"},function(a,b){g.each({padding:"inner"+a,content:b,"":"outer"+a},function(e,d){g.fn[d]=function(d,c){var f=arguments.length&&(e||"boolean"!==typeof d),h=e||(!0===d||!0===c?"margin":"border");return g.access(this,function(b,e,d){return g.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+
a])):d===q?g.css(b,e,h):g.style(b,e,d,h)},b,f?d:q,f,null)}})});g.fn.size=function(){return this.length};g.fn.andSelf=g.fn.addBack;"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=g:"function"===typeof define&&define.amd&&define("jquery",[],function(){return g});"object"===typeof d&&"object"===typeof d.document&&(d.jQuery=d.$=g)})(window);
(function(d,q){function c(a,b){var c,k;c=a.nodeName.toLowerCase();if("area"===c){c=a.parentNode;k=c.name;if(!a.href||!k||"map"!==c.nodeName.toLowerCase())return!1;c=d("img[usemap=#"+k+"]")[0];return!!c&&f(c)}return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&f(a)}function f(a){return d.expr.filters.visible(a)&&!d(a).parents().addBack().filter(function(){return"hidden"===d.css(this,"visibility")}).length}var b=0,k=/^ui-id-\d+$/;d.ui=d.ui||{};d.extend(d.ui,{version:"1.10.3",
keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});d.fn.extend({focus:function(a){return function(b,c){return"number"===typeof b?this.each(function(){var a=this;setTimeout(function(){d(a).focus();c&&c.call(a)},b)}):a.apply(this,arguments)}}(d.fn.focus),scrollParent:function(){var a;a=
d.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.css(this,"position"))&&/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.css(this,"overflow")+d.css(this,"overflow-y")+d.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?d(document):
a},zIndex:function(a){if(a!==q)return this.css("zIndex",a);if(this.length){a=d(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})},removeUniqueId:function(){return this.each(function(){k.test(this.id)&&d(this).removeAttr("id")})}});d.extend(d.expr[":"],{data:d.expr.createPseudo?
d.expr.createPseudo(function(a){return function(b){return!!d.data(b,a)}}):function(a,b,c){return!!d.data(a,c[3])},focusable:function(a){return c(a,!isNaN(d.attr(a,"tabindex")))},tabbable:function(a){var b=d.attr(a,"tabindex"),f=isNaN(b);return(f||0<=b)&&c(a,!f)}});d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],function(a,b){function c(a,b,e,h){d.each(f,function(){b-=parseFloat(d.css(a,"padding"+this))||0;e&&(b-=parseFloat(d.css(a,"border"+this+"Width"))||0);h&&(b-=parseFloat(d.css(a,"margin"+
this))||0)});return b}var f="Width"===b?["Left","Right"]:["Top","Bottom"],k=b.toLowerCase(),m={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+b]=function(a){return a===q?m["inner"+b].call(this):this.each(function(){d(this).css(k,c(this,a)+"px")})};d.fn["outer"+b]=function(a,f){return"number"!==typeof a?m["outer"+b].call(this,a):this.each(function(){d(this).css(k,c(this,a,!0,f)+"px")})}});d.fn.addBack||(d.fn.addBack=function(a){return this.add(null==
a?this.prevObject:this.prevObject.filter(a))});d("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(d.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,d.camelCase(b)):a.call(this)}}(d.fn.removeData));d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());d.support.selectstart="onselectstart"in document.createElement("div");d.fn.extend({disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",
function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.extend(d.ui,{plugin:{add:function(a,b,c){var f;a=d.ui[a].prototype;for(f in c)a.plugins[f]=a.plugins[f]||[],a.plugins[f].push([b,c[f]])},call:function(a,b,d){var c=a.plugins[b];if(c&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;b<c.length;b++)a.options[c[b][0]]&&c[b][1].apply(a.element,d)}},hasScroll:function(a,b){if("hidden"===d(a).css("overflow"))return!1;var c=
b&&"left"===b?"scrollLeft":"scrollTop",f=!1;if(0<a[c])return!0;a[c]=1;f=0<a[c];a[c]=0;return f}})})(jQuery);
(function(d,q){var c=0,f=Array.prototype.slice,b=d.cleanData;d.cleanData=function(c){for(var a=0,e;null!=(e=c[a]);a++)try{d(e).triggerHandler("remove")}catch(f){}b(c)};d.widget=function(b,a,e){var c,f,n,m,l={},t=b.split(".")[0];b=b.split(".")[1];c=t+"-"+b;e||(e=a,a=d.Widget);d.expr[":"][c.toLowerCase()]=function(a){return!!d.data(a,c)};d[t]=d[t]||{};f=d[t][b];n=d[t][b]=function(a,b){if(!this._createWidget)return new n(a,b);arguments.length&&this._createWidget(a,b)};d.extend(n,f,{version:e.version,
_proto:d.extend({},e),_childConstructors:[]});m=new a;m.options=d.widget.extend({},m.options);d.each(e,function(b,e){d.isFunction(e)?l[b]=function(){var d=function(){return a.prototype[b].apply(this,arguments)},c=function(e){return a.prototype[b].apply(this,e)};return function(){var a=this._super,b=this._superApply,f;this._super=d;this._superApply=c;f=e.apply(this,arguments);this._super=a;this._superApply=b;return f}}():l[b]=e});n.prototype=d.widget.extend(m,{widgetEventPrefix:f?m.widgetEventPrefix:
b},l,{constructor:n,namespace:t,widgetName:b,widgetFullName:c});f?(d.each(f._childConstructors,function(a,b){var e=b.prototype;d.widget(e.namespace+"."+e.widgetName,n,b._proto)}),delete f._childConstructors):a._childConstructors.push(n);d.widget.bridge(b,n)};d.widget.extend=function(b){for(var a=f.call(arguments,1),e=0,c=a.length,p,n;e<c;e++)for(p in a[e])n=a[e][p],a[e].hasOwnProperty(p)&&n!==q&&(d.isPlainObject(n)?b[p]=d.isPlainObject(b[p])?d.widget.extend({},b[p],n):d.widget.extend({},n):b[p]=n);
return b};d.widget.bridge=function(b,a){var e=a.prototype.widgetFullName||b;d.fn[b]=function(c){var p="string"===typeof c,n=f.call(arguments,1),m=this;c=!p&&n.length?d.widget.extend.apply(null,[c].concat(n)):c;p?this.each(function(){var a,f=d.data(this,e);if(!f)return d.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+c+"'");if(!d.isFunction(f[c])||"_"===c.charAt(0))return d.error("no such method '"+c+"' for "+b+" widget instance");a=f[c].apply(f,n);if(a!==
f&&a!==q)return m=a&&a.jquery?m.pushStack(a.get()):a,!1}):this.each(function(){var b=d.data(this,e);b?b.option(c||{})._init():d.data(this,e,new a(c,this))});return m}};d.Widget=function(){};d.Widget._childConstructors=[];d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=d(a||this.defaultElement||this)[0];this.element=d(a);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=d.widget.extend({},
this.options,this._getCreateOptions(),b);this.bindings=d();this.hoverable=d();this.focusable=d();a!==this&&(d.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===a&&this.destroy()}}),this.document=d(a.style?a.ownerDocument:a.document||a),this.window=d(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,
_init:d.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},
option:function(b,a){var e=b,c,f,n;if(0===arguments.length)return d.widget.extend({},this.options);if("string"===typeof b)if(e={},c=b.split("."),b=c.shift(),c.length){f=e[b]=d.widget.extend({},this.options[b]);for(n=0;n<c.length-1;n++)f[c[n]]=f[c[n]]||{},f=f[c[n]];b=c.pop();if(a===q)return f[b]===q?null:f[b];f[b]=a}else{if(a===q)return this.options[b]===q?null:this.options[b];e[b]=a}this._setOptions(e);return this},_setOptions:function(b){for(var a in b)this._setOption(a,b[a]);return this},_setOption:function(b,
a){this.options[b]=a;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!a).attr("aria-disabled",a),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,a,e){var c,f=this;"boolean"!==typeof b&&(e=a,a=b,b=!1);e?(a=c=d(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,c=
this.widget());d.each(e,function(e,m){function l(){if(b||!(!0===f.options.disabled||d(this).hasClass("ui-state-disabled")))return("string"===typeof m?f[m]:m).apply(f,arguments)}"string"!==typeof m&&(l.guid=m.guid=m.guid||l.guid||d.guid++);var t=e.match(/^(\w+)\s*(.*)$/),u=t[1]+f.eventNamespace;(t=t[2])?c.delegate(t,u,l):a.bind(u,l)})},_off:function(b,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(a).undelegate(a)},_delay:function(b,a){var e=this;return setTimeout(function(){return("string"===
typeof b?e[b]:b).apply(e,arguments)},a||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(a){d(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){d(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(a){d(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){d(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,a,e){var c,
f=this.options[b];e=e||{};a=d.Event(a);a.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();a.target=this.element[0];if(b=a.originalEvent)for(c in b)c in a||(a[c]=b[c]);this.element.trigger(a,e);return!(d.isFunction(f)&&!1===f.apply(this.element[0],[a].concat(e))||a.isDefaultPrevented())}};d.each({show:"fadeIn",hide:"fadeOut"},function(b,a){d.Widget.prototype["_"+b]=function(e,c,f){"string"===typeof c&&(c={effect:c});var n,m=!c?b:!0===c||"number"===typeof c?a:c.effect||a;c=
c||{};"number"===typeof c&&(c={duration:c});n=!d.isEmptyObject(c);c.complete=f;c.delay&&e.delay(c.delay);if(n&&d.effects&&d.effects.effect[m])e[b](c);else if(m!==b&&e[m])e[m](c.duration,c.easing,f);else e.queue(function(a){d(this)[b]();f&&f.call(e[0]);a()})}})})(jQuery);
(function(d,q){var c=!1;d(document).mouseup(function(){c=!1});d.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===d.data(b.target,c.widgetName+".preventClickEvent"))return d.removeData(b.target,c.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(f){if(!c){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var b=this,k=1===f.which,a="string"===typeof this.options.cancel&&f.target.nodeName?d(f.target).closest(this.options.cancel).length:!1;if(!k||a||!this._mouseCapture(f))return!0;this.mouseDelayMet=
!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)&&(this._mouseStarted=!1!==this._mouseStart(f),!this._mouseStarted))return f.preventDefault(),!0;!0===d.data(f.target,this.widgetName+".preventClickEvent")&&d.removeData(f.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return b._mouseMove(a)};this._mouseUpDelegate=function(a){return b._mouseUp(a)};
d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();return c=!0}},_mouseMove:function(c){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c));
return!this._mouseStarted},_mouseUp:function(c){d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&d.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(d,q){d.widget("ui.draggable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&
!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var f=this.options;if(this.helper||f.disabled||0<d(c.target).closest(".ui-resizable-handle").length)return!1;
this.handle=this._getHandle(c);if(!this.handle)return!1;d(!0===f.iframeFix?"iframe":f.iframeFix).each(function(){d("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")});return!0},_mouseStart:function(c){var f=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();
d.ui.ddmanager&&(d.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;d.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this._setContainment();if(!1===this._trigger("start",c))return this._clear(),!1;this._cacheHelperProportions();d.ui.ddmanager&&!f.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c);this._mouseDrag(c,!0);d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,c);return!0},
_mouseDrag:function(c,f){"fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!f){var b=this._uiHash();if(!1===this._trigger("drag",c,b))return this._mouseUp({}),!1;this.position=b.position}if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+
"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,c);return!1},_mouseStop:function(c){var f=this,b=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(b=d.ui.ddmanager.drop(this,c));this.dropped&&(b=this.dropped,this.dropped=!1);if("original"===this.options.helper&&!d.contains(this.element[0].ownerDocument,this.element[0]))return!1;"invalid"===this.options.revert&&!b||"valid"===this.options.revert&&b||!0===this.options.revert||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)?d(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",c)&&f._clear()}):!1!==this._trigger("stop",c)&&this._clear();return!1},_mouseUp:function(c){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,c);return d.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(c){return this.options.handle?
!!d(c.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(c){var f=this.options;c=d.isFunction(f.helper)?d(f.helper.apply(this.element[0],[c])):"clone"===f.helper?this.element.clone().removeAttr("id"):this.element;c.parents("body").length||c.appendTo("parent"===f.appendTo?this.element[0].parentNode:f.appendTo);c[0]!==this.element[0]&&!/(fixed|absolute)/.test(c.css("position"))&&c.css("position","absolute");return c},_adjustOffsetFromHelper:function(c){"string"===
typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){var c=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&
d.contains(this.scrollParent[0],this.offsetParent[0]))&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=
this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,f,b;c=this.options;if(c.containment)if("window"===c.containment)this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];else if("document"===c.containment)this.containment=[0,0,d(document).width()-this.helperProportions.width-this.margins.left,(d(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(c.containment.constructor===Array)this.containment=c.containment;else{if("parent"===c.containment&&(c.containment=this.helper[0].parentNode),f=d(c.containment),b=f[0])c="hidden"!==f.css("overflow"),this.containment=[(parseInt(f.css("borderLeftWidth"),
10)||0)+(parseInt(f.css("paddingLeft"),10)||0),(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(f.css("borderRightWidth"),10)||0)-(parseInt(f.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(f.css("borderBottomWidth"),10)||0)-(parseInt(f.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=f}else this.containment=null},_convertPositionTo:function(c,f){f||(f=this.position);var b="absolute"===c?1:-1,k="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;this.offset.scroll||(this.offset.scroll={top:k.scrollTop(),left:k.scrollLeft()});return{top:f.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():this.offset.scroll.top)*b,left:f.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*b}},_generatePosition:function(c){var f,b,k,a=this.options,e="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;k=c.pageX;b=c.pageY;this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),
left:e.scrollLeft()});this.originalPosition&&(this.containment&&(this.relative_container?(f=this.relative_container.offset(),f=[this.containment[0]+f.left,this.containment[1]+f.top,this.containment[2]+f.left,this.containment[3]+f.top]):f=this.containment,c.pageX-this.offset.click.left<f[0]&&(k=f[0]+this.offset.click.left),c.pageY-this.offset.click.top<f[1]&&(b=f[1]+this.offset.click.top),c.pageX-this.offset.click.left>f[2]&&(k=f[2]+this.offset.click.left),c.pageY-this.offset.click.top>f[3]&&(b=f[3]+
this.offset.click.top)),a.grid&&(b=a.grid[1]?this.originalPageY+Math.round((b-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,b=f?b-this.offset.click.top>=f[1]||b-this.offset.click.top>f[3]?b:b-this.offset.click.top>=f[1]?b-a.grid[1]:b+a.grid[1]:b,k=a.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,k=f?k-this.offset.click.left>=f[0]||k-this.offset.click.left>f[2]?k:k-this.offset.click.left>=f[0]?k-a.grid[0]:k+a.grid[0]:k));return{top:b-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(c,f,b){b=b||this._uiHash();d.ui.plugin.call(this,c,[f,b]);"drag"===c&&(this.positionAbs=this._convertPositionTo("absolute"));return d.Widget.prototype._trigger.call(this,c,f,b)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.ui.plugin.add("draggable","connectToSortable",{start:function(c,f){var b=d(this).data("ui-draggable"),k=b.options,a=d.extend({},f,{item:b.element});b.sortables=
[];d(k.connectToSortable).each(function(){var e=d.data(this,"ui-sortable");e&&!e.options.disabled&&(b.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",c,a))})},stop:function(c,f){var b=d(this).data("ui-draggable"),k=d.extend({},f,{item:b.element});d.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(c),this.instance.options.helper=this.instance.options._helper,"original"===b.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",c,k))})},drag:function(c,f){var b=d(this).data("ui-draggable"),k=this;d.each(b.sortables,function(){var a=!1,e=this;this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(a=!0,d.each(b.sortables,function(){this.instance.positionAbs=b.positionAbs;this.instance.helperProportions=b.helperProportions;this.instance.offset.click=b.offset.click;this!==e&&(this.instance._intersectsWith(this.instance.containerCache)&&d.contains(e.instance.element[0],this.instance.element[0]))&&(a=!1);return a}));a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(k).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return f.helper[0]},c.target=this.instance.currentItem[0],this.instance._mouseCapture(c,!0),this.instance._mouseStart(c,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",c),b.dropped=
this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(c)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",c,this.instance._uiHash(this.instance)),this.instance._mouseStop(c,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
b._trigger("fromSortable",c),b.dropped=!1)})}});d.ui.plugin.add("draggable","cursor",{start:function(){var c=d("body"),f=d(this).data("ui-draggable").options;c.css("cursor")&&(f._cursor=c.css("cursor"));c.css("cursor",f.cursor)},stop:function(){var c=d(this).data("ui-draggable").options;c._cursor&&d("body").css("cursor",c._cursor)}});d.ui.plugin.add("draggable","opacity",{start:function(c,f){var b=d(f.helper),k=d(this).data("ui-draggable").options;b.css("opacity")&&(k._opacity=b.css("opacity"));b.css("opacity",
k.opacity)},stop:function(c,f){var b=d(this).data("ui-draggable").options;b._opacity&&d(f.helper).css("opacity",b._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var c=d(this).data("ui-draggable");c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName&&(c.overflowOffset=c.scrollParent.offset())},drag:function(c){var f=d(this).data("ui-draggable"),b=f.options,k=!1;if(f.scrollParent[0]!==document&&"HTML"!==f.scrollParent[0].tagName){if(!b.axis||"x"!==b.axis)f.overflowOffset.top+
f.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?f.scrollParent[0].scrollTop=k=f.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-f.overflowOffset.top<b.scrollSensitivity&&(f.scrollParent[0].scrollTop=k=f.scrollParent[0].scrollTop-b.scrollSpeed);if(!b.axis||"y"!==b.axis)f.overflowOffset.left+f.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?f.scrollParent[0].scrollLeft=k=f.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-f.overflowOffset.left<b.scrollSensitivity&&(f.scrollParent[0].scrollLeft=
k=f.scrollParent[0].scrollLeft-b.scrollSpeed)}else{if(!b.axis||"x"!==b.axis)c.pageY-d(document).scrollTop()<b.scrollSensitivity?k=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed):d(window).height()-(c.pageY-d(document).scrollTop())<b.scrollSensitivity&&(k=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed));if(!b.axis||"y"!==b.axis)c.pageX-d(document).scrollLeft()<b.scrollSensitivity?k=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed):d(window).width()-(c.pageX-d(document).scrollLeft())<
b.scrollSensitivity&&(k=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed))}!1!==k&&(d.ui.ddmanager&&!b.dropBehaviour)&&d.ui.ddmanager.prepareOffsets(f,c)}});d.ui.plugin.add("draggable","snap",{start:function(){var c=d(this).data("ui-draggable"),f=c.options;c.snapElements=[];d(f.snap.constructor!==String?f.snap.items||":data(ui-draggable)":f.snap).each(function(){var b=d(this),f=b.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:f.top,left:f.left})})},drag:function(c,f){var b,k,a,e,h,p,n,m,l,t,u=d(this).data("ui-draggable"),v=u.options,x=v.snapTolerance,A=f.offset.left,s=A+u.helperProportions.width,K=f.offset.top,F=K+u.helperProportions.height;for(l=u.snapElements.length-1;0<=l;l--)h=u.snapElements[l].left,p=h+u.snapElements[l].width,n=u.snapElements[l].top,m=n+u.snapElements[l].height,s<h-x||A>p+x||F<n-x||K>m+x||!d.contains(u.snapElements[l].item.ownerDocument,u.snapElements[l].item)?(u.snapElements[l].snapping&&u.options.snap.release&&
u.options.snap.release.call(u.element,c,d.extend(u._uiHash(),{snapItem:u.snapElements[l].item})),u.snapElements[l].snapping=!1):("inner"!==v.snapMode&&(b=Math.abs(n-F)<=x,k=Math.abs(m-K)<=x,a=Math.abs(h-s)<=x,e=Math.abs(p-A)<=x,b&&(f.position.top=u._convertPositionTo("relative",{top:n-u.helperProportions.height,left:0}).top-u.margins.top),k&&(f.position.top=u._convertPositionTo("relative",{top:m,left:0}).top-u.margins.top),a&&(f.position.left=u._convertPositionTo("relative",{top:0,left:h-u.helperProportions.width}).left-
u.margins.left),e&&(f.position.left=u._convertPositionTo("relative",{top:0,left:p}).left-u.margins.left)),t=b||k||a||e,"outer"!==v.snapMode&&(b=Math.abs(n-K)<=x,k=Math.abs(m-F)<=x,a=Math.abs(h-A)<=x,e=Math.abs(p-s)<=x,b&&(f.position.top=u._convertPositionTo("relative",{top:n,left:0}).top-u.margins.top),k&&(f.position.top=u._convertPositionTo("relative",{top:m-u.helperProportions.height,left:0}).top-u.margins.top),a&&(f.position.left=u._convertPositionTo("relative",{top:0,left:h}).left-u.margins.left),
e&&(f.position.left=u._convertPositionTo("relative",{top:0,left:p-u.helperProportions.width}).left-u.margins.left)),!u.snapElements[l].snapping&&(b||k||a||e||t)&&u.options.snap.snap&&u.options.snap.snap.call(u.element,c,d.extend(u._uiHash(),{snapItem:u.snapElements[l].item})),u.snapElements[l].snapping=b||k||a||e||t)}});d.ui.plugin.add("draggable","stack",{start:function(){var c,f=this.data("ui-draggable").options,f=d.makeArray(d(f.stack)).sort(function(b,c){return(parseInt(d(b).css("zIndex"),10)||
0)-(parseInt(d(c).css("zIndex"),10)||0)});f.length&&(c=parseInt(d(f[0]).css("zIndex"),10)||0,d(f).each(function(b){d(this).css("zIndex",c+b)}),this.css("zIndex",c+f.length))}});d.ui.plugin.add("draggable","zIndex",{start:function(c,f){var b=d(f.helper),k=d(this).data("ui-draggable").options;b.css("zIndex")&&(k._zIndex=b.css("zIndex"));b.css("zIndex",k.zIndex)},stop:function(c,f){var b=d(this).data("ui-draggable").options;b._zIndex&&d(f.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(d,q){d.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var c=this.options,f=c.accept;this.isover=!1;this.isout=!0;this.accept=d.isFunction(f)?f:function(b){return b.is(f)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[c.scope]=
d.ui.ddmanager.droppables[c.scope]||[];d.ui.ddmanager.droppables[c.scope].push(this);c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var c=0,f=d.ui.ddmanager.droppables[this.options.scope];c<f.length;c++)f[c]===this&&f.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,f){"accept"===c&&(this.accept=d.isFunction(f)?f:function(b){return b.is(f)});d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var f=
d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);f&&this._trigger("activate",c,this.ui(f))},_deactivate:function(c){var f=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",c,this.ui(f))},_over:function(c){var f=d.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!==this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&
this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(f))},_out:function(c){var f=d.ui.ddmanager.current;if(f&&(f.currentItem||f.element)[0]!==this.element[0])if(this.accept.call(this.element[0],f.currentItem||f.element))this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(f))},_drop:function(c,f){var b=f||d.ui.ddmanager.current,k=!1;if(!b||(b.currentItem||b.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var a=
d.data(this,"ui-droppable");if(a.options.greedy&&!a.options.disabled&&a.options.scope===b.options.scope&&a.accept.call(a.element[0],b.currentItem||b.element)&&d.ui.intersect(b,d.extend(a,{offset:a.element.offset()}),a.options.tolerance))return k=!0,!1});return k?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",c,
this.ui(b)),this.element):!1},ui:function(d){return{draggable:d.currentItem||d.element,helper:d.helper,position:d.position,offset:d.positionAbs}}});d.ui.intersect=function(d,f,b){if(!f.offset)return!1;var k=(d.positionAbs||d.position.absolute).left,a=k+d.helperProportions.width,e=(d.positionAbs||d.position.absolute).top,h=e+d.helperProportions.height,p=f.offset.left,n=p+f.proportions.width,m=f.offset.top,l=m+f.proportions.height;switch(b){case "fit":return p<=k&&a<=n&&m<=e&&h<=l;case "intersect":return p<
k+d.helperProportions.width/2&&a-d.helperProportions.width/2<n&&m<e+d.helperProportions.height/2&&h-d.helperProportions.height/2<l;case "pointer":return b=(d.positionAbs||d.position.absolute).left+(d.clickOffset||d.offset.click).left,d=(d.positionAbs||d.position.absolute).top+(d.clickOffset||d.offset.click).top,d>m&&d<m+f.proportions.height&&b>p&&b<p+f.proportions.width;case "touch":return(e>=m&&e<=l||h>=m&&h<=l||e<m&&h>l)&&(k>=p&&k<=n||a>=p&&a<=n||k<p&&a>n);default:return!1}};d.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(c,f){var b,k,a=d.ui.ddmanager.droppables[c.options.scope]||[],e=f?f.type:null,h=(c.currentItem||c.element).find(":data(ui-droppable)").addBack();b=0;a:for(;b<a.length;b++)if(!(a[b].options.disabled||c&&!a[b].accept.call(a[b].element[0],c.currentItem||c.element))){for(k=0;k<h.length;k++)if(h[k]===a[b].element[0]){a[b].proportions.height=0;continue a}a[b].visible="none"!==a[b].element.css("display");a[b].visible&&("mousedown"===e&&a[b]._activate.call(a[b],
f),a[b].offset=a[b].element.offset(),a[b].proportions={width:a[b].element[0].offsetWidth,height:a[b].element[0].offsetHeight})}},drop:function(c,f){var b=!1;d.each((d.ui.ddmanager.droppables[c.options.scope]||[]).slice(),function(){if(this.options&&(!this.options.disabled&&(this.visible&&d.ui.intersect(c,this,this.options.tolerance))&&(b=this._drop.call(this,f)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)))this.isout=!0,this.isover=!1,this._deactivate.call(this,
f)});return b},dragStart:function(c,f){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,f)})},drag:function(c,f){c.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(c,f);d.each(d.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var b,k,a;a=d.ui.intersect(c,this,this.options.tolerance);var e=!a&&this.isover?"isout":a&&!this.isover?"isover":null;e&&(this.options.greedy&&
(k=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return d.data(this,"ui-droppable").options.scope===k}),a.length&&(b=d.data(a[0],"ui-droppable"),b.greedyChild="isover"===e)),b&&"isover"===e&&(b.isover=!1,b.isout=!0,b._out.call(b,f)),this[e]=!0,this["isout"===e?"isover":"isout"]=!1,this["isover"===e?"_over":"_out"].call(this,f),b&&"isout"===e&&(b.isout=!1,b.isover=!0,b._over.call(b,f)))}})},dragStop:function(c,f){c.element.parentsUntil("body").unbind("scroll.droppable");
c.options.refreshPositions||d.ui.ddmanager.prepareOffsets(c,f)}}})(jQuery);
(function(d,q){function c(b){return parseInt(b,10)||0}function f(b){return!isNaN(parseInt(b,10))}d.widget("ui.resizable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,a,e,f,p=this,n=this.options;this.element.addClass("ui-resizable");
d.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(d("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=n.handles||(!d(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});
if(this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");b=this.handles.split(",");this.handles={};for(c=0;c<b.length;c++)a=d.trim(b[c]),f="ui-resizable-"+a,e=d("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:n.zIndex}),"se"===a&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(e)}this._renderAxis=function(a){var b,e,c;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=d(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(e=d(this.handles[b],this.element),c=/sw|ne|nw|se|n|s/.test(b)?e.outerHeight():e.outerWidth(),e=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(e,c),this._proportionallyResize()),d(this.handles[b])};this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){p.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),p.axis=e&&e[1]?e[1]:"se")});n.autoHide&&(this._handles.hide(),d(this.element).addClass("ui-resizable-autohide").mouseenter(function(){n.disabled||(d(this).removeClass("ui-resizable-autohide"),p._handles.show())}).mouseleave(function(){!n.disabled&&!p.resizing&&(d(this).addClass("ui-resizable-autohide"),p._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,c=function(a){d(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());this.originalElement.css("resize",this.originalResizeStyle);c(this.originalElement);
return this},_mouseCapture:function(b){var c,a,e=!1;for(c in this.handles)if(a=d(this.handles[c])[0],a===b.target||d.contains(a,b.target))e=!0;return!this.options.disabled&&e},_mouseStart:function(b){var f,a,e;e=this.options;f=this.element.position();var h=this.element;this.resizing=!0;/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:f.top,left:f.left});this._renderProxy();f=c(this.helper.css("left"));
a=c(this.helper.css("top"));e.containment&&(f+=d(e.containment).scrollLeft()||0,a+=d(e.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:f,top:a};this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()};this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()};this.originalPosition={left:f,top:a};this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-
h.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;e=d(".ui-resizable-"+this.axis).css("cursor");d("body").css("cursor","auto"===e?this.axis+"-resize":e);h.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var c,a=this.helper,e={};c=this.originalMousePosition;var f=this.position.top,p=this.position.left,n=this.size.width,m=this.size.height,
l=this._change[this.axis];if(!l)return!1;c=l.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._updateCache(c);this._propagate("resize",b);this.position.top!==f&&(e.top=this.position.top+"px");this.position.left!==p&&(e.left=this.position.left+"px");this.size.width!==n&&(e.width=this.size.width+"px");this.size.height!==m&&(e.height=this.size.height+"px");a.css(e);!this._helper&&
this._proportionallyResizeElements.length&&this._proportionallyResize();d.isEmptyObject(e)||this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c,a,e,f=this.options;this._helper&&(c=this._proportionallyResizeElements,c=(a=c.length&&/textarea/i.test(c[0].nodeName))&&d.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,a=a?0:this.sizeDiff.width,a={width:this.helper.width()-a,height:this.helper.height()-c},c=parseInt(this.element.css("left"),10)+(this.position.left-
this.originalPosition.left)||null,e=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,f.animate||this.element.css(d.extend(a,{top:e,left:c})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!f.animate&&this._proportionallyResize());d("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(b){var d,
a,e,c;c=this.options;c={minWidth:f(c.minWidth)?c.minWidth:0,maxWidth:f(c.maxWidth)?c.maxWidth:Infinity,minHeight:f(c.minHeight)?c.minHeight:0,maxHeight:f(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||b)b=c.minHeight*this.aspectRatio,a=c.minWidth/this.aspectRatio,d=c.maxHeight*this.aspectRatio,e=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),a>c.minHeight&&(c.minHeight=a),d<c.maxWidth&&(c.maxWidth=d),e<c.maxHeight&&(c.maxHeight=e);this._vBoundaries=c},_updateCache:function(b){this.offset=
this.helper.offset();f(b.left)&&(this.position.left=b.left);f(b.top)&&(this.position.top=b.top);f(b.height)&&(this.size.height=b.height);f(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var d=this.position,a=this.size,e=this.axis;f(b.height)?b.width=b.height*this.aspectRatio:f(b.width)&&(b.height=b.width/this.aspectRatio);"sw"===e&&(b.left=d.left+(a.width-b.width),b.top=null);"nw"===e&&(b.top=d.top+(a.height-b.height),b.left=d.left+(a.width-b.width));return b},_respectSize:function(b){var d=
this._vBoundaries,a=this.axis,e=f(b.width)&&d.maxWidth&&d.maxWidth<b.width,c=f(b.height)&&d.maxHeight&&d.maxHeight<b.height,p=f(b.width)&&d.minWidth&&d.minWidth>b.width,n=f(b.height)&&d.minHeight&&d.minHeight>b.height,m=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,t=/sw|nw|w/.test(a),a=/nw|ne|n/.test(a);p&&(b.width=d.minWidth);n&&(b.height=d.minHeight);e&&(b.width=d.maxWidth);c&&(b.height=d.maxHeight);p&&t&&(b.left=m-d.minWidth);e&&t&&(b.left=m-d.maxWidth);
n&&a&&(b.top=l-d.minHeight);c&&a&&(b.top=l-d.maxHeight);!b.width&&!b.height&&!b.left&&b.top?b.top=null:!b.width&&(!b.height&&!b.top&&b.left)&&(b.left=null);return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var b,d,a,e,c,f=this.helper||this.element;for(b=0;b<this._proportionallyResizeElements.length;b++){c=this._proportionallyResizeElements[b];if(!this.borderDif){this.borderDif=[];a=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),
c.css("borderLeftWidth")];e=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];for(d=0;d<a.length;d++)this.borderDif[d]=(parseInt(a[d],10)||0)+(parseInt(e[d],10)||0)}c.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||d("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,d){return{width:this.originalSize.width+d}},w:function(b,d){return{left:this.originalPosition.left+d,width:this.originalSize.width-d}},n:function(b,d,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(b,d,a){return{height:this.originalSize.height+
a}},se:function(b,c,a){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,a]))},sw:function(b,c,a){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,a]))},ne:function(b,c,a){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,a]))},nw:function(b,c,a){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,a]))}},_propagate:function(b,c){d.ui.plugin.call(this,b,[c,this.ui()]);
"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.ui.plugin.add("resizable","animate",{stop:function(b){var c=d(this).data("ui-resizable"),a=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),p=f&&d.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,f=
{width:c.size.width-(f?0:c.sizeDiff.width),height:c.size.height-p},p=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,n=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(d.extend(f,n&&p?{top:n,left:p}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};e&&e.length&&d(e[0]).css({width:a.width,height:a.height});c._updateCache(a);c._propagate("resize",b)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var b,f,a,e,h,p=d(this).data("ui-resizable"),n=p.element;a=p.options.containment;if(n=a instanceof d?a.get(0):/parent/.test(a)?n.parent().get(0):a)p.containerElement=d(n),/document/.test(a)||a===document?(p.containerOffset={left:0,top:0},p.containerPosition={left:0,top:0},p.parentData={element:d(document),left:0,top:0,width:d(document).width(),
height:d(document).height()||document.body.parentNode.scrollHeight}):(b=d(n),f=[],d(["Top","Right","Left","Bottom"]).each(function(a,e){f[a]=c(b.css("padding"+e))}),p.containerOffset=b.offset(),p.containerPosition=b.position(),p.containerSize={height:b.innerHeight()-f[3],width:b.innerWidth()-f[1]},a=p.containerOffset,e=p.containerSize.height,h=p.containerSize.width,h=d.ui.hasScroll(n,"left")?n.scrollWidth:h,e=d.ui.hasScroll(n)?n.scrollHeight:e,p.parentData={element:n,left:a.left,top:a.top,width:h,
height:e})},resize:function(b){var c,a,e,f,p=d(this).data("ui-resizable");c=p.options;a=p.containerOffset;e=p.position;b=p._aspectRatio||b.shiftKey;f={top:0,left:0};var n=p.containerElement;n[0]!==document&&/static/.test(n.css("position"))&&(f=a);if(e.left<(p._helper?a.left:0))p.size.width+=p._helper?p.position.left-a.left:p.position.left-f.left,b&&(p.size.height=p.size.width/p.aspectRatio),p.position.left=c.helper?a.left:0;if(e.top<(p._helper?a.top:0))p.size.height+=p._helper?p.position.top-a.top:
p.position.top,b&&(p.size.width=p.size.height*p.aspectRatio),p.position.top=p._helper?a.top:0;p.offset.left=p.parentData.left+p.position.left;p.offset.top=p.parentData.top+p.position.top;c=Math.abs(p.offset.left-f.left+p.sizeDiff.width);a=Math.abs((p._helper?p.offset.top-f.top:p.offset.top-a.top)+p.sizeDiff.height);e=p.containerElement.get(0)===p.element.parent().get(0);f=/relative|absolute/.test(p.containerElement.css("position"));e&&f&&(c-=p.parentData.left);c+p.size.width>=p.parentData.width&&
(p.size.width=p.parentData.width-c,b&&(p.size.height=p.size.width/p.aspectRatio));a+p.size.height>=p.parentData.height&&(p.size.height=p.parentData.height-a,b&&(p.size.width=p.size.height*p.aspectRatio))},stop:function(){var b=d(this).data("ui-resizable"),c=b.options,a=b.containerOffset,e=b.containerPosition,f=b.containerElement,p=d(b.helper),n=p.offset(),m=p.outerWidth()-b.sizeDiff.width,p=p.outerHeight()-b.sizeDiff.height;b._helper&&(!c.animate&&/relative/.test(f.css("position")))&&d(this).css({left:n.left-
e.left-a.left,width:m,height:p});b._helper&&(!c.animate&&/static/.test(f.css("position")))&&d(this).css({left:n.left-e.left-a.left,width:m,height:p})}});d.ui.plugin.add("resizable","alsoResize",{start:function(){var b=d(this).data("ui-resizable").options,c=function(a){d(a).each(function(){var a=d(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"===typeof b.alsoResize&&!b.alsoResize.parentNode?
b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):d.each(b.alsoResize,function(a){c(a)}):c(b.alsoResize)},resize:function(b,c){var a=d(this).data("ui-resizable"),e=a.options,f=a.originalSize,p=a.originalPosition,n={height:a.size.height-f.height||0,width:a.size.width-f.width||0,top:a.position.top-p.top||0,left:a.position.left-p.left||0},m=function(a,b){d(a).each(function(){var a=d(this),e=d(this).data("ui-resizable-alsoresize"),f={},h=b&&b.length?b:a.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];d.each(h,function(a,b){var d=(e[b]||0)+(n[b]||0);d&&0<=d&&(f[b]=d||null)});a.css(f)})};"object"===typeof e.alsoResize&&!e.alsoResize.nodeType?d.each(e.alsoResize,function(a,b){m(a,b)}):m(e.alsoResize)},stop:function(){d(this).removeData("resizable-alsoresize")}});d.ui.plugin.add("resizable","ghost",{start:function(){var b=d(this).data("ui-resizable"),c=b.options,a=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",
position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=d(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=d(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});d.ui.plugin.add("resizable","grid",{resize:function(){var b=d(this).data("ui-resizable"),
c=b.options,a=b.size,e=b.originalSize,f=b.originalPosition,p=b.axis,n="number"===typeof c.grid?[c.grid,c.grid]:c.grid,m=n[0]||1,l=n[1]||1,t=Math.round((a.width-e.width)/m)*m,a=Math.round((a.height-e.height)/l)*l,u=e.width+t,e=e.height+a,v=c.maxWidth&&c.maxWidth<u,x=c.maxHeight&&c.maxHeight<e,A=c.minWidth&&c.minWidth>u,s=c.minHeight&&c.minHeight>e;c.grid=n;A&&(u+=m);s&&(e+=l);v&&(u-=m);x&&(e-=l);/^(se|s|e)$/.test(p)?(b.size.width=u,b.size.height=e):/^(ne)$/.test(p)?(b.size.width=u,b.size.height=e,
b.position.top=f.top-a):(/^(sw)$/.test(p)?(b.size.width=u,b.size.height=e):(b.size.width=u,b.size.height=e,b.position.top=f.top-a),b.position.left=f.left-t)}})})(jQuery);
(function(d,q){d.widget("ui.selectable",d.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,f=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){c=d(f.options.filter,f.element[0]);c.addClass("ui-selectee");c.each(function(){var b=d(this),c=b.offset();d.data(this,"selectable-item",{element:this,$element:b,
left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");
this._mouseDestroy()},_mouseStart:function(c){var f=this,b=this.options;this.opos=[c.pageX,c.pageY];this.options.disabled||(this.selectees=d(b.filter,this.element[0]),this._trigger("start",c),d(b.appendTo).append(this.helper),this.helper.css({left:c.pageX,top:c.pageY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=d.data(this,"selectable-item");b.startselected=!0;!c.metaKey&&!c.ctrlKey&&(b.$element.removeClass("ui-selected"),b.selected=
!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,f._trigger("unselecting",c,{unselecting:b.element}))}),d(c.target).parents().addBack().each(function(){var b,a=d.data(this,"selectable-item");if(a)return b=!c.metaKey&&!c.ctrlKey||!a.$element.hasClass("ui-selected"),a.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),a.unselecting=!b,a.selecting=b,(a.selected=b)?f._trigger("selecting",c,{selecting:a.element}):f._trigger("unselecting",c,{unselecting:a.element}),
!1}))},_mouseDrag:function(c){this.dragged=!0;if(!this.options.disabled){var f,b=this,k=this.options,a=this.opos[0],e=this.opos[1],h=c.pageX,p=c.pageY;a>h&&(f=h,h=a,a=f);e>p&&(f=p,p=e,e=f);this.helper.css({left:a,top:e,width:h-a,height:p-e});this.selectees.each(function(){var f=d.data(this,"selectable-item"),m=!1;f&&f.element!==b.element[0]&&("touch"===k.tolerance?m=!(f.left>h||f.right<a||f.top>p||f.bottom<e):"fit"===k.tolerance&&(m=f.left>a&&f.right<h&&f.top>e&&f.bottom<p),m?(f.selected&&(f.$element.removeClass("ui-selected"),
f.selected=!1),f.unselecting&&(f.$element.removeClass("ui-unselecting"),f.unselecting=!1),f.selecting||(f.$element.addClass("ui-selecting"),f.selecting=!0,b._trigger("selecting",c,{selecting:f.element}))):(f.selecting&&((c.metaKey||c.ctrlKey)&&f.startselected?(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.$element.addClass("ui-selected"),f.selected=!0):(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.startselected&&(f.$element.addClass("ui-unselecting"),f.unselecting=!0),b._trigger("unselecting",
c,{unselecting:f.element}))),f.selected&&(!c.metaKey&&!c.ctrlKey&&!f.startselected)&&(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,b._trigger("unselecting",c,{unselecting:f.element}))))});return!1}},_mouseStop:function(c){var f=this;this.dragged=!1;d(".ui-unselecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-unselecting");b.unselecting=!1;b.startselected=!1;f._trigger("unselected",
c,{unselected:b.element})});d(".ui-selecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected");b.selecting=!1;b.selected=!0;b.startselected=!0;f._trigger("selected",c,{selected:b.element})});this._trigger("stop",c);this.helper.remove();return!1}})})(jQuery);
(function(d,q){function c(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"))}d.widget("ui.sortable",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",
zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?"x"===d.axis||c(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();
for(var d=this.items.length-1;0<=d;d--)this.items[d].item.removeData(this.widgetName+"-item");return this},_setOption:function(c,b){"disabled"===c?(this.options[c]=b,this.widget().toggleClass("ui-sortable-disabled",!!b)):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(c,b){var k=null,a=!1,e=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(c);d(c.target).parents().each(function(){if(d.data(this,e.widgetName+"-item")===
e)return k=d(this),!1});d.data(c.target,e.widgetName+"-item")===e&&(k=d(c.target));if(!k||this.options.handle&&!b&&(d(this.options.handle,k).find("*").addBack().each(function(){this===c.target&&(a=!0)}),!a))return!1;this.currentItem=k;this._removeCurrentsFromItems();return!0},_mouseStart:function(c,b,k){var a;b=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(c);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();
this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);
this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();b.cursor&&"auto"!==b.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",b.cursor),this.storedStylesheet=d("<style>*{ cursor: "+b.cursor+" !important; }</style>").appendTo(a));b.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),
this.helper.css("opacity",b.opacity));b.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",b.zIndex));this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",c,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!k)for(k=this.containers.length-1;0<=k;k--)this.containers[k]._trigger("activate",c,this._uiHash(this));d.ui.ddmanager&&
(d.ui.ddmanager.current=this);d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,c);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(c);return!0},_mouseDrag:function(c){var b,k,a,e;b=this.options;k=!1;this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+
this.scrollParent[0].offsetHeight-c.pageY<b.scrollSensitivity?this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop+b.scrollSpeed:c.pageY-this.overflowOffset.top<b.scrollSensitivity&&(this.scrollParent[0].scrollTop=k=this.scrollParent[0].scrollTop-b.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-c.pageX<b.scrollSensitivity?this.scrollParent[0].scrollLeft=k=this.scrollParent[0].scrollLeft+b.scrollSpeed:c.pageX-this.overflowOffset.left<b.scrollSensitivity&&(this.scrollParent[0].scrollLeft=
k=this.scrollParent[0].scrollLeft-b.scrollSpeed)):(c.pageY-d(document).scrollTop()<b.scrollSensitivity?k=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed):d(window).height()-(c.pageY-d(document).scrollTop())<b.scrollSensitivity&&(k=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed)),c.pageX-d(document).scrollLeft()<b.scrollSensitivity?k=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed):d(window).width()-(c.pageX-d(document).scrollLeft())<b.scrollSensitivity&&(k=d(document).scrollLeft(d(document).scrollLeft()+
b.scrollSpeed))),!1!==k&&(d.ui.ddmanager&&!b.dropBehaviour)&&d.ui.ddmanager.prepareOffsets(this,c));this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!==this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!==this.options.axis)this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;0<=b;b--)if(k=this.items[b],a=k.item[0],(e=this._intersectsWithPointer(k))&&k.instance===this.currentContainer&&a!==this.currentItem[0]&&
this.placeholder[1===e?"next":"prev"]()[0]!==a&&!d.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!d.contains(this.element[0],a):1)){this.direction=1===e?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(k))this._rearrange(c,k);else break;this._trigger("change",c,this._uiHash());break}this._contactContainers(c);d.ui.ddmanager&&d.ui.ddmanager.drag(this,c);this._trigger("sort",c,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(c,
b){if(c){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,c);if(this.options.revert){var k=this,a=this.placeholder.offset(),e=this.options.axis,h={};if(!e||"x"===e)h.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!e||"y"===e)h.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0;d(this.helper).animate(h,parseInt(this.options.revert,
10)||500,function(){k._clear(c)})}else this._clear(c,b);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;0<=c;c--)this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=
0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&(this.helper&&this.helper[0].parentNode)&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(c){var b=this._getItemsAsjQuery(c&&c.connected),k=[];c=c||
{};d(b).each(function(){var a=(d(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[\-=_](.+)/);a&&k.push((c.key||a[1]+"[]")+"="+(c.key&&c.expression?a[1]:a[2]))});!k.length&&c.key&&k.push(c.key+"=");return k.join("&")},toArray:function(c){var b=this._getItemsAsjQuery(c&&c.connected),k=[];c=c||{};b.each(function(){k.push(d(c.item||this).attr(c.attribute||"id")||"")});return k},_intersectsWith:function(d){var b=this.positionAbs.left,c=b+this.helperProportions.width,a=this.positionAbs.top,
e=a+this.helperProportions.height,h=d.left,p=h+d.width,n=d.top,m=n+d.height,l=this.offset.click.top,t=this.offset.click.left,t="y"===this.options.axis||b+t>h&&b+t<p,l=("x"===this.options.axis||a+l>n&&a+l<m)&&t;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>d[this.floating?"width":"height"]?l:h<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<p&&n<a+this.helperProportions.height/
2&&e-this.helperProportions.height/2<m},_intersectsWithPointer:function(d){var b="y"===this.options.axis||this.positionAbs.left+this.offset.click.left>d.left&&this.positionAbs.left+this.offset.click.left<d.left+d.width;d=("x"===this.options.axis||this.positionAbs.top+this.offset.click.top>d.top&&this.positionAbs.top+this.offset.click.top<d.top+d.height)&&b;var b=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return!d?!1:this.floating?c&&"right"===c||"down"===b?2:1:b&&("down"===
b?2:1)},_intersectsWithSides:function(d){var b=this.positionAbs.top+this.offset.click.top>d.top+d.height/2&&this.positionAbs.top+this.offset.click.top<d.top+d.height/2+d.height;d=this.positionAbs.left+this.offset.click.left>d.left+d.width/2&&this.positionAbs.left+this.offset.click.left<d.left+d.width/2+d.width;var c=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&d||"left"===a&&!d:c&&("down"===c&&b||"up"===c&&!b)},_getDragVerticalDirection:function(){var d=
this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(0<d?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(0<d?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(c){var b,k,a,e=[],h=[],p=this._connectWith();if(p&&c)for(c=p.length-1;0<=
c;c--){k=d(p[c]);for(b=k.length-1;0<=b;b--)(a=d.data(k[b],this.widgetFullName))&&(a!==this&&!a.options.disabled)&&h.push([d.isFunction(a.options.items)?a.options.items.call(a.element):d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}h.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);
for(c=h.length-1;0<=c;c--)h[c][0].each(function(){e.push(this)});return d(e)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=d.grep(this.items,function(b){for(var d=0;d<c.length;d++)if(c[d]===b.item[0])return!1;return!0})},_refreshItems:function(c){this.items=[];this.containers=[this];var b,k,a,e,h,p=this.items,n=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):d(this.options.items,
this.element),this]];if((h=this._connectWith())&&this.ready)for(b=h.length-1;0<=b;b--){a=d(h[b]);for(k=a.length-1;0<=k;k--)if((e=d.data(a[k],this.widgetFullName))&&e!==this&&!e.options.disabled)n.push([d.isFunction(e.options.items)?e.options.items.call(e.element[0],c,{item:this.currentItem}):d(e.options.items,e.element),e]),this.containers.push(e)}for(b=n.length-1;0<=b;b--){c=n[b][1];a=n[b][0];k=0;for(h=a.length;k<h;k++)e=d(a[k]),e.data(this.widgetName+"-item",c),p.push({item:e,instance:c,width:0,
height:0,left:0,top:0})}},refreshPositions:function(c){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var b,k,a;for(b=this.items.length-1;0<=b;b--)k=this.items[b],k.instance!==this.currentContainer&&this.currentContainer&&k.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?d(this.options.toleranceElement,k.item):k.item,c||(k.width=a.outerWidth(),k.height=a.outerHeight()),a=a.offset(),k.left=a.left,k.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);
else for(b=this.containers.length-1;0<=b;b--)a=this.containers[b].element.offset(),this.containers[b].containerCache.left=a.left,this.containers[b].containerCache.top=a.top,this.containers[b].containerCache.width=this.containers[b].element.outerWidth(),this.containers[b].containerCache.height=this.containers[b].element.outerHeight();return this},_createPlaceholder:function(c){c=c||this;var b,k=c.options;if(!k.placeholder||k.placeholder.constructor===String)b=k.placeholder,k.placeholder={element:function(){var a=
c.currentItem[0].nodeName.toLowerCase(),e=d("<"+a+">",c.document[0]).addClass(b||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tr"===a?c.currentItem.children().each(function(){d("<td>&#160;</td>",c.document[0]).attr("colspan",d(this).attr("colspan")||1).appendTo(e)}):"img"===a&&e.attr("src",c.currentItem.attr("src"));b||e.css("visibility","hidden");return e},update:function(a,e){if(!b||k.forcePlaceholderSize)e.height()||e.height(c.currentItem.innerHeight()-
parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}};c.placeholder=d(k.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);k.placeholder.update(c,c.placeholder)},_contactContainers:function(f){var b,k,a,e,h,p,n,m,l,t=k=null;for(b=this.containers.length-1;0<=b;b--)if(!d.contains(this.currentItem[0],
this.containers[b].element[0]))if(this._intersectsWith(this.containers[b].containerCache)){if(!k||!d.contains(this.containers[b].element[0],k.element[0]))k=this.containers[b],t=b}else this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",f,this._uiHash(this)),this.containers[b].containerCache.over=0);if(k)if(1===this.containers.length)this.containers[t].containerCache.over||(this.containers[t]._trigger("over",f,this._uiHash(this)),this.containers[t].containerCache.over=1);else{b=
1E4;a=null;e=(l=k.floating||c(this.currentItem))?"left":"top";h=l?"width":"height";p=this.positionAbs[e]+this.offset.click[e];for(k=this.items.length-1;0<=k;k--)if(d.contains(this.containers[t].element[0],this.items[k].item[0])&&this.items[k].item[0]!==this.currentItem[0]&&(!l||this.positionAbs.top+this.offset.click.top>this.items[k].top&&this.positionAbs.top+this.offset.click.top<this.items[k].top+this.items[k].height))n=this.items[k].item.offset()[e],m=!1,Math.abs(n-p)>Math.abs(n+this.items[k][h]-
p)&&(m=!0,n+=this.items[k][h]),Math.abs(n-p)<b&&(b=Math.abs(n-p),a=this.items[k],this.direction=m?"up":"down");if((a||this.options.dropOnEmpty)&&this.currentContainer!==this.containers[t])a?this._rearrange(f,a,null,!0):this._rearrange(f,null,this.containers[t].element,!0),this._trigger("change",f,this._uiHash()),this.containers[t]._trigger("change",f,this._uiHash(this)),this.currentContainer=this.containers[t],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[t]._trigger("over",
f,this._uiHash(this)),this.containers[t].containerCache.over=1}},_createHelper:function(c){var b=this.options;c=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[c,this.currentItem])):"clone"===b.helper?this.currentItem.clone():this.currentItem;c.parents("body").length||d("parent"!==b.appendTo?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0]);c[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),
top:this.currentItem.css("top"),left:this.currentItem.css("left")});(!c[0].style.width||b.forceHelperSize)&&c.width(this.currentItem.width());(!c[0].style.height||b.forceHelperSize)&&c.height(this.currentItem.height());return c},_adjustOffsetFromHelper:function(c){"string"===typeof c&&(c=c.split(" "));d.isArray(c)&&(c={left:+c[0],top:+c[1]||0});"left"in c&&(this.offset.click.left=c.left+this.margins.left);"right"in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left);
"top"in c&&(this.offset.click.top=c.top+this.margins.top);"bottom"in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();"absolute"===this.cssPosition&&(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&
"html"===this.offsetParent[0].tagName.toLowerCase()&&d.ui.ie)c={top:0,left:0};return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,
left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var c,b,k;b=this.options;"parent"===b.containment&&(b.containment=this.helper[0].parentNode);if("document"===b.containment||"window"===b.containment)this.containment=[0-this.offset.relative.left-
this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d("document"===b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(d("document"===b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(b.containment)||(c=d(b.containment)[0],b=d(b.containment).offset(),k="hidden"!==d(c).css("overflow"),this.containment=[b.left+(parseInt(d(c).css("borderLeftWidth"),
10)||0)+(parseInt(d(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(d(c).css("borderTopWidth"),10)||0)+(parseInt(d(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(k?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(d(c).css("borderLeftWidth"),10)||0)-(parseInt(d(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(k?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(d(c).css("borderTopWidth"),10)||0)-(parseInt(d(c).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(c,b){b||(b=this.position);var k="absolute"===c?1:-1,a="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(a[0].tagName);return{top:b.top+this.offset.relative.top*k+this.offset.parent.top*k-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:a.scrollTop())*k,left:b.left+this.offset.relative.left*
k+this.offset.parent.left*k-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:a.scrollLeft())*k}},_generatePosition:function(c){var b,k,a=this.options;k=c.pageX;b=c.pageY;var e="absolute"===this.cssPosition&&!(this.scrollParent[0]!==document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName);"relative"===this.cssPosition&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=
this._getRelativeOffset());this.originalPosition&&(this.containment&&(c.pageX-this.offset.click.left<this.containment[0]&&(k=this.containment[0]+this.offset.click.left),c.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),c.pageX-this.offset.click.left>this.containment[2]&&(k=this.containment[2]+this.offset.click.left),c.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top)),a.grid&&(b=this.originalPageY+Math.round((b-
this.originalPageY)/a.grid[1])*a.grid[1],b=this.containment?b-this.offset.click.top>=this.containment[1]&&b-this.offset.click.top<=this.containment[3]?b:b-this.offset.click.top>=this.containment[1]?b-a.grid[1]:b+a.grid[1]:b,k=this.originalPageX+Math.round((k-this.originalPageX)/a.grid[0])*a.grid[0],k=this.containment?k-this.offset.click.left>=this.containment[0]&&k-this.offset.click.left<=this.containment[2]?k:k-this.offset.click.left>=this.containment[0]?k-a.grid[0]:k+a.grid[0]:k));return{top:b-
this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:e.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_rearrange:function(c,b,d,a){d?d[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var e=this.counter=
this.counter?++this.counter:1;this._delay(function(){e===this.counter&&this.refreshPositions(!a)})},_clear:function(c,b){this.reverting=!1;var d,a=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)if("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])this._storedCSS[d]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!b&&a.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!b&&a.push(function(a){this._trigger("update",a,this._uiHash())});this!==this.currentContainer&&!b&&(a.push(function(a){this._trigger("remove",a,this._uiHash())}),a.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,
this.currentContainer)),a.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(d=this.containers.length-1;0<=d;d--)b||a.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over&&(a.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[d])),this.containers[d].containerCache.over=0);this.storedCursor&&
(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",c,this._uiHash());for(d=0;d<a.length;d++)a[d].call(this,c);this._trigger("stop",c,this._uiHash())}return this.fromOutside=!1}b||this._trigger("beforeStop",c,this._uiHash());
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(d=0;d<a.length;d++)a[d].call(this,c);this._trigger("stop",c,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===d.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(c){var b=c||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,
item:b.currentItem,sender:c?c.element:null}}})})(jQuery);
(function(d,q){d.effects={effect:{}};(function(c,d){function b(a,b,e){var c=m[b.type]||{};if(null==a)return e||!b.def?null:b.def;a=c.floor?~~a:parseFloat(a);return isNaN(a)?b.def:c.mod?(a+c.mod)%c.mod:0>a?0:c.max<a?c.max:a}function k(a){var b=p(),e=b._rgba=[];a=a.toLowerCase();v(h,function(c,d){var f,h=d.re.exec(a);f=h&&d.parse(h);h=d.space||"rgba";if(f)return f=b[h](f),b[n[h].cache]=f[n[h].cache],e=b._rgba=f._rgba,!1});return e.length?("0,0,0,0"===e.join()&&c.extend(e,u.transparent),b):u[a]}function a(a,
b,e){e=(e+1)%1;return 1>6*e?a+6*(b-a)*e:1>2*e?b:2>3*e?a+6*(b-a)*(2/3-e):a}var e=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],p=c.Color=function(a,b,e,d){return new c.Color.fn.parse(a,b,e,d)},n={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=p.support={},t=c("<p>")[0],u,v=c.each;t.style.cssText="background-color:rgba(1,1,1,.5)";l.rgba=-1<t.style.backgroundColor.indexOf("rgba");v(n,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});p.fn=c.extend(p.prototype,{parse:function(a,e,h,l){if(a===d)return this._rgba=[null,null,
null,null],this;if(a.jquery||a.nodeType)a=c(a).css(e),e=d;var m=this,t=c.type(a),y=this._rgba=[];e!==d&&(a=[a,e,h,l],t="array");if("string"===t)return this.parse(k(a)||u._default);if("array"===t)return v(n.rgba.props,function(e,c){y[c.idx]=b(a[c.idx],c)}),this;if("object"===t)return a instanceof p?v(n,function(b,e){a[e.cache]&&(m[e.cache]=a[e.cache].slice())}):v(n,function(e,d){var f=d.cache;v(d.props,function(e,c){if(!m[f]&&d.to){if("alpha"===e||null==a[e])return;m[f]=d.to(m._rgba)}m[f][c.idx]=b(a[e],
c,!0)});m[f]&&0>c.inArray(null,m[f].slice(0,3))&&(m[f][3]=1,d.from&&(m._rgba=d.from(m[f])))}),this},is:function(a){var b=p(a),e=!0,c=this;v(n,function(a,d){var f,h=b[d.cache];h&&(f=c[d.cache]||d.to&&d.to(c._rgba)||[],v(d.props,function(a,b){if(null!=h[b.idx])return e=h[b.idx]===f[b.idx]}));return e});return e},_space:function(){var a=[],b=this;v(n,function(e,c){b[c.cache]&&a.push(e)});return a.pop()},transition:function(a,e){var c=p(a),d=c._space(),f=n[d],h=0===this.alpha()?p("transparent"):this,
k=h[f.cache]||f.to(h._rgba),l=k.slice(),c=c[f.cache];v(f.props,function(a,d){var f=d.idx,h=k[f],p=c[f],n=m[d.type]||{};null!==p&&(null===h?l[f]=p:(n.mod&&(p-h>n.mod/2?h+=n.mod:h-p>n.mod/2&&(h-=n.mod)),l[f]=b((p-h)*e+h,d)))});return this[d](l)},blend:function(a){if(1===this._rgba[3])return this;var b=this._rgba.slice(),e=b.pop(),d=p(a)._rgba;return p(c.map(b,function(a,b){return(1-e)*d[b]+e*a}))},toRgbaString:function(){var a="rgba(",b=c.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===
b[3]&&(b.pop(),a="rgb(");return a+b.join()+")"},toHslaString:function(){var a="hsla(",b=c.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===b[3]&&(b.pop(),a="hsl(");return a+b.join()+")"},toHexString:function(a){var b=this._rgba.slice(),e=b.pop();a&&b.push(~~(255*e));return"#"+c.map(b,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});p.fn.parse.prototype=
p.fn;n.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,e=a[1]/255,c=a[2]/255;a=a[3];var d=Math.max(b,e,c),f=Math.min(b,e,c),h=d-f,k=d+f,l=0.5*k;return[Math.round(f===d?0:b===d?60*(e-c)/h+360:e===d?60*(c-b)/h+120:60*(b-e)/h+240)%360,0===h?0:0.5>=l?h/k:h/(2-k),l,null==a?1:a]};n.hsla.from=function(b){if(null==b[0]||null==b[1]||null==b[2])return[null,null,null,b[3]];var e=b[0]/360,c=b[1],d=b[2];b=b[3];c=0.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*
a(d,c,e+1/3)),Math.round(255*a(d,c,e)),Math.round(255*a(d,c,e-1/3)),b]};v(n,function(a,h){var k=h.props,l=h.cache,n=h.to,m=h.from;p.fn[a]=function(a){n&&!this[l]&&(this[l]=n(this._rgba));if(a===d)return this[l].slice();var e,h=c.type(a),t="array"===h||"object"===h?a:arguments,w=this[l].slice();v(k,function(a,e){var c=t["object"===h?a:e.idx];null==c&&(c=w[e.idx]);w[e.idx]=b(c,e)});return m?(e=p(m(w)),e[l]=w,e):p(w)};v(k,function(b,d){p.fn[b]||(p.fn[b]=function(f){var h=c.type(f),k="alpha"===b?this._hsla?
"hsla":"rgba":a,l=this[k](),p=l[d.idx];if("undefined"===h)return p;"function"===h&&(f=f.call(this,p),h=c.type(f));if(null==f&&d.empty)return this;"string"===h&&(h=e.exec(f))&&(f=p+parseFloat(h[2])*("+"===h[1]?1:-1));l[d.idx]=f;return this[k](l)})})});p.hook=function(a){a=a.split(" ");v(a,function(a,b){c.cssHooks[b]={set:function(a,e){var d,f="";if("transparent"!==e&&("string"!==c.type(e)||(d=k(e)))){e=p(d||e);if(!l.rgba&&1!==e._rgba[3]){for(d="backgroundColor"===b?a.parentNode:a;(""===f||"transparent"===
f)&&d&&d.style;)try{f=c.css(d,"backgroundColor"),d=d.parentNode}catch(h){}e=e.blend(f&&"transparent"!==f?f:"_default")}e=e.toRgbaString()}try{a.style[b]=e}catch(n){}}};c.fx.step[b]=function(a){a.colorInit||(a.start=p(a.elem,b),a.end=p(a.end),a.colorInit=!0);c.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}})};p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");c.cssHooks.borderColor=
{expand:function(a){var b={};v(["Top","Right","Bottom","Left"],function(e,c){b["border"+c+"Color"]=a});return b}};u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(b){var a,e=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,c={};if(e&&e.length&&e[0]&&e[e[0]])for(b=e.length;b--;)a=e[b],"string"===typeof e[a]&&(c[d.camelCase(a)]=e[a]);else for(a in e)"string"===typeof e[a]&&(c[a]=e[a]);return c}var f=["add","remove","toggle"],b={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};d.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,a){d.fx.step[a]=function(b){if("none"!==
b.end&&!b.setAttr||1===b.pos&&!b.setAttr)jQuery.style(b.elem,a,b.end),b.setAttr=!0}});d.fn.addBack||(d.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});d.effects.animateClass=function(k,a,e,h){var p=d.speed(a,e,h);return this.queue(function(){var a=d(this),e=a.attr("class")||"",h,t=p.children?a.find("*").addBack():a,t=t.map(function(){return{el:d(this),start:c(this)}});h=function(){d.each(f,function(b,e){if(k[e])a[e+"Class"](k[e])})};h();t=t.map(function(){this.end=
c(this.el[0]);var a=this.start,e=this.end,f={},h,k;for(h in e)if(k=e[h],a[h]!==k&&!b[h]&&(d.fx.step[h]||!isNaN(parseFloat(k))))f[h]=k;this.diff=f;return this});a.attr("class",e);t=t.map(function(){var a=this,b=d.Deferred(),e=d.extend({},p,{queue:!1,complete:function(){b.resolve(a)}});this.el.animate(this.diff,e);return b.promise()});d.when.apply(d,t.get()).done(function(){h();d.each(arguments,function(){var a=this.el;d.each(this.diff,function(b){a.css(b,"")})});p.complete.call(a[0])})})};d.fn.extend({addClass:function(b){return function(a,
e,c,f){return e?d.effects.animateClass.call(this,{add:a},e,c,f):b.apply(this,arguments)}}(d.fn.addClass),removeClass:function(b){return function(a,e,c,f){return 1<arguments.length?d.effects.animateClass.call(this,{remove:a},e,c,f):b.apply(this,arguments)}}(d.fn.removeClass),toggleClass:function(b){return function(a,e,c,f,n){return"boolean"===typeof e||e===q?c?d.effects.animateClass.call(this,e?{add:a}:{remove:a},c,f,n):b.apply(this,arguments):d.effects.animateClass.call(this,{toggle:a},e,c,f)}}(d.fn.toggleClass),
switchClass:function(b,a,e,c,f){return d.effects.animateClass.call(this,{add:a,remove:b},e,c,f)}})})();(function(){function c(b,c,a,e){d.isPlainObject(b)&&(c=b,b=b.effect);b={effect:b};null==c&&(c={});d.isFunction(c)&&(e=c,a=null,c={});if("number"===typeof c||d.fx.speeds[c])e=a,a=c,c={};d.isFunction(a)&&(e=a,a=null);c&&d.extend(b,c);a=a||c.duration;b.duration=d.fx.off?0:"number"===typeof a?a:a in d.fx.speeds?d.fx.speeds[a]:d.fx.speeds._default;b.complete=e||c.complete;return b}function f(b){return!b||
("number"===typeof b||d.fx.speeds[b])||"string"===typeof b&&!d.effects.effect[b]||d.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}d.extend(d.effects,{version:"1.10.3",save:function(b,c){for(var a=0;a<c.length;a++)null!==c[a]&&b.data("ui-effects-"+c[a],b[0].style[c[a]])},restore:function(b,c){var a,e;for(e=0;e<c.length;e++)null!==c[e]&&(a=b.data("ui-effects-"+c[e]),a===q&&(a=""),b.css(c[e],a))},setMode:function(b,c){"toggle"===c&&(c=b.is(":hidden")?"show":"hide");return c},getBaseline:function(b,
c){var a,e;switch(b[0]){case "top":a=0;break;case "middle":a=0.5;break;case "bottom":a=1;break;default:a=b[0]/c.height}switch(b[1]){case "left":e=0;break;case "center":e=0.5;break;case "right":e=1;break;default:e=b[1]/c.width}return{x:e,y:a}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},a=d("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(p){f=document.body}b.wrap(a);(b[0]===f||d.contains(b[0],f))&&d(f).focus();a=b.parent();"static"===b.css("position")?(a.css({position:"relative"}),b.css({position:"relative"})):(d.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),d.each(["top","left","bottom","right"],function(a,e){c[e]=b.css(e);isNaN(parseInt(c[e],10))&&(c[e]="auto")}),b.css({position:"relative",top:0,left:0,
right:"auto",bottom:"auto"}));b.css(e);return a.css(c).show()},removeWrapper:function(b){var c=document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||d.contains(b[0],c))&&d(c).focus());return b},setTransition:function(b,c,a,e){e=e||{};d.each(c,function(c,d){var f=b.cssUnit(d);0<f[0]&&(e[d]=f[0]*a+f[1])});return e}});d.fn.extend({effect:function(){function b(a){function b(){d.isFunction(c)&&c.call(e[0]);d.isFunction(a)&&a()}var e=d(this),c=f.complete,t=f.mode;
(e.is(":hidden")?"hide"===t:"show"===t)?(e[t](),b()):h.call(e[0],f,b)}var f=c.apply(this,arguments),a=f.mode,e=f.queue,h=d.effects.effect[f.effect];return d.fx.off||!h?a?this[a](f.duration,f.complete):this.each(function(){f.complete&&f.complete.call(this)}):!1===e?this.each(b):this.queue(e||"fx",b)},show:function(b){return function(d){if(f(d))return b.apply(this,arguments);var a=c.apply(this,arguments);a.mode="show";return this.effect.call(this,a)}}(d.fn.show),hide:function(b){return function(d){if(f(d))return b.apply(this,
arguments);var a=c.apply(this,arguments);a.mode="hide";return this.effect.call(this,a)}}(d.fn.hide),toggle:function(b){return function(d){if(f(d)||"boolean"===typeof d)return b.apply(this,arguments);var a=c.apply(this,arguments);a.mode="toggle";return this.effect.call(this,a)}}(d.fn.toggle),cssUnit:function(b){var c=this.css(b),a=[];d.each(["em","px","%","pt"],function(b,d){0<c.indexOf(d)&&(a=[parseFloat(c),d])});return a}})})();(function(){var c={};d.each(["Quad","Cubic","Quart","Quint","Expo"],
function(d,b){c[b]=function(b){return Math.pow(b,d+2)}});d.extend(c,{Sine:function(c){return 1-Math.cos(c*Math.PI/2)},Circ:function(c){return 1-Math.sqrt(1-c*c)},Elastic:function(c){return 0===c||1===c?c:-Math.pow(2,8*(c-1))*Math.sin((80*(c-1)-7.5)*Math.PI/15)},Back:function(c){return c*c*(3*c-2)},Bounce:function(c){for(var b,d=4;c<((b=Math.pow(2,--d))-1)/11;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*b-2)/22-c,2)}});d.each(c,function(c,b){d.easing["easeIn"+c]=b;d.easing["easeOut"+c]=function(c){return 1-
b(1-c)};d.easing["easeInOut"+c]=function(c){return 0.5>c?b(2*c)/2:1-b(-2*c+2)/2}})})()})(jQuery);
(function(d,q){var c=0,f={},b={};f.height=f.paddingTop=f.paddingBottom=f.borderTopWidth=f.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;
this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!b.collapsible&&(!1===b.active||null==b.active))b.active=0;this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?d():this.active.next(),content:!this.active.length?d():this.active.next()}},_createIcons:function(){var b=this.options.icons;b&&(d("<span>").addClass("ui-accordion-header-icon ui-icon "+
b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&
this.removeAttribute("id")});this._destroyIcons();b=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,a){"active"===b?this._activate(a):
("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(b,a),"collapsible"===b&&(!a&&!1===this.options.active)&&this._activate(0),"icons"===b&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===b&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var a=d.ui.keyCode,e=this.headers.length,c=this.headers.index(b.target),f=!1;switch(b.keyCode){case a.RIGHT:case a.DOWN:f=
this.headers[(c+1)%e];break;case a.LEFT:case a.UP:f=this.headers[(c-1+e)%e];break;case a.SPACE:case a.ENTER:this._eventHandler(b);break;case a.HOME:f=this.headers[0];break;case a.END:f=this.headers[e-1]}f&&(d(b.target).attr("tabIndex",-1),d(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===d.ui.keyCode.UP&&b.ctrlKey&&d(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?
(b.active=!1,this.active=d()):!1===b.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=d()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},
_refresh:function(){var b,a=this.options,e=a.heightStyle,f=this.element.parent(),p=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(a){var b=d(this),e=b.attr("id"),c=b.next(),f=c.attr("id");e||(e=p+"-header-"+a,b.attr("id",e));f||(f=p+"-panel-"+
a,c.attr("id",f));b.attr("aria-controls",f);c.attr("aria-labelledby",e)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(a.event);"fill"===e?(b=f.height(),this.element.siblings(":visible").each(function(){var a=
d(this),e=a.css("position");"absolute"===e||"fixed"===e||(b-=a.outerHeight(!0))}),this.headers.each(function(){b-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,b-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===e&&(b=0,this.headers.next().each(function(){b=Math.max(b,d(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:d.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):d()},_setupEvents:function(b){var a={keydown:"_keydown"};b&&d.each(b.split(" "),function(b,c){a[c]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,a);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var a=this.options,e=this.active,c=d(b.currentTarget),f=
c[0]===e[0],n=f&&a.collapsible,m=n?d():c.next(),l=e.next(),m={oldHeader:e,oldPanel:l,newHeader:n?d():c,newPanel:m};b.preventDefault();f&&!a.collapsible||!1===this._trigger("beforeActivate",b,m)||(a.active=n?!1:this.headers.index(c),this.active=f?d():c,this._toggle(m),e.removeClass("ui-accordion-header-active ui-state-active"),a.icons&&e.children(".ui-accordion-header-icon").removeClass(a.icons.activeHeader).addClass(a.icons.header),f||(c.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
a.icons&&c.children(".ui-accordion-header-icon").removeClass(a.icons.header).addClass(a.icons.activeHeader),c.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var a=b.newPanel,e=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=a;this.prevHide=e;this.options.animate?this._animate(a,e,b):(e.hide(),a.show(),this._toggleComplete(b));e.attr({"aria-expanded":"false","aria-hidden":"true"});e.prev().attr("aria-selected","false");
a.length&&e.length?e.prev().attr("tabIndex",-1):a.length&&this.headers.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1);a.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(c,a,e){var d,p,n,m=this,l=0,t=c.length&&(!a.length||c.index()<a.index()),u=this.options.animate||{},t=t&&u.down||u,v=function(){m._toggleComplete(e)};"number"===typeof t&&(n=t);"string"===typeof t&&(p=t);p=p||t.easing||u.easing;n=n||
t.duration||u.duration;if(!a.length)return c.animate(b,n,p,v);if(!c.length)return a.animate(f,n,p,v);d=c.show().outerHeight();a.animate(f,{duration:n,easing:p,step:function(a,b){b.now=Math.round(a)}});c.hide().animate(b,{duration:n,easing:p,complete:v,step:function(b,e){e.now=Math.round(b);"height"!==e.prop?l+=e.now:"content"!==m.options.heightStyle&&(e.now=Math.round(d-a.outerHeight()-l),l=0)}})},_toggleComplete:function(b){var a=b.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
a.length&&(a.parent()[0].className=a.parent()[0].className);this._trigger("activate",null,b)}})})(jQuery);
(function(d,q){var c=0;d.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,b,k,a=this.element[0].nodeName.toLowerCase(),e="textarea"===a,a="input"===a;this.isMultiLine=e?!0:a?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[e||
a?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))b=k=c=!0;else{b=k=c=!1;var e=d.ui.keyCode;switch(a.keyCode){case e.PAGE_UP:c=!0;this._move("previousPage",a);break;case e.PAGE_DOWN:c=!0;this._move("nextPage",a);break;case e.UP:c=!0;this._keyEvent("previous",a);break;case e.DOWN:c=!0;this._keyEvent("next",a);break;case e.ENTER:case e.NUMPAD_ENTER:this.menu.active&&
(c=!0,a.preventDefault(),this.menu.select(a));break;case e.TAB:this.menu.active&&this.menu.select(a);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:b=!0,this._searchTimeout(a)}}},keypress:function(a){if(c)c=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault();else if(!b){var e=d.ui.keyCode;switch(a.keyCode){case e.PAGE_UP:this._move("previousPage",a);break;case e.PAGE_DOWN:this._move("nextPage",
a);break;case e.UP:this._keyEvent("previous",a);break;case e.DOWN:this._keyEvent("next",a)}}},input:function(a){k?(k=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=d("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,
{mousedown:function(a){a.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var b=this.menu.element[0];d(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(e){e.target!==a.element[0]&&(e.target!==b&&!d.contains(b,e.target))&&a.close()})})},menufocus:function(a,b){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",
function(){d(a.target).trigger(a.originalEvent)});return}var e=b.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:e})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,b){var e=b.item.data("ui-autocomplete-item"),c=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c;this.selectedItem=e}));!1!==this._trigger("select",
a,{item:e})&&this._value(e.value);this.term=this._value();this.close(a);this.selectedItem=e}});this.liveRegion=d("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(c,
b){this._super(c,b);"source"===c&&this._initSource();"appendTo"===c&&this.menu.element.appendTo(this._appendTo());"disabled"===c&&(b&&this.xhr)&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?d(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,b,k=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(a,b){b(d.ui.autocomplete.filter(c,
a.term))}):"string"===typeof this.options.source?(b=this.options.source,this.source=function(a,e){k.xhr&&k.xhr.abort();k.xhr=d.ajax({url:b,data:a,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(c){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,c))},this.options.delay)},search:function(c,b){c=null!=c?c:this._value();this.term=this._value();
if(c.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(c)},_search:function(c){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:c},this._response())},_response:function(){var d=this,b=++c;return function(k){b===c&&d.__response(k);d.pending--;d.pending||d.element.removeClass("ui-autocomplete-loading")}},__response:function(c){c&&(c=this._normalize(c));this._trigger("response",null,{content:c});
!this.options.disabled&&c&&c.length&&!this.cancelSearch?(this._suggest(c),this._trigger("open")):this._close()},close:function(c){this.cancelSearch=!0;this._close(c)},_close:function(c){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",c))},_change:function(c){this.previous!==this._value()&&this._trigger("change",c,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:d.map(c,function(b){return"string"===
typeof b?{label:b,value:b}:d.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(c){var b=this.menu.element.empty();this._renderMenu(b,c);this.isNewMenu=!0;this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var c=this.menu.element;c.outerWidth(Math.max(c.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,b){var k=this;d.each(b,
function(a,b){k._renderItemData(c,b)})},_renderItemData:function(c,b){return this._renderItem(c,b).data("ui-autocomplete-item",b)},_renderItem:function(c,b){return d("<li>").append(d("<a>").text(b.label)).appendTo(c)},_move:function(c,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c))this._value(this.term),this.menu.blur();else this.menu[c](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,
arguments)},_keyEvent:function(c,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(c,b),b.preventDefault()}});d.extend(d.ui.autocomplete,{escapeRegex:function(c){return c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,b){var k=RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(c,function(a){return k.test(a.label||a.value||a)})}});d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(c){return c+
(1<c?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(c){var b;this._superApply(arguments);!this.options.disabled&&!this.cancelSearch&&(b=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(b))}})})(jQuery);
(function(d,q){var c,f,b,k,a=function(){var a=d(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},e=function(a){var b=a.name,e=a.form,c=d([]);b&&(b=b.replace(/'/g,"\\'"),c=e?d(e).find("[name='"+b+"']"):d("[name='"+b+"']",a.ownerDocument).filter(function(){return!this.form}));return c};d.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,a);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,p=this.options,n="checkbox"===this.type||"radio"===this.type,m=!n?"ui-state-active":"";null===p.label&&(p.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){p.disabled||this===c&&d(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){p.disabled||d(this).removeClass(m)}).bind("click"+this.eventNamespace,function(a){p.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){h.buttonElement.removeClass("ui-state-focus")});n&&(this.element.bind("change"+this.eventNamespace,function(){k||h.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){p.disabled||(k=!1,f=a.pageX,b=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){if(!p.disabled&&(f!==a.pageX||b!==a.pageY))k=!0}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled||k)return!1}):"radio"===this.type?this.buttonElement.bind("click"+
this.eventNamespace,function(){if(p.disabled||k)return!1;d(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var a=h.element[0];e(a).not(a).map(function(){return d(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(p.disabled)return!1;d(this).addClass("ui-state-active");c=this;h.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(p.disabled)return!1;
d(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(p.disabled)return!1;(a.keyCode===d.ui.keyCode.SPACE||a.keyCode===d.ui.keyCode.ENTER)&&d(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){d(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===d.ui.keyCode.SPACE&&d(this).click()}));this._setOption("disabled",p.disabled);this._resetButton()},
_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=
a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);"disabled"===a?b?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?e(this.element[0]).each(function(){d(this).is(":checked")?d(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):d(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
b=d("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),e=this.options.icons,c=e.primary&&e.secondary,f=[];e.primary||e.secondary?(this.options.text&&f.push("ui-button-text-icon"+(c?"s":e.primary?"-primary":"-secondary")),e.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(f.push(c?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||a.attr("title",d.trim(b)))):f.push("ui-button-text-only");a.addClass(f.join(" "))}}});d.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var a=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return d(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(d,q){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};d.extend(this._defaults,this.regional[""]);this.dpDiv=f(d("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function f(a){return a.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){d(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&d(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){if(!d.datepicker._isDisabledDatepicker(k.inline?a.parent()[0]:k.input[0]))d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&d(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&d(this).addClass("ui-datepicker-next-hover")})}function b(a,b){d.extend(a,b);for(var c in b)null==b[c]&&(a[c]=b[c]);return a}d.extend(d.ui,{datepicker:{version:"1.10.3"}});var k;d.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){b(this._defaults,a||{});return this},_attachDatepicker:function(a,
b){var c,f,k;c=a.nodeName.toLowerCase();f="div"===c||"span"===c;a.id||(this.uuid+=1,a.id="dp"+this.uuid);k=this._newInst(d(a),f);k.settings=d.extend({},b||{});"input"===c?this._connectDatepicker(a,k):f&&this._inlineDatepicker(a,k)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:f(d("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},
_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(b),d.data(a,"datepicker",b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c,f;c=this._get(b,"appendText");var k=this._get(b,"isRTL");b.append&&b.append.remove();c&&(b.append=d("<span class='"+this._appendClass+"'>"+
c+"</span>"),a[k?"before":"after"](b.append));a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");("focus"===c||"both"===c)&&a.focus(this._showDatepicker);if("button"===c||"both"===c)c=this._get(b,"buttonText"),f=this._get(b,"buttonImage"),b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d("<button type='button'></button>").addClass(this._triggerClass).html(!f?c:d("<img/>").attr({src:f,alt:c,title:c}))),
a[k?"before":"after"](b.trigger),b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput===a[0]?d.datepicker._hideDatepicker():(d.datepicker._datepickerShowing&&d.datepicker._lastInput!==a[0]&&d.datepicker._hideDatepicker(),d.datepicker._showDatepicker(a[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,f,k=new Date(2009,11,20),l=this._get(a,"dateFormat");l.match(/[DM]/)&&(b=function(a){for(f=d=c=0;f<a.length;f++)a[f].length>c&&(c=
a[f].length,d=f);return d},k.setMonth(b(this._get(a,l.match(/MM/)?"monthNames":"monthNamesShort"))),k.setDate(b(this._get(a,l.match(/DD/)?"dayNames":"dayNamesShort"))+20-k.getDay()));a.input.attr("size",this._formatDate(a,k).length)}},_inlineDatepicker:function(a,b){var c=d(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv),d.data(a,"datepicker",b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&
this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,c,f,k,n){var m;a=this._dialogInst;a||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=d("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),d("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},d.data(this._dialogInput[0],"datepicker",a));b(a.settings,k||{});c=c&&c.constructor===Date?
this._formatDate(a,c):c;this._dialogInput.val(c);this._pos=n?n.length?n:[n.pageX,n.pageY]:null;this._pos||(c=document.documentElement.clientWidth,k=document.documentElement.clientHeight,n=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+n,k/2-150+m]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=f;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b,c=d(a),f=d.data(a,"datepicker");c.hasClass(this.markerClassName)&&(b=a.nodeName.toLowerCase(),d.removeData(a,"datepicker"),"input"===b?(f.append.remove(),f.trigger.remove(),c.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)):("div"===b||"span"===b)&&c.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var b,c=d(a),f=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===b||"span"===b)b=c.children("."+this._inlineClass),b.children().removeClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1);this._disabledInputs=d.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var b,c=d(a),f=d.data(a,"datepicker");if(c.hasClass(this.markerClassName)){b=a.nodeName.toLowerCase();if("input"===b)a.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===b||"span"===b)b=c.children("."+this._inlineClass),b.children().addClass("ui-state-disabled"),b.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0);this._disabledInputs=d.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,c,f){var k,n,m,l,t=this._getInst(a);if(2===arguments.length&&"string"===
typeof c)return"defaults"===c?d.extend({},d.datepicker._defaults):t?"all"===c?d.extend({},t.settings):this._get(t,c):null;k=c||{};"string"===typeof c&&(k={},k[c]=f);t&&(this._curInst===t&&this._hideDatepicker(),n=this._getDateDatepicker(a,!0),m=this._getMinMaxDate(t,"min"),l=this._getMinMaxDate(t,"max"),b(t.settings,k),null!==m&&(k.dateFormat!==q&&k.minDate===q)&&(t.settings.minDate=this._formatDate(t,m)),null!==l&&(k.dateFormat!==q&&k.maxDate===q)&&(t.settings.maxDate=this._formatDate(t,l)),"disabled"in
k&&(k.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(d(a),t),this._autoSize(t),this._setDate(t,n),this._updateAlternate(t),this._updateDatepicker(t))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=
this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b,c=d.datepicker._getInst(a.target);b=!0;var f=c.dpDiv.is(".ui-datepicker-rtl");c._keyEvent=!0;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();b=!1;break;case 13:return b=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",c.dpDiv),b[0]&&d.datepicker._selectDay(a.target,c.selectedMonth,c.selectedYear,b[0]),(a=d.datepicker._get(c,
"onSelect"))?(b=d.datepicker._formatDate(c),a.apply(c.input?c.input[0]:null,[b,c])):d.datepicker._hideDatepicker(),!1;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&d.datepicker._clearDate(a.target);
b=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&d.datepicker._gotoToday(a.target);b=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,f?1:-1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(c,"stepBigMonths"):-d.datepicker._get(c,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,-7,"D");b=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||
a.metaKey)d.datepicker._adjustDate(a.target,f?-1:1,"D");b=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(c,"stepBigMonths"):+d.datepicker._get(c,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&d.datepicker._adjustDate(a.target,7,"D");b=a.ctrlKey||a.metaKey;break;default:b=!1}else 36===a.keyCode&&a.ctrlKey?d.datepicker._showDatepicker(this):b=!1;b&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b,c;b=d.datepicker._getInst(a.target);
if(d.datepicker._get(b,"constrainInput"))return b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat")),c=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">c||!b||-1<b.indexOf(c)},_doKeyUp:function(a){var b;a=d.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(b=d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a)))d.datepicker._setDateFromField(a),d.datepicker._updateAlternate(a),
d.datepicker._updateDatepicker(a)}catch(c){}return!0},_showDatepicker:function(a){a=a.target||a;"input"!==a.nodeName.toLowerCase()&&(a=d("input",a.parentNode)[0]);if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput===a)){var c,f,k,n;c=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!==c&&(d.datepicker._curInst.dpDiv.stop(!0,!0),c&&d.datepicker._datepickerShowing&&d.datepicker._hideDatepicker(d.datepicker._curInst.input[0]));f=(f=d.datepicker._get(c,"beforeShow"))?
f.apply(a,[a,c]):{};if(!1!==f&&(b(c.settings,f),c.lastVal=null,d.datepicker._lastInput=a,d.datepicker._setDateFromField(c),d.datepicker._inDialog&&(a.value=""),d.datepicker._pos||(d.datepicker._pos=d.datepicker._findPos(a),d.datepicker._pos[1]+=a.offsetHeight),k=!1,d(a).parents().each(function(){k|="fixed"===d(this).css("position");return!k}),f={left:d.datepicker._pos[0],top:d.datepicker._pos[1]},d.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
d.datepicker._updateDatepicker(c),f=d.datepicker._checkOffset(c,f,k),c.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":k?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!c.inline)){f=d.datepicker._get(c,"showAnim");n=d.datepicker._get(c,"duration");c.dpDiv.zIndex(d(a).zIndex()+1);d.datepicker._datepickerShowing=!0;if(d.effects&&d.effects.effect[f])c.dpDiv.show(f,d.datepicker._get(c,"showOptions"),n);else c.dpDiv[f||"show"](f?n:null);d.datepicker._shouldFocusInput(c)&&
c.input.focus();d.datepicker._curInst=c}}},_updateDatepicker:function(a){this.maxRows=4;k=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var b,c=this._getNumberOfMonths(a),f=c[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");a.dpDiv[(1!==c[0]||1!==c[1]?"add":"remove")+"Class"]("ui-datepicker-multi");
a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===d.datepicker._curInst&&(d.datepicker._datepickerShowing&&d.datepicker._shouldFocusInput(a))&&a.input.focus();a.yearshtml&&(b=a.yearshtml,setTimeout(function(){b===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);b=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,
b,c){var f=a.dpDiv.outerWidth(),k=a.dpDiv.outerHeight(),m=a.input?a.input.outerWidth():0,l=a.input?a.input.outerHeight():0,t=document.documentElement.clientWidth+(c?0:d(document).scrollLeft()),u=document.documentElement.clientHeight+(c?0:d(document).scrollTop());b.left-=this._get(a,"isRTL")?f-m:0;b.left-=c&&b.left===a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top===a.input.offset().top+l?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+f>t&&t>f?Math.abs(b.left+f-t):0);b.top-=
Math.min(b.top,b.top+k>u&&u>k?Math.abs(k+l):0);return b},_findPos:function(a){for(var b=this._getInst(a),b=this._get(b,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b,c,f=this._curInst;if(f&&!(a&&f!==d.data(a,"datepicker"))&&this._datepickerShowing){a=this._get(f,"showAnim");b=this._get(f,"duration");c=function(){d.datepicker._tidyDialog(f)};if(d.effects&&(d.effects.effect[a]||
d.effects[a]))f.dpDiv.hide(a,d.datepicker._get(f,"showOptions"),b,c);else f.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?b:null,c);a||c();this._datepickerShowing=!1;(a=this._get(f,"onClose"))&&a.apply(f.input?f.input[0]:null,[f.input?f.input.val():"",f]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),d.blockUI&&(d.unblockUI(),d("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);var b=d.datepicker._getInst(a[0]);(a[0].id!==d.datepicker._mainDivId&&0===a.parents("#"+d.datepicker._mainDivId).length&&!a.hasClass(d.datepicker.markerClassName)&&!a.closest("."+d.datepicker._triggerClass).length&&d.datepicker._datepickerShowing&&(!d.datepicker._inDialog||!d.blockUI)||a.hasClass(d.datepicker.markerClassName)&&d.datepicker._curInst!==b)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var f=
this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(f,b+("M"===c?this._get(f,"showCurrentAtPos"):0),c),this._updateDatepicker(f))},_gotoToday:function(a){var b=d(a),c=this._getInst(b[0]);this._get(c,"gotoCurrent")&&c.currentDay?(c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear):(a=new Date,c.selectedDay=a.getDate(),c.drawMonth=c.selectedMonth=a.getMonth(),c.drawYear=c.selectedYear=a.getFullYear());this._notifyChange(c);
this._adjustDate(b)},_selectMonthYear:function(a,b,c){a=d(a);var f=this._getInst(a[0]);f["selected"+("M"===c?"Month":"Year")]=f["draw"+("M"===c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(a)},_selectDay:function(a,b,c,f){var k;k=d(a);!d(f).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(k[0])&&(k=this._getInst(k[0]),k.selectedDay=k.currentDay=d("a",f).html(),k.selectedMonth=k.currentMonth=b,k.selectedYear=k.currentYear=c,this._selectDate(a,
this._formatDate(k,k.currentDay,k.currentMonth,k.currentYear)))},_clearDate:function(a){a=d(a);this._selectDate(a,"")},_selectDate:function(a,b){var c;c=d(a);var f=this._getInst(c[0]);b=null!=b?b:this._formatDate(f);f.input&&f.input.val(b);this._updateAlternate(f);(c=this._get(f,"onSelect"))?c.apply(f.input?f.input[0]:null,[b,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!==typeof f.input[0]&&f.input.focus(),this._lastInput=
null)},_updateAlternate:function(a){var b,c,f,k=this._get(a,"altField");k&&(b=this._get(a,"altFormat")||this._get(a,"dateFormat"),c=this._getDate(a),f=this.formatDate(b,c,this._getFormatConfig(a)),d(k).each(function(){d(this).val(f)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,b,c){if(null==
a||null==b)throw"Invalid arguments";b="object"===typeof b?b.toString():b+"";if(""===b)return null;var f,k,m,l=0;k=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;k="string"!==typeof k?k:(new Date).getFullYear()%100+parseInt(k,10);m=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort;var t=(c?c.dayNames:null)||this._defaults.dayNames,u=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,v=(c?c.monthNames:null)||this._defaults.monthNames,x=c=-1,A=-1,s=-1,K=!1,F,q=function(b){(b=
f+1<a.length&&a.charAt(f+1)===b)&&f++;return b},y=function(a){var c=q(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&c?4:"o"===a?3:2)+"}");a=b.substring(l).match(a);if(!a)throw"Missing number at position "+l;l+=a[0].length;return parseInt(a[0],10)},I=function(a,c,f){var h=-1;a=d.map(q(a)?f:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});d.each(a,function(a,c){var d=c[1];if(b.substr(l,d.length).toLowerCase()===d.toLowerCase())return h=c[0],l+=d.length,!1});
if(-1!==h)return h+1;throw"Unknown name at position "+l;},M=function(){if(b.charAt(l)!==a.charAt(f))throw"Unexpected literal at position "+l;l++};for(f=0;f<a.length;f++)if(K)"'"===a.charAt(f)&&!q("'")?K=!1:M();else switch(a.charAt(f)){case "d":A=y("d");break;case "D":I("D",m,t);break;case "o":s=y("o");break;case "m":x=y("m");break;case "M":x=I("M",u,v);break;case "y":c=y("y");break;case "@":F=new Date(y("@"));c=F.getFullYear();x=F.getMonth()+1;A=F.getDate();break;case "!":F=new Date((y("!")-this._ticksTo1970)/
1E4);c=F.getFullYear();x=F.getMonth()+1;A=F.getDate();break;case "'":q("'")?M():K=!0;break;default:M()}if(l<b.length&&(m=b.substr(l),!/^\s+/.test(m)))throw"Extra/unparsed characters found in date: "+m;-1===c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=k?0:-100));if(-1<s){x=1;A=s;do{k=this._getDaysInMonth(c,x-1);if(A<=k)break;x++;A-=k}while(1)}F=this._daylightSavingAdjust(new Date(c,x-1,A));if(F.getFullYear()!==c||F.getMonth()+1!==x||F.getDate()!==
A)throw"Invalid date";return F},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,k=(c?c.dayNames:null)||this._defaults.dayNames,l=(c?c.monthNamesShort:null)||
this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var t=function(b){(b=d+1<a.length&&a.charAt(d+1)===b)&&d++;return b},u=function(a,b,c){b=""+b;if(t(a))for(;b.length<c;)b="0"+b;return b},v=function(a,b,c,e){return t(a)?e[b]:c[b]},x="",A=!1;if(b)for(d=0;d<a.length;d++)if(A)"'"===a.charAt(d)&&!t("'")?A=!1:x+=a.charAt(d);else switch(a.charAt(d)){case "d":x+=u("d",b.getDate(),2);break;case "D":x+=v("D",b.getDay(),f,k);break;case "o":x+=u("o",Math.round(((new Date(b.getFullYear(),
b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":x+=u("m",b.getMonth()+1,2);break;case "M":x+=v("M",b.getMonth(),l,c);break;case "y":x+=t("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":x+=b.getTime();break;case "!":x+=1E4*b.getTime()+this._ticksTo1970;break;case "'":t("'")?x+="'":A=!0;break;default:x+=a.charAt(d)}return x},_possibleChars:function(a){var b,c="",d=!1,f=function(c){(c=b+1<a.length&&a.charAt(b+1)===
c)&&b++;return c};for(b=0;b<a.length;b++)if(d)"'"===a.charAt(b)&&!f("'")?d=!1:c+=a.charAt(b);else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return a.settings[b]!==q?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),
k=f,l=this._getFormatConfig(a);try{k=this.parseDate(c,d,l)||f}catch(t){d=b?"":d}a.selectedDay=k.getDate();a.drawMonth=a.selectedMonth=k.getMonth();a.drawYear=a.selectedYear=k.getFullYear();a.currentDay=d?k.getDate():0;a.currentMonth=d?k.getMonth():0;a.currentYear=d?k.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var f=function(a){var b=new Date;b.setDate(b.getDate()+
a);return b},k=function(b){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),b,d.datepicker._getFormatConfig(a))}catch(c){}for(var e=(b.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,f=e.getFullYear(),h=e.getMonth(),e=e.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,p=k.exec(b);p;){switch(p[2]||"d"){case "d":case "D":e+=parseInt(p[1],10);break;case "w":case "W":e+=7*parseInt(p[1],10);break;case "m":case "M":h+=parseInt(p[1],10);e=Math.min(e,d.datepicker._getDaysInMonth(f,
h));break;case "y":case "Y":f+=parseInt(p[1],10),e=Math.min(e,d.datepicker._getDaysInMonth(f,h))}p=k.exec(b)}return new Date(f,h,e)};if(b=(b=null==b||""===b?c:"string"===typeof b?k(b):"number"===typeof b?isNaN(b)?c:f(b):new Date(b.getTime()))&&"Invalid Date"===b.toString()?c:b)b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0);return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,
b,c){var d=!b,f=a.selectedMonth,k=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(f!==a.selectedMonth||k!==a.selectedYear)&&!c&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,
a.currentMonth,a.currentDay))},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){d(this).bind(this.getAttribute("data-event"),{prev:function(){d.datepicker._adjustDate(c,-b,"M")},next:function(){d.datepicker._adjustDate(c,+b,"M")},hide:function(){d.datepicker._hideDatepicker()},today:function(){d.datepicker._gotoToday(c)},selectDay:function(){d.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),
this);return!1},selectMonth:function(){d.datepicker._selectMonthYear(c,this,"M");return!1},selectYear:function(){d.datepicker._selectMonthYear(c,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,f,k,l,t,u,v,x,A,s,q,F,H,y,I,M,J,w,S,C,B,N,D,ma,V,Y=new Date,Y=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth(),Y.getDate())),L=this._get(a,"isRTL");l=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");k=this._get(a,"navigationAsDateFormat");
var O=this._getNumberOfMonths(a),R=this._get(a,"showCurrentAtPos");f=this._get(a,"stepMonths");var X=1!==O[0]||1!==O[1],P=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),ha=this._getMinMaxDate(a,"min"),pa=this._getMinMaxDate(a,"max"),R=a.drawMonth-R,wa=a.drawYear;0>R&&(R+=12,wa--);if(pa){b=this._daylightSavingAdjust(new Date(pa.getFullYear(),pa.getMonth()-O[0]*O[1]+1,pa.getDate()));for(b=ha&&b<ha?ha:b;this._daylightSavingAdjust(new Date(wa,
R,1))>b;)R--,0>R&&(R=11,wa--)}a.drawMonth=R;a.drawYear=wa;b=this._get(a,"prevText");b=!k?b:this.formatDate(b,this._daylightSavingAdjust(new Date(wa,R-f,1)),this._getFormatConfig(a));b=this._canAdjustMonth(a,-1,wa,R)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+
(L?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=!k?c:this.formatDate(c,this._daylightSavingAdjust(new Date(wa,R+f,1)),this._getFormatConfig(a));d=this._canAdjustMonth(a,1,wa,R)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":
"e")+"'>"+c+"</span></a>";f=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?P:Y;f=!k?f:this.formatDate(f,c,this._getFormatConfig(a));k=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>":"";l=l?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?k:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
f+"</button>":"")+(L?"":k)+"</div>":"";k=parseInt(this._get(a,"firstDay"),10);k=isNaN(k)?0:k;f=this._get(a,"showWeek");c=this._get(a,"dayNames");t=this._get(a,"dayNamesMin");u=this._get(a,"monthNames");v=this._get(a,"monthNamesShort");x=this._get(a,"beforeShowDay");A=this._get(a,"showOtherMonths");s=this._get(a,"selectOtherMonths");q=this._getDefaultDate(a);F="";H;for(y=0;y<O[0];y++){I="";this.maxRows=4;for(M=0;M<O[1];M++){J=this._daylightSavingAdjust(new Date(wa,R,a.selectedDay));H=" ui-corner-all";
w="";if(X){w+="<div class='ui-datepicker-group";if(1<O[1])switch(M){case 0:w+=" ui-datepicker-group-first";H=" ui-corner-"+(L?"right":"left");break;case O[1]-1:w+=" ui-datepicker-group-last";H=" ui-corner-"+(L?"left":"right");break;default:w+=" ui-datepicker-group-middle",H=""}w+="'>"}w+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+H+"'>"+(/all|left/.test(H)&&0===y?L?d:b:"")+(/all|right/.test(H)&&0===y?L?b:d:"")+this._generateMonthYearHeader(a,R,wa,ha,pa,0<y||0<M,u,v)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
S=f?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(H=0;7>H;H++)C=(H+k)%7,S+="<th"+(5<=(H+k+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[C]+"'>"+t[C]+"</span></th>";w+=S+"</tr></thead><tbody>";S=this._getDaysInMonth(wa,R);wa===a.selectedYear&&R===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));H=(this._getFirstDayOfMonth(wa,R)-k+7)%7;S=Math.ceil((H+S)/7);this.maxRows=S=X?this.maxRows>S?this.maxRows:S:S;C=this._daylightSavingAdjust(new Date(wa,
R,1-H));for(B=0;B<S;B++){w+="<tr>";N=!f?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(C)+"</td>";for(H=0;7>H;H++)D=x?x.apply(a.input?a.input[0]:null,[C]):[!0,""],V=(ma=C.getMonth()!==R)&&!s||!D[0]||ha&&C<ha||pa&&C>pa,N+="<td class='"+(5<=(H+k+6)%7?" ui-datepicker-week-end":"")+(ma?" ui-datepicker-other-month":"")+(C.getTime()===J.getTime()&&R===a.selectedMonth&&a._keyEvent||q.getTime()===C.getTime()&&q.getTime()===J.getTime()?" "+this._dayOverClass:"")+(V?" "+this._unselectableClass+
" ui-state-disabled":"")+(ma&&!A?"":" "+D[1]+(C.getTime()===P.getTime()?" "+this._currentClass:"")+(C.getTime()===Y.getTime()?" ui-datepicker-today":""))+"'"+((!ma||A)&&D[2]?" title='"+D[2].replace(/'/g,"&#39;")+"'":"")+(V?"":" data-handler='selectDay' data-event='click' data-month='"+C.getMonth()+"' data-year='"+C.getFullYear()+"'")+">"+(ma&&!A?"&#xa0;":V?"<span class='ui-state-default'>"+C.getDate()+"</span>":"<a class='ui-state-default"+(C.getTime()===Y.getTime()?" ui-state-highlight":"")+(C.getTime()===
P.getTime()?" ui-state-active":"")+(ma?" ui-priority-secondary":"")+"' href='#'>"+C.getDate()+"</a>")+"</td>",C.setDate(C.getDate()+1),C=this._daylightSavingAdjust(C);w+=N+"</tr>"}R++;11<R&&(R=0,wa++);w+="</tbody></table>"+(X?"</div>"+(0<O[0]&&M===O[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");I+=w}F+=I}a._keyEvent=!1;return F+l},_generateMonthYearHeader:function(a,b,c,d,f,k,l,t){var u,v,x,A=this._get(a,"changeMonth"),s=this._get(a,"changeYear"),q=this._get(a,"showMonthAfterYear"),F=
"<div class='ui-datepicker-title'>",H="";if(k||!A)H+="<span class='ui-datepicker-month'>"+l[b]+"</span>";else{l=d&&d.getFullYear()===c;u=f&&f.getFullYear()===c;H+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(v=0;12>v;v++)if((!l||v>=d.getMonth())&&(!u||v<=f.getMonth()))H+="<option value='"+v+"'"+(v===b?" selected='selected'":"")+">"+t[v]+"</option>";H+="</select>"}q||(F+=H+(k||!A||!s?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",k||!s)F+="<span class='ui-datepicker-year'>"+
c+"</span>";else{t=this._get(a,"yearRange").split(":");x=(new Date).getFullYear();l=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?x+parseInt(a,10):parseInt(a,10);return isNaN(a)?x:a};b=l(t[0]);t=Math.max(b,l(t[1]||""));b=d?Math.max(b,d.getFullYear()):b;t=f?Math.min(t,f.getFullYear()):t;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=t;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";F+=a.yearshtml;a.yearshtml=null}F+=this._get(a,"yearSuffix");q&&(F+=(k||!A||!s?"&#xa0;":"")+H);return F+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),f=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();("M"===
c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c,d,f=this._getMinMaxDate(a,"min"),k=this._getMinMaxDate(a,"max"),l=null,t=null;if(c=
this._get(a,"yearRange"))c=c.split(":"),d=(new Date).getFullYear(),l=parseInt(c[0],10),t=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(l+=d),c[1].match(/[+\-].*/)&&(t+=d);return(!f||b.getTime()>=f.getTime())&&(!k||b.getTime()<=k.getTime())&&(!l||b.getFullYear()>=l)&&(!t||b.getFullYear()<=t)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length)return this;
d.datepicker.initialized||(d(document).mousedown(d.datepicker._checkExternalClick),d.datepicker.initialized=!0);0===d("#"+d.datepicker._mainDivId).length&&d("body").append(d.datepicker.dpDiv);var b=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&&"string"===typeof arguments[1]?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b)):this.each(function(){"string"===typeof a?d.datepicker["_"+
a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new c;d.datepicker.initialized=!1;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.10.3"})(jQuery);
(function(d,q){var c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},f={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};d.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=d(this).css(b).offset().top;
0>c&&d(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&d.fn.draggable&&this._makeDraggable();this.options.resizable&&d.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?d(b):this.document.find(b||"body").eq(0)},_destroy:function(){var b,c=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);b=c.parent.children().eq(c.index);b.length&&b[0]!==this.element[0]?b.before(this.element):c.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:d.noop,enable:d.noop,close:function(b){var c=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||d(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var a=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
a&&!c&&this._trigger("focus",b);return a},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=d(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var b=this.element.find("[autofocus]");b.length||(b=this.element.find(":tabbable"));b.length||
(b=this.uiDialogButtonPane.find(":tabbable"));b.length||(b=this.uiDialogTitlebarClose.filter(":tabbable"));b.length||(b=this.uiDialog);b.eq(0).focus()},_keepFocus:function(b){function c(){var a=this.document[0].activeElement;this.uiDialog[0]===a||d.contains(this.uiDialog[0],a)||this._focusTabbable()}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=d("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===d.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===d.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),a=c.filter(":first"),c=c.filter(":last");if((b.target===c[0]||b.target===this.uiDialog[0])&&!b.shiftKey)a.focus(1),b.preventDefault();else if((b.target===a[0]||b.target===this.uiDialog[0])&&b.shiftKey)c.focus(1),
b.preventDefault()}},mousedown:function(b){this._moveToTop(b)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=d("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){d(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});
this.uiDialogTitlebarClose=d("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(b){b.preventDefault();this.close(b)}});b=d("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(b){this.options.title||b.html("&#160;");
b.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=d("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=d("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();d.isEmptyObject(c)||d.isArray(c)&&!c.length?this.uiDialog.removeClass("ui-dialog-buttons"):(d.each(c,function(a,
c){var f,k;c=d.isFunction(c)?{click:c,text:a}:c;c=d.extend({type:"button"},c);f=c.click;c.click=function(){f.apply(b.element[0],arguments)};k={icons:c.icons,text:c.showText};delete c.icons;delete c.showText;d("<button></button>",c).button(k).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(a,f){d(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",a,b(f))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){a.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()];d(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var c=this,a=this.options,e=a.resizable,f=this.uiDialog.css("position"),e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:e,start:function(a,e){d(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",a,b(e))},resize:function(a,d){c._trigger("resize",
a,b(d))},stop:function(e,f){a.height=d(this).height();a.width=d(this).width();d(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var b=this.options;return"auto"===b.height?b.minHeight:Math.min(b.minHeight,b.height)},_position:function(){var b=this.uiDialog.is(":visible");b||this.uiDialog.show();this.uiDialog.position(this.options.position);b||this.uiDialog.hide()},_setOptions:function(b){var k=this,a=!1,e={};d.each(b,
function(b,d){k._setOption(b,d);b in c&&(a=!0);b in f&&(e[b]=d)});a&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(b,c){var a,d=this.uiDialog;"dialogClass"===b&&d.removeClass(this.options.dialogClass).addClass(c);"disabled"!==b&&(this._super(b,c),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:""+c}),"draggable"===
b&&((a=d.is(":data(ui-draggable)"))&&!c&&d.draggable("destroy"),!a&&c&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&((a=d.is(":data(ui-resizable)"))&&!c&&d.resizable("destroy"),a&&"string"===typeof c&&d.resizable("option","handles",c),!a&&!1!==c&&this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var b,c,a,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});d.minWidth>
d.width&&(d.width=d.minWidth);b=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();c=Math.max(0,d.minHeight-b);a="number"===typeof d.maxHeight?Math.max(0,d.maxHeight-b):"none";"auto"===d.height?this.element.css({minHeight:c,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,d.height-b));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
d(this);return d("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return d(b.target).closest(".ui-dialog").length?!0:!!d(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;d.ui.dialog.overlayInstances||this._delay(function(){d.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(a){b._allowInteraction(a)||(a.preventDefault(),d(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})});this.overlay=d("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});d.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(d.ui.dialog.overlayInstances--,d.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});d.ui.dialog.overlayInstances=0;!1!==d.uiBackCompat&&d.widget("ui.dialog",d.ui.dialog,{_position:function(){var b=this.options.position,c=[],a=[0,0],e;if(b){if("string"===typeof b||"object"===typeof b&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],1===c.length&&(c[1]=c[0]),d.each(["left","top"],function(b,d){+c[b]===c[b]&&(a[b]=c[b],c[b]=d)}),b={my:c[0]+(0>a[0]?a[0]:"+"+a[0])+" "+c[1]+(0>a[1]?a[1]:"+"+a[1]),at:c.join(" ")};b=d.extend({},d.ui.dialog.prototype.options.position,
b)}else b=d.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(b);e||this.uiDialog.hide()}})})(jQuery);
(function(d,q){var c=/up|down|vertical/,f=/up|left|vertical|horizontal/;d.effects.effect.blind=function(b,k){var a=d(this),e="position top bottom left right height width".split(" "),h=d.effects.setMode(a,b.mode||"hide"),p=b.direction||"up",n=c.test(p),m=n?"height":"width",l=n?"top":"left",p=f.test(p),t={},u="show"===h,v,x,q;a.parent().is(".ui-effects-wrapper")?d.effects.save(a.parent(),e):d.effects.save(a,e);a.show();v=d.effects.createWrapper(a).css({overflow:"hidden"});x=v[m]();q=parseFloat(v.css(l))||
0;t[m]=u?x:0;p||(a.css(n?"bottom":"right",0).css(n?"top":"left","auto").css({position:"absolute"}),t[l]=u?q:x+q);u&&(v.css(m,0),p||v.css(l,q+x));v.animate(t,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===h&&a.hide();d.effects.restore(a,e);d.effects.removeWrapper(a);k()}})}})(jQuery);
(function(d,q){d.effects.effect.bounce=function(c,f){var b=d(this),k="position top bottom left right height width".split(" "),a=d.effects.setMode(b,c.mode||"effect"),e="hide"===a,h="show"===a,p=c.direction||"up",a=c.distance,n=c.times||5,m=2*n+(h||e?1:0),l=c.duration/m,t=c.easing,u="up"===p||"down"===p?"top":"left",p="up"===p||"left"===p,v,x,q=b.queue(),s=q.length;(h||e)&&k.push("opacity");d.effects.save(b,k);b.show();d.effects.createWrapper(b);a||(a=b["top"===u?"outerHeight":"outerWidth"]()/3);h&&
(x={opacity:1},x[u]=0,b.css("opacity",0).css(u,p?2*-a:2*a).animate(x,l,t));e&&(a/=Math.pow(2,n-1));x={};for(h=x[u]=0;h<n;h++)v={},v[u]=(p?"-=":"+=")+a,b.animate(v,l,t).animate(x,l,t),a=e?2*a:a/2;e&&(v={opacity:0},v[u]=(p?"-=":"+=")+a,b.animate(v,l,t));b.queue(function(){e&&b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()});1<s&&q.splice.apply(q,[1,0].concat(q.splice(s,m+1)));b.dequeue()}})(jQuery);
(function(d,q){d.effects.effect.clip=function(c,f){var b=d(this),k="position top bottom left right height width".split(" "),a="show"===d.effects.setMode(b,c.mode||"hide"),e="vertical"===(c.direction||"vertical"),h=e?"height":"width",e=e?"top":"left",p={},n,m;d.effects.save(b,k);b.show();n=d.effects.createWrapper(b).css({overflow:"hidden"});n="IMG"===b[0].tagName?n:b;m=n[h]();a&&(n.css(h,0),n.css(e,m/2));p[h]=a?m:0;p[e]=a?0:m/2;n.animate(p,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){a||
b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()}})}})(jQuery);
(function(d,q){d.effects.effect.drop=function(c,f){var b=d(this),k="position top bottom left right opacity height width".split(" "),a=d.effects.setMode(b,c.mode||"hide"),e="show"===a,h=c.direction||"left",p="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h?"pos":"neg",n={opacity:e?1:0},m;d.effects.save(b,k);b.show();d.effects.createWrapper(b);m=c.distance||b["top"===p?"outerHeight":"outerWidth"](!0)/2;e&&b.css("opacity",0).css(p,"pos"===h?-m:m);n[p]=(e?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+
m;b.animate(n,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===a&&b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()}})}})(jQuery);
(function(d,q){d.effects.effect.explode=function(c,f){function b(){l.push(this);l.length===k*a&&(e.css({visibility:"visible"}),d(l).remove(),h||e.hide(),f())}var k=c.pieces?Math.round(Math.sqrt(c.pieces)):3,a=k,e=d(this),h="show"===d.effects.setMode(e,c.mode||"hide"),p=e.show().css("visibility","hidden").offset(),n=Math.ceil(e.outerWidth()/a),m=Math.ceil(e.outerHeight()/k),l=[],t,u,v,x,q,s;for(t=0;t<k;t++){x=p.top+t*m;s=t-(k-1)/2;for(u=0;u<a;u++)v=p.left+u*n,q=u-(a-1)/2,e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-u*n,top:-t*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:n,height:m,left:v+(h?q*n:0),top:x+(h?s*m:0),opacity:h?0:1}).animate({left:v+(h?0:q*n),top:x+(h?0:s*m),opacity:h?1:0},c.duration||500,c.easing,b)}}})(jQuery);(function(d,q){d.effects.effect.fade=function(c,f){var b=d(this),k=d.effects.setMode(b,c.mode||"toggle");b.animate({opacity:k},{queue:!1,duration:c.duration,easing:c.easing,complete:f})}})(jQuery);
(function(d,q){d.effects.effect.fold=function(c,f){var b=d(this),k="position top bottom left right height width".split(" "),a=d.effects.setMode(b,c.mode||"hide"),e="show"===a,h="hide"===a,a=c.size||15,p=/([0-9]+)%/.exec(a),n=!!c.horizFirst,m=e!==n,l=m?["width","height"]:["height","width"],t=c.duration/2,u,v={},x={};d.effects.save(b,k);b.show();u=d.effects.createWrapper(b).css({overflow:"hidden"});m=m?[u.width(),u.height()]:[u.height(),u.width()];p&&(a=parseInt(p[1],10)/100*m[h?0:1]);e&&u.css(n?{height:0,
width:a}:{height:a,width:0});v[l[0]]=e?m[0]:a;x[l[1]]=e?m[1]:0;u.animate(v,t,c.easing).animate(x,t,c.easing,function(){h&&b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()})}})(jQuery);
(function(d,q){d.effects.effect.highlight=function(c,f){var b=d(this),k=["backgroundImage","backgroundColor","opacity"],a=d.effects.setMode(b,c.mode||"show"),e={backgroundColor:b.css("backgroundColor")};"hide"===a&&(e.opacity=0);d.effects.save(b,k);b.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(e,{queue:!1,duration:c.duration,easing:c.easing,complete:function(){"hide"===a&&b.hide();d.effects.restore(b,k);f()}})}})(jQuery);
(function(d,q){d.effects.effect.pulsate=function(c,f){var b=d(this),k=d.effects.setMode(b,c.mode||"show"),a="show"===k,e="hide"===k,k=2*(c.times||5)+(a||"hide"===k?1:0),h=c.duration/k,p=0,n=b.queue(),m=n.length;if(a||!b.is(":visible"))b.css("opacity",0).show(),p=1;for(a=1;a<k;a++)b.animate({opacity:p},h,c.easing),p=1-p;b.animate({opacity:p},h,c.easing);b.queue(function(){e&&b.hide();f()});1<m&&n.splice.apply(n,[1,0].concat(n.splice(m,k+1)));b.dequeue()}})(jQuery);
(function(d,q){d.effects.effect.puff=function(c,f){var b=d(this),k=d.effects.setMode(b,c.mode||"hide"),a="hide"===k,e=parseInt(c.percent,10)||150,h=e/100,p={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};d.extend(c,{effect:"scale",queue:!1,fade:!0,mode:k,complete:f,percent:a?e:100,from:a?p:{height:p.height*h,width:p.width*h,outerHeight:p.outerHeight*h,outerWidth:p.outerWidth*h}});b.effect(c)};d.effects.effect.scale=function(c,f){var b=d(this),k=d.extend(!0,
{},c),a=d.effects.setMode(b,c.mode||"effect"),e=parseInt(c.percent,10)||(0===parseInt(c.percent,10)?0:"hide"===a?0:100),h=c.direction||"both",p=c.origin,n={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()},m="horizontal"!==h?e/100:1,e="vertical"!==h?e/100:1;k.effect="size";k.queue=!1;k.complete=f;"effect"!==a&&(k.origin=p||["middle","center"],k.restore=!0);k.from=c.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:n);k.to={height:n.height*m,width:n.width*
e,outerHeight:n.outerHeight*m,outerWidth:n.outerWidth*e};k.fade&&("show"===a&&(k.from.opacity=0,k.to.opacity=1),"hide"===a&&(k.from.opacity=1,k.to.opacity=0));b.effect(k)};d.effects.effect.size=function(c,f){var b,k,a,e,h,p,n=d(this),m="position top bottom left right width height overflow opacity".split(" ");h="position top bottom left right overflow opacity".split(" ");var l=["width","height","overflow"],t=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],v=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],x=d.effects.setMode(n,c.mode||"effect"),q=c.restore||"effect"!==x,s=c.scale||"both";p=c.origin||["middle","center"];var K=n.css("position"),F=q?m:h,H={height:0,width:0,outerHeight:0,outerWidth:0};"show"===x&&n.show();h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};"toggle"===c.mode&&"show"===x?(n.from=c.to||H,n.to=c.from||h):(n.from=c.from||("show"===x?H:h),n.to=c.to||("hide"===x?H:h));a=n.from.height/h.height;
e=n.from.width/h.width;b=n.to.height/h.height;k=n.to.width/h.width;if("box"===s||"both"===s)a!==b&&(F=F.concat(u),n.from=d.effects.setTransition(n,u,a,n.from),n.to=d.effects.setTransition(n,u,b,n.to)),e!==k&&(F=F.concat(v),n.from=d.effects.setTransition(n,v,e,n.from),n.to=d.effects.setTransition(n,v,k,n.to));if(("content"===s||"both"===s)&&a!==b)F=F.concat(t).concat(l),n.from=d.effects.setTransition(n,t,a,n.from),n.to=d.effects.setTransition(n,t,b,n.to);d.effects.save(n,F);n.show();d.effects.createWrapper(n);
n.css("overflow","hidden").css(n.from);p&&(p=d.effects.getBaseline(p,h),n.from.top=(h.outerHeight-n.outerHeight())*p.y,n.from.left=(h.outerWidth-n.outerWidth())*p.x,n.to.top=(h.outerHeight-n.to.outerHeight)*p.y,n.to.left=(h.outerWidth-n.to.outerWidth)*p.x);n.css(n.from);if("content"===s||"both"===s)u=u.concat(["marginTop","marginBottom"]).concat(t),v=v.concat(["marginLeft","marginRight"]),l=m.concat(u).concat(v),n.find("*[width]").each(function(){var f=d(this),h=f.height(),p=f.width(),m=f.outerHeight(),
n=f.outerWidth();q&&d.effects.save(f,l);f.from={height:h*a,width:p*e,outerHeight:m*a,outerWidth:n*e};f.to={height:h*b,width:p*k,outerHeight:h*b,outerWidth:p*k};a!==b&&(f.from=d.effects.setTransition(f,u,a,f.from),f.to=d.effects.setTransition(f,u,b,f.to));e!==k&&(f.from=d.effects.setTransition(f,v,e,f.from),f.to=d.effects.setTransition(f,v,k,f.to));f.css(f.from);f.animate(f.to,c.duration,c.easing,function(){q&&d.effects.restore(f,l)})});n.animate(n.to,{queue:!1,duration:c.duration,easing:c.easing,
complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity);"hide"===x&&n.hide();d.effects.restore(n,F);q||("static"===K?n.css({position:"relative",top:n.to.top,left:n.to.left}):d.each(["top","left"],function(a,b){n.css(b,function(b,c){var d=parseInt(c,10),e=a?n.to.left:n.to.top;return"auto"===c?e+"px":d+e+"px"})}));d.effects.removeWrapper(n);f()}})}})(jQuery);
(function(d,q){d.effects.effect.shake=function(c,f){var b=d(this),k="position top bottom left right height width".split(" "),a=d.effects.setMode(b,c.mode||"effect"),e=c.direction||"left",h=c.distance||20,p=c.times||3,n=2*p+1,m=Math.round(c.duration/n),l="up"===e||"down"===e?"top":"left",t="up"===e||"left"===e,e={},u={},v={},x=b.queue(),q=x.length;d.effects.save(b,k);b.show();d.effects.createWrapper(b);e[l]=(t?"-=":"+=")+h;u[l]=(t?"+=":"-=")+2*h;v[l]=(t?"-=":"+=")+2*h;b.animate(e,m,c.easing);for(h=
1;h<p;h++)b.animate(u,m,c.easing).animate(v,m,c.easing);b.animate(u,m,c.easing).animate(e,m/2,c.easing).queue(function(){"hide"===a&&b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()});1<q&&x.splice.apply(x,[1,0].concat(x.splice(q,n+1)));b.dequeue()}})(jQuery);
(function(d,q){d.effects.effect.slide=function(c,f){var b=d(this),k="position top bottom left right width height".split(" "),a=d.effects.setMode(b,c.mode||"show"),e="show"===a,h=c.direction||"left",p="up"===h||"down"===h?"top":"left",h="up"===h||"left"===h,n,m={};d.effects.save(b,k);b.show();n=c.distance||b["top"===p?"outerHeight":"outerWidth"](!0);d.effects.createWrapper(b).css({overflow:"hidden"});e&&b.css(p,h?isNaN(n)?"-"+n:-n:n);m[p]=(e?h?"+=":"-=":h?"-=":"+=")+n;b.animate(m,{queue:!1,duration:c.duration,
easing:c.easing,complete:function(){"hide"===a&&b.hide();d.effects.restore(b,k);d.effects.removeWrapper(b);f()}})}})(jQuery);
(function(d,q){d.effects.effect.transfer=function(c,f){var b=d(this),k=d(c.to),a="fixed"===k.css("position"),e=d("body"),h=a?e.scrollTop():0,e=a?e.scrollLeft():0,p=k.offset(),k={top:p.top-h,left:p.left-e,height:k.innerHeight(),width:k.innerWidth()},p=b.offset(),n=d("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(c.className).css({top:p.top-h,left:p.left-e,height:b.innerHeight(),width:b.innerWidth(),position:a?"fixed":"absolute"}).animate(k,c.duration,c.easing,function(){n.remove();
f()})}})(jQuery);
(function(d,q){d.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,
d.proxy(function(c){this.options.disabled&&c.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var f=d(c.target).closest(".ui-menu-item");!this.mouseHandled&&f.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(c),f.has(".ui-menu").length?
this.expand(c):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(c){var f=d(c.currentTarget);f.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,f)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(c,b)},blur:function(c){this._delay(function(){d.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(c)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){d(c.target).closest(".ui-menu").length||this.collapseAll(c);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=d(this);c.data("ui-menu-submenu-carat")&&c.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(c){function f(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var b,k,a,e,h=!0;switch(c.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(c);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(c);break;case d.ui.keyCode.HOME:this._move("first","first",c);break;case d.ui.keyCode.END:this._move("last","last",c);break;case d.ui.keyCode.UP:this.previous(c);break;case d.ui.keyCode.DOWN:this.next(c);break;case d.ui.keyCode.LEFT:this.collapse(c);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(c);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(c);
break;case d.ui.keyCode.ESCAPE:this.collapse(c);break;default:h=!1,b=this.previousFilter||"",k=String.fromCharCode(c.keyCode),a=!1,clearTimeout(this.filterTimer),k===b?a=!0:k=b+k,e=RegExp("^"+f(k),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(d(this).children("a").text())}),b=a&&-1!==b.index(this.active.next())?this.active.nextAll(".ui-menu-item"):b,b.length||(k=String.fromCharCode(c.keyCode),e=RegExp("^"+f(k),"i"),b=this.activeMenu.children(".ui-menu-item").filter(function(){return e.test(d(this).children("a").text())})),
b.length?(this.focus(c,b),1<b.length?(this.previousFilter=k,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}h&&c.preventDefault()},_activate:function(c){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(c):this.select(c))},refresh:function(){var c,f=this.options.icons.submenu;c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=d(this),c=b.prev("a"),a=d("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(a);b.attr("aria-labelledby",c.attr("id"))});c=c.add(this.element);c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});c.children(":not(.ui-menu-item)").each(function(){var b=
d(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});c.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){"icons"===c&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu);this._super(c,d)},focus:function(c,d){var b;this.blur(c,c&&
"focus"===c.type);this._scrollIntoView(d);this.active=d.first();b=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",b.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=d.children(".ui-menu");b.length&&/^mouse/.test(c.type)&&this._startOpening(b);this.activeMenu=d.parent();this._trigger("focus",
c,{item:d})},_scrollIntoView:function(c){var f,b,k;this._hasScroll()&&(f=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,b=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,f=c.offset().top-this.activeMenu.offset().top-f-b,b=this.activeMenu.scrollTop(),k=this.activeMenu.height(),c=c.height(),0>f?this.activeMenu.scrollTop(b+f):f+c>k&&this.activeMenu.scrollTop(b+f-k+c))},blur:function(c,d){d||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),
this.active=null,this._trigger("blur",c,{item:this.active}))},_startOpening:function(c){clearTimeout(this.timer);"true"===c.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(c)},this.delay))},_open:function(c){var f=d.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true");c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(f)},collapseAll:function(c,
f){clearTimeout(this.timer);this.timer=this._delay(function(){var b=f?this.element:d(c&&c.target).closest(this.element.find(".ui-menu"));b.length||(b=this.element);this._close(b);this.blur(c);this.activeMenu=b},this.delay)},_close:function(c){c||(c=this.active?this.active.parent():this.element);c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(c){var d=this.active&&this.active.parent().closest(".ui-menu-item",
this.element);d&&d.length&&(this._close(),this.focus(c,d))},expand:function(c){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(c,d)}))},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},
_move:function(c,d,b){var k;this.active&&(k="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0));if(!k||!k.length||!this.active)k=this.activeMenu.children(".ui-menu-item")[d]();this.focus(b,k)},nextPage:function(c){var f,b,k;this.active?this.isLastItem()||(this._hasScroll()?(b=this.active.offset().top,k=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){f=d(this);return 0>f.offset().top-b-
k}),this.focus(c,f)):this.focus(c,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())):this.next(c)},previousPage:function(c){var f,b,k;this.active?this.isFirstItem()||(this._hasScroll()?(b=this.active.offset().top,k=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){f=d(this);return 0<f.offset().top-b+k}),this.focus(c,f)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())):this.next(c)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(c){this.active=this.active||d(c.target).closest(".ui-menu-item");var f={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(c,!0);this._trigger("select",c,f)}})})(jQuery);
(function(d,q){function c(a,b,c){return[parseFloat(a[0])*(l.test(a[0])?b/100:1),parseFloat(a[1])*(l.test(a[1])?c/100:1)]}function f(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:d.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}d.ui=d.ui||{};var b,k=Math.max,a=Math.abs,e=
Math.round,h=/left|center|right/,p=/top|center|bottom/,n=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,l=/%$/,t=d.fn.position;d.position={scrollbarWidth:function(){if(b!==q)return b;var a,c,e=d("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");c=e.children()[0];d("body").append(e);a=c.offsetWidth;e.css("overflow","scroll");c=c.offsetWidth;a===c&&(c=e[0].clientWidth);e.remove();return b=a-c},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"),
c=a.isWindow?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth;return{width:"scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight?d.position.scrollbarWidth():0,height:b?d.position.scrollbarWidth():0}},getWithinInfo:function(a){a=d(a||window);var b=d.isWindow(a[0]);return{element:a,isWindow:b,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};d.fn.position=
function(b){if(!b||!b.of)return t.apply(this,arguments);b=d.extend({},b);var l,x,q,s,K,F,H=d(b.of),y=d.position.getWithinInfo(b.within),I=d.position.getScrollInfo(y),M=(b.collision||"flip").split(" "),J={};F=f(H);H[0].preventDefault&&(b.at="left top");x=F.width;q=F.height;s=F.offset;K=d.extend({},s);d.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;1===a.length&&(a=h.test(a[0])?a.concat(["center"]):p.test(a[0])?["center"].concat(a):["center","center"]);a[0]=h.test(a[0])?a[0]:"center";
a[1]=p.test(a[1])?a[1]:"center";c=n.exec(a[0]);d=n.exec(a[1]);J[this]=[c?c[0]:0,d?d[0]:0];b[this]=[m.exec(a[0])[0],m.exec(a[1])[0]]});1===M.length&&(M[1]=M[0]);"right"===b.at[0]?K.left+=x:"center"===b.at[0]&&(K.left+=x/2);"bottom"===b.at[1]?K.top+=q:"center"===b.at[1]&&(K.top+=q/2);l=c(J.at,x,q);K.left+=l[0];K.top+=l[1];return this.each(function(){var f,h,p=d(this),m=p.outerWidth(),n=p.outerHeight(),t=parseInt(d.css(this,"marginLeft"),10)||0,F=parseInt(d.css(this,"marginTop"),10)||0,V=m+t+(parseInt(d.css(this,
"marginRight"),10)||0)+I.width,Y=n+F+(parseInt(d.css(this,"marginBottom"),10)||0)+I.height,L=d.extend({},K),O=c(J.my,p.outerWidth(),p.outerHeight());"right"===b.my[0]?L.left-=m:"center"===b.my[0]&&(L.left-=m/2);"bottom"===b.my[1]?L.top-=n:"center"===b.my[1]&&(L.top-=n/2);L.left+=O[0];L.top+=O[1];d.support.offsetFractions||(L.left=e(L.left),L.top=e(L.top));f={marginLeft:t,marginTop:F};d.each(["left","top"],function(a,c){if(d.ui.position[M[a]])d.ui.position[M[a]][c](L,{targetWidth:x,targetHeight:q,
elemWidth:m,elemHeight:n,collisionPosition:f,collisionWidth:V,collisionHeight:Y,offset:[l[0]+O[0],l[1]+O[1]],my:b.my,at:b.at,within:y,elem:p})});b.using&&(h=function(c){var d=s.left-L.left,e=d+x-m,f=s.top-L.top,h=f+q-n,l={target:{element:H,left:s.left,top:s.top,width:x,height:q},element:{element:p,left:L.left,top:L.top,width:m,height:n},horizontal:0>e?"left":0<d?"right":"center",vertical:0>h?"top":0<f?"bottom":"middle"};x<m&&a(d+e)<x&&(l.horizontal="center");q<n&&a(f+h)<q&&(l.vertical="middle");k(a(d),
a(e))>k(a(f),a(h))?l.important="horizontal":l.important="vertical";b.using.call(this,c,l)});p.offset(d.extend(L,{using:h}))})};d.ui.position={fit:{left:function(a,b){var c=b.within,d=c.isWindow?c.scrollLeft:c.offset.left,e=c.width,f=a.left-b.collisionPosition.marginLeft,c=d-f,h=f+b.collisionWidth-e-d;b.collisionWidth>e?0<c&&0>=h?(d=a.left+c+b.collisionWidth-e-d,a.left+=c-d):a.left=0<h&&0>=c?d:c>h?d+e-b.collisionWidth:d:a.left=0<c?a.left+c:0<h?a.left-h:k(a.left-f,a.left)},top:function(a,b){var c=b.within,
d=c.isWindow?c.scrollTop:c.offset.top,e=b.within.height,f=a.top-b.collisionPosition.marginTop,c=d-f,h=f+b.collisionHeight-e-d;b.collisionHeight>e?0<c&&0>=h?(d=a.top+c+b.collisionHeight-e-d,a.top+=c-d):a.top=0<h&&0>=c?d:c>h?d+e-b.collisionHeight:d:a.top=0<c?a.top+c:0<h?a.top-h:k(a.top-f,a.top)}},flip:{left:function(b,c){var d=c.within,e=d.offset.left+d.scrollLeft,f=d.width,h=d.isWindow?d.scrollLeft:d.offset.left,k=b.left-c.collisionPosition.marginLeft,d=k-h,l=k+c.collisionWidth-f-h,k="left"===c.my[0]?
-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,p="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,m=-2*c.offset[0];if(0>d){if(e=b.left+k+p+m+c.collisionWidth-f-e,0>e||e<a(d))b.left+=k+p+m}else if(0<l&&(e=b.left-c.collisionPosition.marginLeft+k+p+m-h,0<e||a(e)<l))b.left+=k+p+m},top:function(b,c){var d=c.within,e=d.offset.top+d.scrollTop,f=d.height,h=d.isWindow?d.scrollTop:d.offset.top,k=b.top-c.collisionPosition.marginTop,d=k-h,l=k+c.collisionHeight-f-h,k="top"===c.my[1]?-c.elemHeight:
"bottom"===c.my[1]?c.elemHeight:0,p="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,m=-2*c.offset[1];if(0>d){if(e=b.top+k+p+m+c.collisionHeight-f-e,b.top+k+p+m>d&&(0>e||e<a(d)))b.top+=k+p+m}else if(0<l&&(e=b.top-c.collisionPosition.marginTop+k+p+m-h,b.top+k+p+m>l&&(0<e||a(e)<l)))b.top+=k+p+m}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this,
arguments)}}};(function(){var a,b,c,e,f=document.getElementsByTagName("body")[0];c=document.createElement("div");a=document.createElement(f?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};f&&d.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in b)a.style[e]=b[e];a.appendChild(c);b=f||document.documentElement;b.insertBefore(a,b.firstChild);c.style.cssText="position: absolute; left: 10.7432222px;";c=d(c).offset().left;d.support.offsetFractions=
10<c&&11>c;a.innerHTML="";b.removeChild(a)})()})(jQuery);
(function(d,q){d.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(c){if(c===q)return this.options.value;this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){c===q&&(c=this.options.value);this.indeterminate=!1===c;"number"!==typeof c&&(c=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(c,d){"max"===
c&&(d=Math.max(this.min,d));this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var c=this.options.value,f=this._percentage();this.valueDiv.toggle(this.indeterminate||c>this.min).toggleClass("ui-corner-right",c===this.options.max).width(f.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||
(this.overlayDiv=d("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":c}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==c&&(this.oldValue=c,this._trigger("change"));c===this.options.max&&this._trigger("complete")}})})(jQuery);
(function(d,q){d.widget("ui.slider",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var c,f;c=this.options;var b=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),k=[];f=c.values&&c.values.length||1;b.length>f&&(b.slice(f).remove(),b=b.slice(0,f));for(c=b.length;c<f;c++)k.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=b.add(d(k.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){d(this).data("ui-slider-handle-index",a)})},_createRange:function(){var c=this.options,f="";c.range?(!0===c.range&&(c.values?c.values.length&&2!==c.values.length?c.values=[c.values[0],c.values[0]]:d.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=d("<div></div>").appendTo(this.element),f="ui-slider-range ui-widget-header ui-corner-all"):
this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}),this.range.addClass(f+("min"===c.range||"max"===c.range?" ui-slider-range-"+c.range:""))):this.range=d([])},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c);this._on(c,this._handleEvents);this._hoverable(c);this._focusable(c)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(c){var f,b,k,a,e,h=this,p=this.options;if(p.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f=this._normValueFromMouse({x:c.pageX,y:c.pageY});b=this._valueMax()-this._valueMin()+1;this.handles.each(function(c){var e=Math.abs(f-h.values(c));if(b>e||b===e&&(c===h._lastChangedValue||h.values(c)===p.min))b=e,k=d(this),a=c});if(!1===this._start(c,a))return!1;this._mouseSliding=
!0;this._handleIndex=a;k.addClass("ui-state-active").focus();e=k.offset();this._clickOffset=!d(c.target).parents().addBack().is(".ui-slider-handle")?{left:0,top:0}:{left:c.pageX-e.left-k.width()/2,top:c.pageY-e.top-k.height()/2-(parseInt(k.css("borderTopWidth"),10)||0)-(parseInt(k.css("borderBottomWidth"),10)||0)+(parseInt(k.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(c,a,f);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(c){var d=
this._normValueFromMouse({x:c.pageX,y:c.pageY});this._slide(c,this._handleIndex,d);return!1},_mouseStop:function(c){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(c,this._handleIndex);this._change(c,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(c){var d;"horizontal"===this.orientation?(d=this.elementSize.width,
c=c.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(d=this.elementSize.height,c=c.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));d=c/d;1<d&&(d=1);0>d&&(d=0);"vertical"===this.orientation&&(d=1-d);c=this._valueMax()-this._valueMin();d=this._valueMin()+d*c;return this._trimAlignValue(d)},_start:function(c,d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());
return this._trigger("start",c,b)},_slide:function(c,d,b){var k;if(this.options.values&&this.options.values.length){k=this.values(d?0:1);if(2===this.options.values.length&&!0===this.options.range&&(0===d&&b>k||1===d&&b<k))b=k;b!==this.values(d)&&(k=this.values(),k[d]=b,c=this._trigger("slide",c,{handle:this.handles[d],value:b,values:k}),this.values(d?0:1),!1!==c&&this.values(d,b,!0))}else b!==this.value()&&(c=this._trigger("slide",c,{handle:this.handles[d],value:b}),!1!==c&&this.value(b))},_stop:function(c,
d){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._trigger("stop",c,b)},_change:function(c,d){if(!this._keySliding&&!this._mouseSliding){var b={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(b.value=this.values(d),b.values=this.values());this._lastChangedValue=d;this._trigger("change",c,b)}},value:function(c){if(arguments.length)this.options.value=
this._trimAlignValue(c),this._refreshValue(),this._change(null,0);else return this._value()},values:function(c,f){var b,k,a;if(1<arguments.length)this.options.values[c]=this._trimAlignValue(f),this._refreshValue(),this._change(null,c);else if(arguments.length)if(d.isArray(arguments[0])){b=this.options.values;k=arguments[0];for(a=0;a<b.length;a+=1)b[a]=this._trimAlignValue(k[a]),this._change(null,a);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(c):this.value();
else return this._values()},_setOption:function(c,f){var b,k=0;"range"===c&&!0===this.options.range&&("min"===f?(this.options.value=this._values(0),this.options.values=null):"max"===f&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));d.isArray(this.options.values)&&(k=this.options.values.length);d.Widget.prototype._setOption.apply(this,arguments);switch(c){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<k;b+=1)this._change(null,b);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c)},
_values:function(c){var d,b;if(arguments.length)return d=this.options.values[c],d=this._trimAlignValue(d);if(this.options.values&&this.options.values.length){d=this.options.values.slice();for(b=0;b<d.length;b+=1)d[b]=this._trimAlignValue(d[b]);return d}return[]},_trimAlignValue:function(c){if(c<=this._valueMin())return this._valueMin();if(c>=this._valueMax())return this._valueMax();var d=0<this.options.step?this.options.step:1,b=(c-this._valueMin())%d;c-=b;2*Math.abs(b)>=d&&(c+=0<b?d:-d);return parseFloat(c.toFixed(5))},
_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var c,f,b,k,a,e=this.options.range,h=this.options,p=this,n=!this._animateOff?h.animate:!1,m={};if(this.options.values&&this.options.values.length)this.handles.each(function(a){f=100*((p.values(a)-p._valueMin())/(p._valueMax()-p._valueMin()));m["horizontal"===p.orientation?"left":"bottom"]=f+"%";d(this).stop(1,1)[n?"animate":"css"](m,h.animate);if(!0===p.options.range)if("horizontal"===
p.orientation){if(0===a)p.range.stop(1,1)[n?"animate":"css"]({left:f+"%"},h.animate);if(1===a)p.range[n?"animate":"css"]({width:f-c+"%"},{queue:!1,duration:h.animate})}else{if(0===a)p.range.stop(1,1)[n?"animate":"css"]({bottom:f+"%"},h.animate);if(1===a)p.range[n?"animate":"css"]({height:f-c+"%"},{queue:!1,duration:h.animate})}c=f});else{b=this.value();k=this._valueMin();a=this._valueMax();f=a!==k?100*((b-k)/(a-k)):0;m["horizontal"===this.orientation?"left":"bottom"]=f+"%";this.handle.stop(1,1)[n?
"animate":"css"](m,h.animate);if("min"===e&&"horizontal"===this.orientation)this.range.stop(1,1)[n?"animate":"css"]({width:f+"%"},h.animate);if("max"===e&&"horizontal"===this.orientation)this.range[n?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:h.animate});if("min"===e&&"vertical"===this.orientation)this.range.stop(1,1)[n?"animate":"css"]({height:f+"%"},h.animate);if("max"===e&&"vertical"===this.orientation)this.range[n?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:h.animate})}},
_handleEvents:{keydown:function(c){var f,b,k,a=d(c.target).data("ui-slider-handle-index");switch(c.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,d(c.target).addClass("ui-state-active"),f=this._start(c,a),!1===f))return}k=this.options.step;f=this.options.values&&this.options.values.length?
b=this.values(a):b=this.value();switch(c.keyCode){case d.ui.keyCode.HOME:b=this._valueMin();break;case d.ui.keyCode.END:b=this._valueMax();break;case d.ui.keyCode.PAGE_UP:b=this._trimAlignValue(f+(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:b=this._trimAlignValue(f-(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(f===this._valueMax())return;b=this._trimAlignValue(f+k);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(f===
this._valueMin())return;b=this._trimAlignValue(f-k)}this._slide(c,a,b)},click:function(c){c.preventDefault()},keyup:function(c){var f=d(c.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(c,f),this._change(c,f),d(c.target).removeClass("ui-state-active"))}}})})(jQuery);
(function(d){function q(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();d!==this.element.val()&&this._trigger("change")}}d.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);
this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},f=this.element;d.each(["min","max","step"],function(b,d){var a=f.attr(d);void 0!==a&&a.length&&(c[d]=a)});return c},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",
focus:function(){this.previous=this.element.val()},blur:function(c){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c))},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c))return!1;this._spin((0<d?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c)},100);c.preventDefault()}},"mousedown .ui-spinner-button":function(c){function f(){this.element[0]!==
this.document[0].activeElement&&(this.element.focus(),this.previous=b,this._delay(function(){this.previous=b}))}var b;b=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();c.preventDefault();f.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;f.call(this)});!1!==this._start(c)&&this._repeat(null,d(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(d(c.currentTarget).hasClass("ui-state-active")){if(!1===
this._start(c))return!1;this._repeat(null,d(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(0.5*c.height())&&0<c.height()&&
c.height(c.height());this.options.disabled&&this.disable()},_keydown:function(c){var f=this.options,b=d.ui.keyCode;switch(c.keyCode){case b.UP:return this._repeat(null,1,c),!0;case b.DOWN:return this._repeat(null,-1,c),!0;case b.PAGE_UP:return this._repeat(null,f.page,c),!0;case b.PAGE_DOWN:return this._repeat(null,-f.page,c),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+
this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&!1===this._trigger("start",c))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(c,d,b){c=c||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,d,b)},c);this._spin(d*this.options.step,b)},_spin:function(c,d){var b=this.value()||0;this.counter||
(this.counter=1);b=this._adjustValue(b+c*this._increment(this.counter));if(!this.spinning||!1!==this._trigger("spin",d,{value:b}))this._value(b),this.counter++},_increment:function(c){var f=this.options.incremental;return f?d.isFunction(f)?f(c):Math.floor(c*c*c/5E4-c*c/500+17*c/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min)));return c},_precisionOf:function(c){c=c.toString();var d=c.indexOf(".");
return-1===d?0:c.length-d-1},_adjustValue:function(c){var d,b=this.options;d=null!==b.min?b.min:0;c=Math.round((c-d)/b.step)*b.step;c=d+c;c=parseFloat(c.toFixed(this._precision()));return null!==b.max&&c>b.max?b.max:null!==b.min&&c<b.min?b.min:c},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c))},_setOption:function(c,d){if("culture"===c||"numberFormat"===c){var b=this._parse(this.element.val());this.options[c]=
d;this.element.val(this._format(b))}else{if("max"===c||"min"===c||"step"===c)"string"===typeof d&&(d=this._parse(d));"icons"===c&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down));this._super(c,d);"disabled"===c&&(d?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))}},_setOptions:q(function(c){this._super(c);
this._value(this.element.val())}),_parse:function(c){"string"===typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c);return""===c||isNaN(c)?null:c},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},
_value:function(c,d){var b;""!==c&&(b=this._parse(c),null!==b&&(d||(b=this._adjustValue(b)),c=this._format(b)));this.element.val(c);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:q(function(c){this._stepUp(c)}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),
this._stop())},stepDown:q(function(c){this._stepDown(c)}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop())},pageUp:q(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:q(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length)return this._parse(this.element.val());q(this._value).call(this,c)},widget:function(){return this.uiSpinner}})})(jQuery);
(function(d,q){function c(c){return 1<c.hash.length&&decodeURIComponent(c.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""))}var f=0,b=/#.*$/;d.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,a=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",
a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(a){d(this).is(".ui-state-disabled")&&a.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();a.active=this._initialActive();d.isArray(a.disabled)&&(a.disabled=d.unique(a.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&
this.anchors.length?this._findActive(a.active):d();this._refresh();this.active.length&&this.load(a.active)},_initialActive:function(){var b=this.options.active,a=this.options.collapsible,c=location.hash.substring(1);if(null===b&&(c&&this.tabs.each(function(a,f){if(d(f).attr("aria-controls")===c)return b=a,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b))b=this.tabs.length?0:!1;!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=a?!1:0));!a&&(!1===b&&this.anchors.length)&&
(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?d():this._getPanelForTab(this.active)}},_tabKeydown:function(b){var a=d(this.document[0].activeElement).closest("li"),c=this.tabs.index(a),f=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:c++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:f=!1;c--;break;case d.ui.keyCode.END:c=this.anchors.length-1;break;case d.ui.keyCode.HOME:c=0;break;case d.ui.keyCode.SPACE:b.preventDefault();
clearTimeout(this.activating);this._activate(c);return;case d.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(c===this.options.active?!1:c);return;default:return}b.preventDefault();clearTimeout(this.activating);c=this._focusNextTab(c,f);b.ctrlKey||(a.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&(b.ctrlKey&&
b.keyCode===d.ui.keyCode.UP)&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===d.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===d.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,a){function c(){b>f&&(b=0);0>b&&(b=f);return b}for(var f=this.tabs.length-1;-1!==d.inArray(c(),this.options.disabled);)b=a?b+1:b-1;return b},
_focusNextTab:function(b,a){b=this._findNextTab(b,a);this.tabs.eq(b).focus();return b},_setOption:function(b,a){"active"===b?this._activate(a):"disabled"===b?this._setupDisabled(a):(this._super(b,a),"collapsible"===b&&(this.element.toggleClass("ui-tabs-collapsible",a),!a&&!1===this.options.active&&this._activate(0)),"event"===b&&this._setupEvents(a),"heightStyle"===b&&this._setupHeightStyle(a))},_tabId:function(b){return b.attr("aria-controls")||"ui-tabs-"+ ++f},_sanitizeSelector:function(b){return b?
b.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,a=this.tablist.children(":has(a[href])");b.disabled=d.map(a.filter(".ui-state-disabled"),function(b){return a.index(b)});this._processTabs();!1===b.active||!this.anchors.length?(b.active=!1,this.active=d()):this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=
this.tabs.index(this.active);this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true",
"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=
d();this.anchors.each(function(a,e){var f,p,n,m=d(e).uniqueId().attr("id"),l=d(e).closest("li"),t=l.attr("aria-controls");c(e)?(f=e.hash,p=b.element.find(b._sanitizeSelector(f))):(n=b._tabId(l),f="#"+n,p=b.element.find(f),p.length||(p=b._createPanel(n),p.insertAfter(b.panels[a-1]||b.tablist)),p.attr("aria-live","polite"));p.length&&(b.panels=b.panels.add(p));t&&l.data("ui-tabs-aria-controls",t);l.attr({"aria-controls":f.substring(1),"aria-labelledby":m});p.attr("aria-labelledby",m)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role",
"tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return d("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){d.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var a=0,c;c=this.tabs[a];a++)!0===b||-1!==d.inArray(a,b)?d(c).addClass("ui-state-disabled").attr("aria-disabled","true"):d(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");
this.options.disabled=b},_setupEvents:function(b){var a={click:function(a){a.preventDefault()}};b&&d.each(b.split(" "),function(b,c){a[c]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,a);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var a,c=this.element.parent();"fill"===b?(a=c.height(),a-=this.element.outerHeight()-this.element.height(),
this.element.siblings(":visible").each(function(){var b=d(this),c=b.css("position");"absolute"===c||"fixed"===c||(a-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,a-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===b&&(a=0,this.panels.each(function(){a=Math.max(a,d(this).height("").height())}).height(a))},_eventHandler:function(b){var a=this.options,c=this.active,
f=d(b.currentTarget).closest("li"),p=f[0]===c[0],n=p&&a.collapsible,m=n?d():this._getPanelForTab(f),l=!c.length?d():this._getPanelForTab(c),c={oldTab:c,oldPanel:l,newTab:n?d():f,newPanel:m};b.preventDefault();if(!f.hasClass("ui-state-disabled")&&!f.hasClass("ui-tabs-loading")&&!this.running&&!(p&&!a.collapsible||!1===this._trigger("beforeActivate",b,c)))a.active=n?!1:this.tabs.index(f),this.active=p?d():f,this.xhr&&this.xhr.abort(),!l.length&&!m.length&&d.error("jQuery UI Tabs: Mismatching fragment identifier."),
m.length&&this.load(this.tabs.index(f),b),this._toggle(b,c)},_toggle:function(b,a){function c(){p.running=!1;p._trigger("activate",b,a)}function f(){a.newTab.closest("li").addClass("ui-tabs-active ui-state-active");n.length&&p.options.show?p._show(n,p.options.show,c):(n.show(),c())}var p=this,n=a.newPanel,m=a.oldPanel;this.running=!0;m.length&&this.options.hide?this._hide(m,this.options.hide,function(){a.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");f()}):(a.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
m.hide(),f());m.attr({"aria-expanded":"false","aria-hidden":"true"});a.oldTab.attr("aria-selected","false");n.length&&m.length?a.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1);n.attr({"aria-expanded":"true","aria-hidden":"false"});a.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,
currentTarget:b,preventDefault:d.noop}))},_findActive:function(b){return!1===b?d():this.tabs.eq(b)},_getIndex:function(b){"string"===typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']")));return b},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var b=d(this),a=b.data("ui-tabs-aria-controls");
a?b.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var a=this.options.disabled;!1!==a&&(b===q?a=!1:(b=this._getIndex(b),a=d.isArray(a)?d.map(a,function(a){return a!==b?a:null}):d.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(a))},disable:function(b){var a=this.options.disabled;if(!0!==a){if(b===q)a=!0;else{b=this._getIndex(b);
if(-1!==d.inArray(b,a))return;a=d.isArray(a)?d.merge([b],a).sort():[b]}this._setupDisabled(a)}},load:function(b,a){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),p=f.find(".ui-tabs-anchor"),n=this._getPanelForTab(f),m={tab:f,panel:n};if(!c(p[0])&&(this.xhr=d.ajax(this._ajaxSettings(p,a,m)))&&"canceled"!==this.xhr.statusText)f.addClass("ui-tabs-loading"),n.attr("aria-busy","true"),this.xhr.success(function(b){setTimeout(function(){n.html(b);e._trigger("load",a,m)},1)}).complete(function(a,b){setTimeout(function(){"abort"===
b&&e.panels.stop(!1,!0);f.removeClass("ui-tabs-loading");n.removeAttr("aria-busy");a===e.xhr&&delete e.xhr},1)})},_ajaxSettings:function(b,a,c){var f=this;return{url:b.attr("href"),beforeSend:function(b,k){return f._trigger("beforeLoad",a,d.extend({jqXHR:b,ajaxSettings:k},c))}}},_getPanelForTab:function(b){b=d(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})})(jQuery);
(function(d){function q(b,c){var a=(b.attr("aria-describedby")||"").split(/\s+/);a.push(c);b.data("ui-tooltip-id",c).attr("aria-describedby",d.trim(a.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),a=(b.attr("aria-describedby")||"").split(/\s+/),c=d.inArray(c,a);-1!==c&&a.splice(c,1);b.removeData("ui-tooltip-id");(a=d.trim(a.join(" ")))?b.attr("aria-describedby",a):b.removeAttr("aria-describedby")}var f=0;d.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var b=d(this).attr("title")||
"";return d("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable()},_setOption:function(b,c){var a=this;"disabled"===b?(this[c?"_disable":"_enable"](),this.options[b]=c):(this._super(b,c),"content"===b&&d.each(this.tooltips,function(b,
c){a._updateContent(c)}))},_disable:function(){var b=this;d.each(this.tooltips,function(c,a){var e=d.Event("blur");e.target=e.currentTarget=a[0];b.close(e,!0)});this.element.find(this.options.items).addBack().each(function(){var b=d(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=d(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=
this,a=d(b?b.target:this.element).closest(this.options.items);a.length&&!a.data("ui-tooltip-id")&&(a.attr("title")&&a.data("ui-tooltip-title",a.attr("title")),a.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&a.parents().each(function(){var a=d(this),b;a.data("ui-tooltip-open")&&(b=d.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0));a.attr("title")&&(a.uniqueId(),c.parents[this.id]={element:this,title:a.attr("title")},a.attr("title",""))}),this._updateContent(a,b))},_updateContent:function(b,
c){var a;a=this.options.content;var d=this,f=c?c.type:null;if("string"===typeof a)return this._open(c,b,a);(a=a.call(b[0],function(a){b.data("ui-tooltip-open")&&d._delay(function(){c&&(c.type=f);this._open(c,b,a)})}))&&this._open(c,b,a)},_open:function(b,c,a){function e(a){n.of=a;f.is(":hidden")||f.position(n)}var f,p,n=d.extend({},this.options.position);if(a)if(f=this._find(c),f.length)f.find(".ui-tooltip-content").html(a);else{c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title"));
f=this._tooltip(c);q(c,f.attr("id"));f.find(".ui-tooltip-content").html(a);this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):f.position(d.extend({of:c},this.options.position));f.hide();this._show(f,this.options.show);this.options.show&&this.options.show.delay&&(p=this.delayedShow=setInterval(function(){f.is(":visible")&&(e(n.of),clearInterval(p))},d.fx.interval));this._trigger("open",b,{tooltip:f});a={keyup:function(a){a.keyCode===d.ui.keyCode.ESCAPE&&(a=d.Event(a),
a.currentTarget=c[0],this.close(a,!0))},remove:function(){this._removeTooltip(f)}};if(!b||"mouseover"===b.type)a.mouseleave="close";if(!b||"focusin"===b.type)a.focusout="close";this._on(!0,c,a)}},close:function(b){var f=this,a=d(b?b.currentTarget:this.element),e=this._find(a);this.closing||(clearInterval(this.delayedShow),a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title")),c(a),e.stop(!0),this._hide(e,this.options.hide,function(){f._removeTooltip(d(this))}),a.removeData("ui-tooltip-open"),
this._off(a,"mouseleave focusout keyup"),a[0]!==this.element[0]&&this._off(a,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&d.each(this.parents,function(a,b){d(b.element).attr("title",b.title);delete f.parents[a]}),this.closing=!0,this._trigger("close",b,{tooltip:e}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+f++,a=d("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(a);
a.appendTo(this.document[0].body);this.tooltips[c]=b;return a},_find:function(b){return(b=b.data("ui-tooltip-id"))?d("#"+b):d()},_removeTooltip:function(b){b.remove();delete this.tooltips[b.attr("id")]},_destroy:function(){var b=this;d.each(this.tooltips,function(c,a){var e=d.Event("blur");e.target=e.currentTarget=a[0];b.close(e,!0);d("#"+c).remove();a.data("ui-tooltip-title")&&(a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))})}})})(jQuery);
(function(d,q,c){function f(a){return function(){var b=arguments[0],c=arguments,d;d="["+(a?a+":":"")+b+"] "+arguments[1].replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<c.length?(a=c[b+2],"function"===typeof a?a.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"===typeof a?"undefined":"string"!==typeof a?R(a):a):a});d=d+"\nhttp://errors.angularjs.org/1.2.1/"+(a?a+"/":"")+b;for(b=2;b<arguments.length;b++)d=d+(2==b?"?":"&")+"p"+(b-2)+"="+encodeURIComponent("function"===typeof arguments[b]?
arguments[b].toString().replace(/ \{[\s\S]*$/,""):"undefined"===typeof arguments[b]?"undefined":"string"!==typeof arguments[b]?JSON.stringify(arguments[b]):arguments[b]);return Error(d)}}function b(a){if(null==a||w(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:F(a)||I(a)||0===b||"number"===typeof b&&0<b&&b-1 in a}function k(a,c,d){var e;if(a)if(M(a))for(e in a)"prototype"!=e&&("length"!=e&&"name"!=e&&a.hasOwnProperty(e))&&c.call(d,a[e],e);else if(a.forEach&&a.forEach!==k)a.forEach(c,d);else if(b(a))for(e=
0;e<a.length;e++)c.call(d,a[e],e);else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e);return a}function a(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(b,c,d){for(var e=a(b),g=0;g<e.length;g++)c.call(d,b[e[g]],e[g]);return e}function h(a){return function(b,c){a(c,b)}}function p(){for(var a=Ha.length,b;a;){a--;b=Ha[a].charCodeAt(0);if(57==b)return Ha[a]="A",Ha.join("");if(90==b)Ha[a]="0";else return Ha[a]=String.fromCharCode(b+1),Ha.join("")}Ha.unshift("0");return Ha.join("")}
function n(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function m(a){var b=a.$$hashKey;k(arguments,function(b){b!==a&&k(b,function(b,c){a[c]=b})});n(a,b);return a}function l(a){return parseInt(a,10)}function t(a,b){return m(new (m(function(){},{prototype:a})),b)}function u(){}function v(a){return a}function x(a){return function(){return a}}function A(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function K(a){return null!=a&&"object"==typeof a}function F(a){return"string"==
typeof a}function H(a){return"number"==typeof a}function y(a){return"[object Date]"==Zb.apply(a)}function I(a){return"[object Array]"==Zb.apply(a)}function M(a){return"function"==typeof a}function J(a){return"[object RegExp]"==Zb.apply(a)}function w(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function S(a){return a&&(a.nodeName||a.on&&a.find)}function C(a,b,c){var d=[];k(a,function(a,e,g){d.push(b.call(c,a,e,g))});return d}function B(a,b){if(a.indexOf)return a.indexOf(b);for(var c=
0;c<a.length;c++)if(b===a[c])return c;return-1}function N(a,b){var c=B(a,b);0<=c&&a.splice(c,1);return b}function D(a,b){if(w(a)||a&&a.$evalAsync&&a.$watch)throw Vb("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw Vb("cpi","Can't copy! Source and destination are identical.");if(I(a))for(var c=b.length=0;c<a.length;c++)b.push(D(a[c]));else{c=b.$$hashKey;k(b,function(a,c){delete b[c]});for(var d in a)b[d]=D(a[d]);n(b,c)}}else(b=a)&&(I(a)?b=D(a,
[]):y(a)?b=new Date(a.getTime()):J(a)?b=RegExp(a.source):K(a)&&(b=D(a,{})));return b}function ma(a,b){b=b||{};for(var c in a)a.hasOwnProperty(c)&&"$$"!==c.substr(0,2)&&(b[c]=a[c]);return b}function V(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,e;if(d==typeof b&&"object"==d)if(I(a)){if(!I(b))return!1;if((d=a.length)==b.length){for(e=0;e<d;e++)if(!V(a[e],b[e]))return!1;return!0}}else{if(y(a))return y(b)&&a.getTime()==b.getTime();if(J(a)&&J(b))return a.toString()==
b.toString();if(a&&a.$evalAsync&&a.$watch||b&&b.$evalAsync&&b.$watch||w(a)||w(b)||I(b))return!1;d={};for(e in a)if(!("$"===e.charAt(0)||M(a[e]))){if(!V(a[e],b[e]))return!1;d[e]=!0}for(e in b)if(!d.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!M(b[e]))return!1;return!0}return!1}function Y(){return q.securityPolicy&&q.securityPolicy.isActive||q.querySelector&&!(!q.querySelector("[ng-csp]")&&!q.querySelector("[data-ng-csp]"))}function L(a,b){var c=2<arguments.length?Eb.call(arguments,2):[];return M(b)&&
!(b instanceof RegExp)?c.length?function(){return arguments.length?b.apply(a,c.concat(Eb.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}:b}function O(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)?d=c:w(b)?d="$WINDOW":b&&q===b?d="$DOCUMENT":b&&(b.$evalAsync&&b.$watch)&&(d="$SCOPE");return d}function R(a,b){return"undefined"===typeof a?c:JSON.stringify(a,O,b?"  ":null)}function X(a){return F(a)?JSON.parse(a):a}function P(a){a&&0!==a.length?
(a=Aa(""+a),a=!("f"==a||"0"==a||"false"==a||"no"==a||"n"==a||"[]"==a)):a=!1;return a}function ha(a){a=da(a).clone();try{a.html("")}catch(b){}var c=da("<div>").append(a).html();try{return 3===a[0].nodeType?Aa(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Aa(b)})}catch(d){return Aa(c)}}function pa(a){try{return decodeURIComponent(a)}catch(b){}}function wa(a){var b={},c,d;k((a||"").split("&"),function(a){a&&(c=a.split("="),d=pa(c[0]),s(d)&&(a=s(c[1])?pa(c[1]):!0,b[d]?I(b[d])?
b[d].push(a):b[d]=[b[d],a]:b[d]=a))});return b}function xa(a){var b=[];k(a,function(a,c){I(a)?k(a,function(a){b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))}):b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))});return b.length?b.join("&"):""}function ta(a){return ja(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ja(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function na(a,b){function c(a){a&&
d.push(a)}var d=[a],e,g,f=["ng:app","ng-app","x-ng-app","data-ng-app"],r=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;k(f,function(b){f[b]=!0;c(q.getElementById(b));b=b.replace(":","\\:");a.querySelectorAll&&(k(a.querySelectorAll("."+b),c),k(a.querySelectorAll("."+b+"\\:"),c),k(a.querySelectorAll("["+b+"]"),c))});k(d,function(a){if(!e){var b=r.exec(" "+a.className+" ");b?(e=a,g=(b[2]||"").replace(/\s+/g,",")):k(a.attributes,function(b){!e&&f[b.name]&&(e=a,g=b.value)})}});e&&b(e,g?[g]:[])}function qa(a,b){var c=
function(){a=da(a);if(a.injector()){var c=a[0]===q?"document":ha(a);throw Vb("btstrpd","App Already Bootstrapped with this Element '{0}'",c);}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);b.unshift("ng");c=eb(b);c.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d,e){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_DEFER_BOOTSTRAP!/;if(d&&!e.test(d.name))return c();d.name=d.name.replace(e,"");ic.resumeBootstrap=function(a){k(a,
function(a){b.push(a)});c()}}function oa(a,b){b=b||"_";return a.replace(oc,function(a,c){return(c?b:"")+a.toLowerCase()})}function ra(a,b,c){if(!a)throw Vb("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function r(a,b,c){c&&I(a)&&(a=a[a.length-1]);ra(M(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a));return a}function z(a,b){if("hasOwnProperty"===a)throw Vb("badname","hasOwnProperty is not a valid {0} name",b);}function g(a,b,c){if(!b)return a;
b=b.split(".");for(var d,e=a,g=b.length,f=0;f<g;f++)d=b[f],a&&(a=(e=a)[d]);return!c&&M(a)?L(e,a):a}function E(a){if(a.startNode===a.endNode)return da(a.startNode);var b=a.startNode,c=[b];do{b=b.nextSibling;if(!b)break;c.push(b)}while(b!==a.endNode);return da(c)}function G(a){function b(a,c,d){return a[c]||(a[c]=d())}var c=f("$injector"),d=f("ng");return b(b(a,"angular",Object),"module",function(){var a={};return function(e,g,f){if("hasOwnProperty"===e)throw d("badname","hasOwnProperty is not a valid {0} name",
"module");g&&a.hasOwnProperty(e)&&(a[e]=null);return b(a,e,function(){function a(c,d,e){return function(){b[e||"push"]([c,d,arguments]);return h}}if(!g)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var b=[],d=[],r=a("$injector","invoke"),h={_invokeQueue:b,_runBlocks:d,requires:g,name:e,provider:a("$provide","provider"),factory:a("$provide","factory"),
service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:r,run:function(a){d.push(a);return this}};f&&r(f);return h})}})}function aa(a){return a.replace(wc,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Ea,"Moz$1")}function ea(a,b,c,d){function e(a){var f=c&&a?[this.filter(a)]:
[this],r=b,h,l,k,z,p,m;if(!d||null!=a)for(;f.length;){h=f.shift();l=0;for(k=h.length;l<k;l++){z=da(h[l]);r?z.triggerHandler("$destroy"):r=!r;p=0;for(z=(m=z.children()).length;p<z;p++)f.push(Db(m[p]))}}return g.apply(this,arguments)}var g=Db.fn[a],g=g.$original||g;e.$original=g;Db.fn[a]=e}function ca(a){if(a instanceof ca)return a;if(!(this instanceof ca)){if(F(a)&&"<"!=a.charAt(0))throw Gb("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");
return new ca(a)}if(F(a)){var b=q.createElement("div");b.innerHTML="<div>&#160;</div>"+a;b.removeChild(b.firstChild);U(this,b.childNodes);da(q.createDocumentFragment()).append(this)}else U(this,a)}function Ta(a){return a.cloneNode(!0)}function ia(a){Fa(a);var b=0;for(a=a.childNodes||[];b<a.length;b++)ia(a[b])}function Q(a,b,c,d){if(s(d))throw Gb("offargs","jqLite#off() does not support the `selector` argument");var e=ba(a,"events");ba(a,"handle")&&(A(b)?k(e,function(b,c){ac(a,c,b);delete e[c]}):k(b.split(" "),
function(b){A(c)?(ac(a,b,e[b]),delete e[b]):N(e[b]||[],c)}))}function Fa(a,b){var d=a[dc],e=Jb[d];e&&(b?delete Jb[d].data[b]:(e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Q(a)),delete Jb[d],a[dc]=c))}function ba(a,b,c){var d=a[dc],d=Jb[d||-1];if(s(c))d||(a[dc]=d=++uc,d=Jb[d]={}),d[b]=c;else return d&&d[b]}function T(a,b,c){var d=ba(a,"data"),e=s(c),g=!e&&s(b),f=g&&!K(b);!d&&!f&&ba(a,"data",d={});if(e)d[b]=c;else if(g){if(f)return d&&d[b];m(d,b)}else return d}function Ba(a,b){return!a.getAttribute?
!1:-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Da(a,b){b&&a.setAttribute&&k(b.split(" "),function(b){a.setAttribute("class",Ya((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ya(b)+" "," ")))})}function W(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");k(b.split(" "),function(a){a=Ya(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});a.setAttribute("class",Ya(c))}}function U(a,b){if(b){b=
!b.nodeName&&s(b.length)&&!w(b)?b:[b];for(var c=0;c<b.length;c++)a.push(b[c])}}function sb(a,b){return Ga(a,"$"+(b||"ngController")+"Controller")}function Ga(a,b,d){a=da(a);9==a[0].nodeType&&(a=a.find("html"));for(b=I(b)?b:[b];a.length;){for(var e=0,g=b.length;e<g;e++)if((d=a.data(b[e]))!==c)return d;a=a.parent()}}function Pa(a,b){var c=jc[b.toLowerCase()];return c&&yc[a.nodeName]&&c}function gb(a,b){var c=function(c,d){c.preventDefault||(c.preventDefault=function(){c.returnValue=!1});c.stopPropagation||
(c.stopPropagation=function(){c.cancelBubble=!0});c.target||(c.target=c.srcElement||q);if(A(c.defaultPrevented)){var e=c.preventDefault;c.preventDefault=function(){c.defaultPrevented=!0;e.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};k(b[d||c.type],function(b){b.call(a,c)});8>=La?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=
a;return c}function Na(a){var b=typeof a,d;"object"==b&&null!==a?"function"==typeof(d=a.$$hashKey)?d=a.$$hashKey():d===c&&(d=a.$$hashKey=p()):d=a;return b+":"+d}function db(a){k(a,this.put,this)}function hb(a){var b,c;if("function"==typeof a){if(!(b=a.$inject))b=[],a.length&&(c=a.toString().replace(Zc,""),c=c.match(zc),k(c[1].split(Ac),function(a){a.replace(Xc,function(a,c,d){b.push(d)})})),a.$inject=b}else I(a)?(c=a.length-1,r(a[c],"fn"),b=a.slice(0,c)):r(a,"fn",!0);return b}function eb(a){function b(a){return function(b,
c){if(K(b))k(b,h(a));else return a(b,c)}}function c(a,b){z(a,"service");if(M(b)||I(b))b=E.instantiate(b);if(!b.$get)throw sc("pget","Provider '{0}' must define $get factory method.",a);return n[a+l]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[],c,d,g,f;k(a,function(a){if(!m.get(a)){m.put(a,!0);try{if(F(a)){c=Wb(a);b=b.concat(e(c.requires)).concat(c._runBlocks);d=c._invokeQueue;g=0;for(f=d.length;g<f;g++){var h=d[g],l=E.get(h[0]);l[h[1]].apply(l,h[2])}}else M(a)?b.push(E.invoke(a)):
I(a)?b.push(E.invoke(a)):r(a,"module")}catch(k){throw I(a)&&(a=a[a.length-1]),k.message&&(k.stack&&-1==k.stack.indexOf(k.message))&&(k=k.message+"\n"+k.stack),sc("modulerr","Failed to instantiate module {0} due to:\n{1}",a,k.stack||k.message||k);}}});return b}function g(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===f)throw sc("cdep","Circular dependency found: {0}",p.join(" <- "));return a[d]}try{return p.unshift(d),a[d]=f,a[d]=b(d)}finally{p.shift()}}function d(a,b,e){var g=[],f=hb(a),r,h,
l;h=0;for(r=f.length;h<r;h++){l=f[h];if("string"!==typeof l)throw sc("itkn","Incorrect injection token! Expected service name as string, got {0}",l);g.push(e&&e.hasOwnProperty(l)?e[l]:c(l))}a.$inject||(a=a[r]);switch(b?-1:g.length){case 0:return a();case 1:return a(g[0]);case 2:return a(g[0],g[1]);case 3:return a(g[0],g[1],g[2]);case 4:return a(g[0],g[1],g[2],g[3]);case 5:return a(g[0],g[1],g[2],g[3],g[4]);case 6:return a(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return a(g[0],g[1],g[2],g[3],g[4],g[5],
g[6]);case 8:return a(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7]);case 9:return a(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8]);case 10:return a(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9]);default:return a.apply(b,g)}}return{invoke:d,instantiate:function(a,b){var c=function(){},e;c.prototype=(I(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return K(e)||M(e)?e:c},get:c,annotate:hb,has:function(b){return n.hasOwnProperty(b+l)||a.hasOwnProperty(b)}}}var f={},l="Provider",p=[],m=new db,n={$provide:{provider:b(c),
factory:b(d),service:b(function(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}),value:b(function(a,b){return d(a,x(b))}),constant:b(function(a,b){z(a,"constant");n[a]=b;y[a]=b}),decorator:function(a,b){var c=E.get(a+l),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}}},E=n.$injector=g(n,function(){throw sc("unpr","Unknown provider: {0}",p.join(" <- "));}),y={},C=y.$injector=g(y,function(a){a=E.get(a+l);return C.invoke(a.$get,a)});k(e(a),
function(a){C.invoke(a||u)});return C}function ob(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;k(a,function(a){!b&&"a"===Aa(a.nodeName)&&(b=a)});return b}function g(){var a=c.hash(),d;a?(d=f.getElementById(a))?d.scrollIntoView():(d=e(f.getElementsByName(a)))?d.scrollIntoView():"top"===a&&b.scrollTo(0,0):b.scrollTo(0,0)}var f=b.document;a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)});
return g}]}function ib(a,b,d,e){function g(a){try{a.apply(null,Eb.call(arguments,1))}finally{if(y--,0===y)for(;C.length;)try{C.pop()()}catch(b){d.error(b)}}}function f(a,b){(function Cd(){k(w,function(a){a()});t=b(Cd,a)})()}function r(){v=null;B!=h.url()&&(B=h.url(),k(W,function(a){a(h.url())}))}var h=this,l=b[0],z=a.location,p=a.history,m=a.setTimeout,n=a.clearTimeout,E={};h.isMock=!1;var y=0,C=[];h.$$completeOutstandingRequest=g;h.$$incOutstandingRequestCount=function(){y++};h.notifyWhenNoOutstandingRequests=
function(a){k(w,function(a){a()});0===y?a():C.push(a)};var w=[],t;h.addPollFn=function(a){A(t)&&f(100,m);w.push(a);return a};var B=z.href,G=b.find("base"),v=null;h.url=function(b,c){z!==a.location&&(z=a.location);if(b){if(B!=b)return B=b,e.history?c?p.replaceState(null,"",b):(p.pushState(null,"",b),G.attr("href",G.attr("href"))):(v=b,c?z.replace(b):z.href=b),h}else return v||z.href.replace(/%27/g,"'")};var W=[],U=!1;h.onUrlChange=function(b){if(!U){if(e.history)da(a).on("popstate",r);if(e.hashchange)da(a).on("hashchange",
r);else h.addPollFn(r);U=!0}W.push(b);return b};h.baseHref=function(){var a=G.attr("href");return a?a.replace(/^https?\:\/\/[^\/]*/,""):""};var s={},I="",N=h.baseHref();h.cookies=function(a,b){var e,g,f,r;if(a)b===c?l.cookie=escape(a)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":F(b)&&(e=(l.cookie=escape(a)+"="+escape(b)+";path="+N).length+1,4096<e&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"));else{if(l.cookie!==I){I=l.cookie;e=I.split("; ");
s={};for(f=0;f<e.length;f++)g=e[f],r=g.indexOf("="),0<r&&(a=unescape(g.substring(0,r)),s[a]===c&&(s[a]=unescape(g.substring(r+1))))}return s}};h.defer=function(a,b){var c;y++;c=m(function(){delete E[c];g(a)},b||0);E[c]=!0;return c};h.defer.cancel=function(a){return E[a]?(delete E[a],n(a),g(u),!0):!1}}function fb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new ib(a,d,b,c)}]}function Ia(){this.$get=function(){function a(c,d){function e(a){a!=p&&(n?n==a&&(n=a.n):n=a,
g(a.n,a.p),g(a,p),p=a,p.n=null)}function g(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(c in b)throw f("$cacheFactory")("iid","CacheId '{0}' is already taken!",c);var r=0,h=m({},d,{id:c}),l={},k=d&&d.capacity||Number.MAX_VALUE,z={},p=null,n=null;return b[c]={put:function(a,b){var c=z[a]||(z[a]={key:a});e(c);if(!A(b))return a in l||r++,l[a]=b,r>k&&this.remove(n.key),b},get:function(a){var b=z[a];if(b)return e(b),l[a]},remove:function(a){var b=z[a];b&&(b==p&&(p=b.p),b==n&&(n=b.n),g(b.n,b.p),delete z[a],delete l[a],
r--)},removeAll:function(){l={};r=0;z={};p=n=null},destroy:function(){z=h=l=null;delete b[c]},info:function(){return m({},h,{size:r})}}}var b={};a.info=function(){var a={};k(b,function(b,c){a[c]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Qa(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Kb(a){var b={},d="Directive",e=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,g=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,f=/^\s*(https?|ftp|mailto|tel|file):/,r=/^\s*(https?|ftp|file):|data:image\//,
l=/^(on[a-z]+|formaction)$/;this.directive=function Bd(c,e){z(c,"directive");F(c)?(ra(e,"directiveFactory"),b.hasOwnProperty(c)||(b[c]=[],a.factory(c+d,["$injector","$exceptionHandler",function(a,d){var e=[];k(b[c],function(b,g){try{var f=a.invoke(b);M(f)?f={compile:x(f)}:!f.compile&&f.link&&(f.compile=x(f.link));f.priority=f.priority||0;f.index=g;f.name=f.name||c;f.require=f.require||f.controller&&f.name;f.restrict=f.restrict||"A";e.push(f)}catch(r){d(r)}});return e}])),b[c].push(e)):k(c,h(Bd));
return this};this.aHrefSanitizationWhitelist=function(a){return s(a)?(f=a,this):f};this.imgSrcSanitizationWhitelist=function(a){return s(a)?(r=a,this):r};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate",function(a,h,z,p,n,E,y,C,w,B,G){function W(a,b,c,d,e){a instanceof da||(a=da(a));k(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=da(b).wrap("<span></span>").parent()[0])});var g=u(a,
b,a,c,d,e);return function(b,c,d){ra(b,"scope");var e=c?Fb.clone.call(a):a;k(d,function(a,b){e.data("$"+b+"Controller",a)});d=0;for(var f=e.length;d<f;d++){var r=e[d];(1==r.nodeType||9==r.nodeType)&&e.eq(d).data("$scope",b)}U(e,"ng-scope");c&&c(e,b);g&&g(b,e,e);return e}}function U(a,b){try{a.addClass(b)}catch(c){}}function u(a,b,d,e,g,f){function r(a,d,e,g){var f,l,k,z,p,m,n,E=[];p=0;for(m=d.length;p<m;p++)E.push(d[p]);n=p=0;for(m=h.length;p<m;n++)l=E[n],d=h[p++],f=h[p++],k=da(l),d?(d.scope?(z=a.$new(),
k.data("$scope",z),U(k,"ng-scope")):z=a,(k=d.transclude)||!g&&b?d(f,z,l,e,s(a,k||b)):d(f,z,l,c,g)):f&&f(a,l.childNodes,c,g)}for(var h=[],l,k,z,p=0;p<a.length;p++)k=new Ga,l=N(a[p],[],k,0===p?e:c,g),l=(f=l.length?ea(l,a[p],k,b,d,null,[],[],f):null)&&f.terminal||!a[p].childNodes||!a[p].childNodes.length?null:u(a[p].childNodes,f?f.transclude:b),h.push(f),h.push(l),z=z||f||l,f=null;return z?r:null}function s(a,b){return function(c,d,e){var g=!1;c||(c=a.$new(),g=c.$$transcluded=!0);d=b(c,d,e);if(g)d.on("$destroy",
L(c,c.$destroy));return d}}function N(a,b,c,d,f){var r=c.$attr,h;switch(a.nodeType){case 1:aa(b,Ra(Nb(a).toLowerCase()),"E",d,f);var l,k,z;h=a.attributes;for(var p=0,m=h&&h.length;p<m;p++){var n=!1,E=!1;l=h[p];if(!La||8<=La||l.specified){k=l.name;z=Ra(k);T.test(z)&&(k=oa(z.substr(6),"-"));var y=z.replace(/(Start|End)$/,"");z===y+"Start"&&(n=k,E=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));z=Ra(k.toLowerCase());r[z]=k;c[z]=l=Ya(La&&"href"==k?decodeURIComponent(a.getAttribute(k,2)):l.value);
Pa(a,z)&&(c[z]=!0);Wa(a,b,l,z);aa(b,z,"A",d,f,n,E)}}a=a.className;if(F(a)&&""!==a)for(;h=g.exec(a);)z=Ra(h[2]),aa(b,z,"C",d,f)&&(c[z]=Ya(h[3])),a=a.substr(h.index+h[0].length);break;case 3:A(b,a.nodeValue);break;case 8:try{if(h=e.exec(a.nodeValue))z=Ra(h[1]),aa(b,z,"M",d,f)&&(c[z]=Ya(h[2]))}catch(C){}}b.sort(Q);return b}function D(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Cb("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&
(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return da(d)}function ya(a,b,c){return function(d,e,g,f,r){e=D(e[0],b,c);return a(d,e,g,f,r)}}function ea(a,b,d,e,g,f,r,l,p){function m(a,b,c,d){if(a){c&&(a=ya(a,c,d));a.require=Z.require;if(G===Z||Z.$$isolateScope)a=H(a,{isolateScope:!0});r.push(a)}if(b){c&&(b=ya(b,c,d));b.require=Z.require;if(G===Z||Z.$$isolateScope)b=H(b,{isolateScope:!0});l.push(b)}}function n(a,b,c){var d,e="data",g=!1;if(F(a)){for(;"^"==
(d=a.charAt(0))||"?"==d;)a=a.substr(1),"^"==d&&(e="inheritedData"),g=g||"?"==d;d=null;c&&"data"===e&&(d=c[a]);d=d||b[e]("$"+a+"Controller");if(!d&&!g)throw Cb("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,x);}else I(a)&&(d=[],k(a,function(a){d.push(n(a,b,c))}));return d}function C(a,e,g,f,p){function m(a,b){var d;2>arguments.length&&(b=a,a=c);u&&(d=I);return p(a,b,d)}var w,t,W,lb,s,Z,I={},N;w=b===g?d:ma(d,new Ga(da(g),d.$attr));t=w.$$element;if(G){var D=/^\s*([@=&])(\??)\s*(\w*)\s*$/;
f=da(g);Z=e.$new(!0);v&&v===G.$$originalDirective?f.data("$isolateScope",Z):f.data("$isolateScopeNoTemplate",Z);U(f,"ng-isolate-scope");k(G.scope,function(a,b){var c=a.match(D)||[],d=c[3]||b,g="?"==c[2],c=c[1],f,r,l;Z.$$isolateBindings[b]=c+d;switch(c){case "@":w.$observe(d,function(a){Z[b]=a});w.$$observers[d].$$scope=e;w[d]&&(Z[b]=h(w[d])(e));break;case "=":if(g&&!w[d])break;r=E(w[d]);l=r.assign||function(){f=Z[b]=r(e);throw Cb("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",
w[d],G.name);};f=Z[b]=r(e);Z.$watch(function(){var a=r(e);a!==Z[b]&&(a!==f?f=Z[b]=a:l(e,a=f=Z[b]));return a});break;case "&":r=E(w[d]);Z[b]=function(a){return r(e,a)};break;default:throw Cb("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",G.name,b,a);}})}N=p&&m;B&&k(B,function(a){var b={$scope:a===G||a.$$isolateScope?Z:e,$element:t,$attrs:w,$transclude:N},c;s=a.controller;"@"==s&&(s=w[a.name]);c=y(s,b);I[a.name]=c;u||t.data("$"+a.name+"Controller",c);
a.controllerAs&&(b.$scope[a.controllerAs]=c)});f=0;for(W=r.length;f<W;f++)try{lb=r[f],lb(lb.isolateScope?Z:e,t,w,lb.require&&n(lb.require,t,I),N)}catch(x){z(x,ha(t))}f=e;if(G&&(G.template||null===G.templateUrl))f=Z;a&&a(f,g.childNodes,c,p);for(f=l.length-1;0<=f;f--)try{lb=l[f],lb(lb.isolateScope?Z:e,t,w,lb.require&&n(lb.require,t,I),N)}catch(Ka){z(Ka,ha(t))}}p=p||{};var w=-Number.MAX_VALUE,t,B=p.controllerDirectives,G=p.newIsolateScopeDirective,v=p.templateDirective;p=p.nonTlbTranscludeDirective;
for(var lb=!1,u=!1,s=d.$$element=da(b),Z,x,Ka,Cc=e,aa,Q=0,A=a.length;Q<A;Q++){Z=a[Q];var ca=Z.$$start,Wa=Z.$$end;ca&&(s=D(b,ca,Wa));Ka=c;if(w>Z.priority)break;if(Ka=Z.scope)t=t||Z,Z.templateUrl||(Bc("new/isolated scope",G,Z,s),K(Ka)&&(G=Z));x=Z.name;!Z.templateUrl&&Z.controller&&(Ka=Z.controller,B=B||{},Bc("'"+x+"' controller",B[x],Z,s),B[x]=Z);if(Ka=Z.transclude)lb=!0,Z.$$tlb||(Bc("transclusion",p,Z,s),p=Z),"element"==Ka?(u=!0,w=Z.priority,Ka=D(b,ca,Wa),s=d.$$element=da(q.createComment(" "+x+": "+
d[x]+" ")),b=s[0],Va(g,da(Eb.call(Ka,0)),b),Cc=W(Ka,e,w,f&&f.name,{nonTlbTranscludeDirective:p})):(Ka=da(Ta(b)).contents(),s.html(""),Cc=W(Ka,e));if(Z.template)if(Bc("template",v,Z,s),v=Z,Ka=M(Z.template)?Z.template(s,d):Z.template,Ka=Ca(Ka),Z.replace){f=Z;Ka=da("<div>"+Ya(Ka)+"</div>").contents();b=Ka[0];if(1!=Ka.length||1!==b.nodeType)throw Cb("tplrt","Template for directive '{0}' must have exactly one root element. {1}",x,"");Va(g,s,b);A={$attr:{}};Ka=N(b,[],A);var Ad=a.splice(Q+1,a.length-(Q+
1));G&&S(Ka);a=a.concat(Ka).concat(Ad);J(d,A);A=a.length}else s.html(Ka);if(Z.templateUrl)Bc("template",v,Z,s),v=Z,Z.replace&&(f=Z),C=sb(a.splice(Q,a.length-Q),s,d,g,Cc,r,l,{controllerDirectives:B,newIsolateScopeDirective:G,templateDirective:v,nonTlbTranscludeDirective:p}),A=a.length;else if(Z.compile)try{aa=Z.compile(s,d,Cc),M(aa)?m(null,aa,ca,Wa):aa&&m(aa.pre,aa.post,ca,Wa)}catch(ia){z(ia,ha(s))}Z.terminal&&(C.terminal=!0,w=Math.max(w,Z.priority))}C.scope=t&&!0===t.scope;C.transclude=lb&&Cc;return C}
function S(a){for(var b=0,c=a.length;b<c;b++)a[b]=t(a[b],{$$isolateScope:!0})}function aa(e,g,f,r,h,l,k){if(g===h)return null;h=null;if(b.hasOwnProperty(g)){var p;g=a.get(g+d);for(var m=0,n=g.length;m<n;m++)try{if(p=g[m],(r===c||r>p.priority)&&-1!=p.restrict.indexOf(f))l&&(p=t(p,{$$start:l,$$end:k})),e.push(p),h=p}catch(E){z(E)}}return h}function J(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;k(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});k(b,function(b,
g){"class"==g?(U(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==g?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"!=g.charAt(0)&&!a.hasOwnProperty(g)&&(a[g]=b,d[g]=c[g])})}function sb(a,b,c,d,e,g,f,r){var h=[],l,z,E=b[0],y=a.shift(),C=m({},y,{templateUrl:null,transclude:null,replace:null,$$originalDirective:y}),w=M(y.templateUrl)?y.templateUrl(b,c):y.templateUrl;b.html("");p.get(B.getTrustedResourceUrl(w),{cache:n}).success(function(p){var m,n;p=Ca(p);if(y.replace){p=
da("<div>"+Ya(p)+"</div>").contents();m=p[0];if(1!=p.length||1!==m.nodeType)throw Cb("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y.name,w);p={$attr:{}};Va(d,b,m);var t=N(m,[],p);K(y.scope)&&S(t);a=t.concat(a);J(c,p)}else m=E,b.html(p);a.unshift(C);l=ea(a,m,c,e,b,y,g,f,r);k(d,function(a,c){a==m&&(d[c]=b[0])});for(z=u(b[0].childNodes,e);h.length;){p=h.shift();n=h.shift();var B=h.shift(),G=h.shift(),t=b[0];n!==E&&(t=Ta(m),Va(B,da(n),t));n=l.transclude?s(p,l.transclude):
G;l(z,p,t,d,n)}h=null}).error(function(a,b,c,d){throw Cb("tpload","Failed to load template: {0}",d.url);});return function(a,b,c,d,e){h?(h.push(b),h.push(c),h.push(d),h.push(e)):l(z,b,c,d,e)}}function Q(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Bc(a,b,c,d){if(b)throw Cb("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,ha(d));}function A(a,b){var c=h(b,!0);c&&a.push({priority:0,compile:x(function(a,
b){var d=b.parent(),e=d.data("$binding")||[];e.push(c);U(d.data("$binding",e),"ng-binding");a.$watch(c,function(a){b[0].nodeValue=a})})})}function ca(a,b){if("xlinkHref"==b||"IMG"!=Nb(a)&&("src"==b||"ngSrc"==b))return B.RESOURCE_URL}function Wa(a,b,c,d){var e=h(c,!0);if(e){if("multiple"===d&&"SELECT"===Nb(a))throw Cb("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ha(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){c=g.$$observers||(g.$$observers=
{});if(l.test(d))throw Cb("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");if(e=h(g[d],!0,ca(a,d)))g[d]=e(b),(c[d]||(c[d]=[])).$$inter=!0,(g.$$observers&&g.$$observers[d].$$scope||b).$watch(e,function(a){g.$set(d,a)})}}}})}}function Va(a,b,c){var d=b[0],e=b.length,g=d.parentNode,f,r;if(a){f=0;for(r=a.length;f<r;f++)if(a[f]==d){a[f++]=c;r=f+e-1;for(var h=a.length;f<h;f++,r++)r<h?a[f]=a[r]:delete a[f];
a.length-=e-1;break}}g&&g.replaceChild(c,d);a=q.createDocumentFragment();a.appendChild(d);c[da.expando]=d[da.expando];d=1;for(e=b.length;d<e;d++)g=b[d],da(g).remove(),a.appendChild(g),delete b[d];b[0]=c;b.length=1}function H(a,b){return m(function(){return a.apply(null,arguments)},a,b)}var Ga=function(a,b){this.$$element=a;this.$attr=b||{}};Ga.prototype={$normalize:Ra,$addClass:function(a){a&&0<a.length&&G.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&G.removeClass(this.$$element,
a)},$set:function(a,b,d,e){function g(a,b){var c=[],d=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var r=d[f],h=0;h<e.length;h++)if(r==e[h])continue a;c.push(r)}return c}if("class"==a)b=b||"",d=this.$$element.attr("class")||"",this.$removeClass(g(d,b).join(" ")),this.$addClass(g(b,d).join(" "));else{var h=Pa(this.$$element[0],a);h&&(this.$$element.prop(a,b),e=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=oa(a,"-"));h=Nb(this.$$element);if("A"===h&&"href"===a||
"IMG"===h&&"src"===a)if(!La||8<=La)if(h=xb(b).href,""!==h&&("href"===a&&!h.match(f)||"src"===a&&!h.match(r)))this[a]=b="unsafe:"+h;!1!==d&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b))}(d=this.$$observers)&&k(d[a],function(a){try{a(b)}catch(c){z(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);C.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var ia=h.startSymbol(),ba=h.endSymbol(),Ca="{{"==ia||"}}"==ba?v:function(a){return a.replace(/\{\{/g,
ia).replace(/}}/g,ba)},T=/^ngAttr[A-Z]/;return W}]}function Ra(a){return aa(a.replace(ad,""))}function jb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){z(b,"controller");K(b)?m(a,b):a[b]=c};this.$get=["$injector","$window",function(c,d){return function(e,h){var l,k,p;F(e)&&(l=e.match(b),k=l[1],p=l[3],e=a.hasOwnProperty(k)?a[k]:g(h.$scope,k,!0)||g(d,k,!0),r(e,k,!0));l=c.instantiate(e,h);if(p){if(!(h&&"object"==typeof h.$scope))throw f("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",
k||e.name,p);h.$scope[p]=l}return l}}]}function ya(){this.$get=["$window",function(a){return da(a.document)}]}function Wa(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function Va(a){var b={},c,d,e;if(!a)return b;k(a.split("\n"),function(a){e=a.indexOf(":");c=Aa(Ya(a.substr(0,e)));d=Ya(a.substr(e+1));c&&(b[c]=b[c]?b[c]+(", "+d):d)});return b}function Ca(a){var b=K(a)?a:c;return function(c){b||(b=Va(a));return c?b[Aa(c)]||null:b}}function tb(a,b,c){if(M(c))return c(a,
b);k(c,function(c){a=c(a,b)});return a}function Oa(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,g={"Content-Type":"application/json;charset=utf-8"},f=this.defaults={transformResponse:[function(c){F(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=X(c)));return c}],transformRequest:[function(a){return K(a)&&"[object File]"!==Zb.apply(a)?R(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:g,put:g,patch:g},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},
r=this.interceptors=[],h=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,g,l,p){function z(a){function d(a){var b=m({},a,{data:tb(a.data,a.headers,e.transformResponse)});return 200<=a.status&&300>a.status?b:l.reject(b)}var e={transformRequest:f.transformRequest,transformResponse:f.transformResponse},g=function(a){function b(a){var c;k(a,function(b,d){M(b)&&(c=b(),null!=c?a[d]=c:delete a[d])})}var c=f.headers,d=m({},a.headers),
e,g,c=m({},c.common,c[Aa(a.method)]);b(c);b(d);a:for(e in c){a=Aa(e);for(g in d)if(Aa(g)===a)continue a;d[e]=c[e]}return d}(a);m(e,a);e.headers=g;e.method=rb(e.method);(a=Ma(e.url)?b.cookies()[e.xsrfCookieName||f.xsrfCookieName]:c)&&(g[e.xsrfHeaderName||f.xsrfHeaderName]=a);var r=[function(a){g=a.headers;var b=tb(a.data,Ca(g),a.transformRequest);A(a.data)&&k(g,function(a,b){"content-type"===Aa(b)&&delete g[b]});A(a.withCredentials)&&!A(f.withCredentials)&&(a.withCredentials=f.withCredentials);return n(a,
b,g).then(d,d)},c],h=l.when(e);for(k(C,function(a){(a.request||a.requestError)&&r.unshift(a.request,a.requestError);(a.response||a.responseError)&&r.push(a.response,a.responseError)});r.length;){a=r.shift();var p=r.shift(),h=h.then(a,p)}h.success=function(a){h.then(function(b){a(b.data,b.status,b.headers,e)});return h};h.error=function(a){h.then(null,function(b){a(b.data,b.status,b.headers,e)});return h};return h}function n(b,c,d){function e(a,b,c){m&&(200<=a&&300>a?m.put(w,[a,b,Va(c)]):m.remove(w));
r(b,a,c);g.$$phase||g.$apply()}function r(a,c,d){c=Math.max(c,0);(200<=c&&300>c?k.resolve:k.reject)({data:a,status:c,headers:Ca(d),config:b})}function h(){var a=B(z.pendingRequests,b);-1!==a&&z.pendingRequests.splice(a,1)}var k=l.defer(),p=k.promise,m,C,w=E(b.url,b.params);z.pendingRequests.push(b);p.then(h,h);if((b.cache||f.cache)&&!1!==b.cache&&"GET"==b.method)m=K(b.cache)?b.cache:K(f.cache)?f.cache:y;if(m)if(C=m.get(w),s(C)){if(C.then)return C.then(h,h),C;I(C)?r(C[1],C[0],D(C[2])):r(C,200,{})}else m.put(w,
p);A(C)&&a(b.method,w,c,e,d,b.timeout,b.withCredentials,b.responseType);return p}function E(a,b){if(!b)return a;var c=[];e(b,function(a,b){null===a||A(a)||(I(a)||(a=[a]),k(a,function(a){K(a)&&(a=R(a));c.push(ja(b)+"="+ja(a))}))});return a+(-1==a.indexOf("?")?"?":"&")+c.join("&")}var y=d("$http"),C=[];k(r,function(a){C.unshift(F(a)?p.get(a):p.invoke(a))});k(h,function(a,b){var c=F(a)?p.get(a):p.invoke(a);C.splice(b,0,{response:function(a){return c(l.when(a))},responseError:function(a){return c(l.reject(a))}})});
z.pendingRequests=[];(function(a){k(arguments,function(a){z[a]=function(b,c){return z(m(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){k(arguments,function(a){z[a]=function(b,c,d){return z(m(d||{},{method:a,url:b,data:c}))}})})("post","put");z.defaults=f;return z}]}function ec(){this.$get=["$browser","$window","$document",function(a,b,c){return fc(a,bd,a.defer,b.angular.callbacks,c[0],b.location.protocol.replace(":",""))}]}function fc(a,b,c,d,e,g){function f(a,b){var c=
e.createElement("script"),d=function(){e.body.removeChild(c);b&&b()};c.type="text/javascript";c.src=a;La?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&d()}:c.onload=c.onerror=d;e.body.appendChild(c);return d}return function(e,r,h,l,p,z,m,n){function E(){C=-1;t&&t();B&&B.abort()}function y(b,d,e,f){var h=g||xb(r).protocol;G&&c.cancel(G);t=B=null;d="file"==h?e?200:404:d;b(1223==d?204:d,e,f);a.$$completeOutstandingRequest(u)}var C;a.$$incOutstandingRequestCount();r=r||a.url();
if("jsonp"==Aa(e)){var w="_"+(d.counter++).toString(36);d[w]=function(a){d[w].data=a};var t=f(r.replace("JSON_CALLBACK","angular.callbacks."+w),function(){d[w].data?y(l,200,d[w].data):y(l,C||-2);delete d[w]})}else{var B=new b;B.open(e,r,!0);k(p,function(a,b){s(a)&&B.setRequestHeader(b,a)});B.onreadystatechange=function(){if(4==B.readyState){var a=B.getAllResponseHeaders();y(l,C||B.status,B.responseType?B.response:B.responseText,a)}};m&&(B.withCredentials=!0);n&&(B.responseType=n);B.send(h||null)}if(0<
z)var G=c(E,z);else z&&z.then&&z.then(E)}}function pc(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function g(h,l,k){for(var p,z,m=0,n=[],E=h.length,y=!1,C=[];m<E;)-1!=(p=h.indexOf(a,m))&&-1!=(z=h.indexOf(b,p+f))?(m!=p&&n.push(h.substring(m,p)),n.push(m=c(y=h.substring(p+f,z))),m.exp=y,m=z+r,y=!0):(m!=E&&n.push(h.substring(m)),m=E);if(!(E=n.length))n.push(""),
E=1;if(k&&1<n.length)throw Nc("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",h);if(!l||y)return C.length=E,m=function(a){try{for(var b=0,c=E,g;b<c;b++){if("function"==typeof(g=n[b]))g=g(a),g=k?e.getTrusted(k,g):e.valueOf(g),null===g||A(g)?g="":"string"!=typeof g&&(g=R(g));C[b]=g}return C.join("")}catch(f){a=Nc("interr","Can't interpolate: {0}\n{1}",
h,f.toString()),d(a)}},m.exp=h,m.parts=n,m}var f=a.length,r=b.length;g.startSymbol=function(){return a};g.endSymbol=function(){return b};return g}]}function Sb(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(g,f,r,h){var l=b.setInterval,k=b.clearInterval,p=c.defer(),z=p.promise,m=0,n=s(h)&&!h;r=s(r)?r:0;z.then(null,null,g);z.$$intervalId=l(function(){p.notify(m++);0<r&&m>=r&&(p.resolve(m),k(z.$$intervalId),delete e[z.$$intervalId]);n||a.$apply()},f);e[z.$$intervalId]=p;return z}
var e={};d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1};return d}]}function qc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),
SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function kb(a){a=a.split("/");for(var b=a.length;b--;)a[b]=
ta(a[b]);return a.join("/")}function Tb(a,b,c){a=xb(a,c);b.$$protocol=a.protocol;b.$$host=a.hostname;b.$$port=l(a.port)||dd[a.protocol]||null}function Ub(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);a=xb(a,c);b.$$path=decodeURIComponent(d&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname);b.$$search=wa(a.search);b.$$hash=decodeURIComponent(a.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Xa(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Hb(a){var b=
a.indexOf("#");return-1==b?a:a.substr(0,b)}function gc(a){return a.substr(0,Hb(a).lastIndexOf("/")+1)}function Lb(a,b){this.$$html5=!0;b=b||"";var d=gc(a);Tb(a,this,a);this.$$parse=function(b){var c=Xa(d,b);if(!F(c))throw Jc("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d);Ub(c,this,a);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=xa(this.$$search),b=this.$$hash?"#"+ta(this.$$hash):"";this.$$url=kb(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=d+this.$$url.substr(1)};
this.$$rewrite=function(e){var g;if((g=Xa(a,e))!==c)return e=g,(g=Xa(b,g))!==c?d+(Xa("/",g)||g):a+e;if((g=Xa(d,e))!==c)return d+g;if(d==e+"/")return d}}function Bb(a,b){var c=gc(a);Tb(a,this,a);this.$$parse=function(d){var e=Xa(a,d)||Xa(c,d),e="#"==e.charAt(0)?Xa(b,e):this.$$html5?e:"";if(!F(e))throw Jc("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);Ub(e,this,a);this.$$compose()};this.$$compose=function(){var c=xa(this.$$search),d=this.$$hash?"#"+ta(this.$$hash):"";this.$$url=kb(this.$$path)+
(c?"?"+c:"")+d;this.$$absUrl=a+(this.$$url?b+this.$$url:"")};this.$$rewrite=function(b){if(Hb(a)==Hb(b))return b}}function hc(a,b){this.$$html5=!0;Bb.apply(this,arguments);var c=gc(a);this.$$rewrite=function(d){var e;if(a==Hb(d))return d;if(e=Xa(c,d))return a+b+e;if(c===d+"/")return c}}function vb(a){return function(){return this[a]}}function ub(a,b){return function(c){if(A(c))return this[a];this[a]=b(c);this.$$compose();return this}}function ka(){var a="",b=!1;this.hashPrefix=function(b){return s(b)?
(a=b,this):a};this.html5Mode=function(a){return s(a)?(b=a,this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(c,e,g,f){function r(a){c.$broadcast("$locationChangeSuccess",h.absUrl(),a)}var h,l=e.baseHref(),k=e.url();b?(l=k.substring(0,k.indexOf("/",k.indexOf("//")+2))+(l||"/"),g=g.history?Lb:hc):(l=Hb(k),g=Bb);h=new g(l,"#"+a);h.$$parse(h.$$rewrite(k));f.on("click",function(a){if(!a.ctrlKey&&!(a.metaKey||2==a.which)){for(var b=da(a.target);"a"!==Aa(b[0].nodeName);)if(b[0]===
f[0]||!(b=b.parent())[0])return;var g=b.prop("href"),r=h.$$rewrite(g);g&&(!b.attr("target")&&r&&!a.isDefaultPrevented())&&(a.preventDefault(),r!=e.url()&&(h.$$parse(r),c.$apply(),d.angular["ff-684208-preventDefault"]=!0))}});h.absUrl()!=k&&e.url(h.absUrl(),!0);e.onUrlChange(function(a){h.absUrl()!=a&&(c.$broadcast("$locationChangeStart",a,h.absUrl()).defaultPrevented?e.url(h.absUrl()):(c.$evalAsync(function(){var b=h.absUrl();h.$$parse(a);r(b)}),c.$$phase||c.$digest()))});var p=0;c.$watch(function(){var a=
e.url(),b=h.$$replace;if(!p||a!=h.absUrl())p++,c.$evalAsync(function(){c.$broadcast("$locationChangeStart",h.absUrl(),a).defaultPrevented?h.$$parse(a):(e.url(h.absUrl(),b),r(a))});h.$$replace=!1;return p});return h}]}function la(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a};this.$get=["$window",function(c){function d(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+
":"+a.line));return a}function e(a){var b=c.console||{},g=b[a]||b.log||u;return g.apply?function(){var a=[];k(arguments,function(b){a.push(d(b))});return g.apply(b,a)}:function(a,b){g(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function ua(a,b){if("constructor"===a)throw bc("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',b);return a}
function ga(a,b){if(a&&a.constructor===a)throw bc("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a&&a.document&&a.location&&a.alert&&a.setInterval)throw bc("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a&&(a.nodeName||a.on&&a.find))throw bc("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);return a}function sa(a,b,d,e,g){g=g||{};b=b.split(".");for(var f,r=0;1<b.length;r++){f=
ua(b.shift(),e);var h=a[f];h||(h={},a[f]=h);a=h;a.then&&g.unwrapPromises&&(Qb(e),"$$v"in a||function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}f=ua(b.shift(),e);return a[f]=d}function $a(a,b,d,e,g,f,r){ua(a,f);ua(b,f);ua(d,f);ua(e,f);ua(g,f);return!r.unwrapPromises?function(f,r){var h=r&&r.hasOwnProperty(a)?r:f;if(null===h||h===c)return h;h=h[a];if(!b||null===h||h===c)return h;h=h[b];if(!d||null===h||h===c)return h;h=h[d];if(!e||null===h||h===c)return h;h=h[e];return!g||null===
h||h===c?h:h=h[g]}:function(r,h){var l=h&&h.hasOwnProperty(a)?h:r,k;if(null===l||l===c)return l;if((l=l[a])&&l.then)Qb(f),"$$v"in l||(k=l,k.$$v=c,k.then(function(a){k.$$v=a})),l=l.$$v;if(!b||null===l||l===c)return l;if((l=l[b])&&l.then)Qb(f),"$$v"in l||(k=l,k.$$v=c,k.then(function(a){k.$$v=a})),l=l.$$v;if(!d||null===l||l===c)return l;if((l=l[d])&&l.then)Qb(f),"$$v"in l||(k=l,k.$$v=c,k.then(function(a){k.$$v=a})),l=l.$$v;if(!e||null===l||l===c)return l;if((l=l[e])&&l.then)Qb(f),"$$v"in l||(k=l,k.$$v=
c,k.then(function(a){k.$$v=a})),l=l.$$v;if(!g||null===l||l===c)return l;if((l=l[g])&&l.then)Qb(f),"$$v"in l||(k=l,k.$$v=c,k.then(function(a){k.$$v=a})),l=l.$$v;return l}}function ab(a,b,d){if(Lc.hasOwnProperty(a))return Lc[a];var e=a.split("."),g=e.length,f;if(b.csp)f=6>g?$a(e[0],e[1],e[2],e[3],e[4],d,b):function(a,f){var r=0,h;do h=$a(e[r++],e[r++],e[r++],e[r++],e[r++],d,b)(a,f),f=c,a=h;while(r<g);return h};else{var r="var l, fn, p;\n";k(e,function(a,c){ua(a,d);r+="if(s === null || s === undefined) return s;\nl=s;\ns="+
(c?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+d.replace(/\"/g,'\\"')+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var r=r+"return s;",h=new Function("s","k","pw",r);h.toString=function(){return r};f=function(a,b){return h(a,b,Qb)}}"hasOwnProperty"!==a&&(Lc[a]=f);return f}function fa(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return s(a)?
(b.unwrapPromises=!!a,this):b.unwrapPromises};this.logPromiseWarnings=function(a){return s(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings};this.$get=["$filter","$sniffer","$log",function(c,d,e){b.csp=d.csp;Qb=function(a){b.logPromiseWarnings&&!Oc.hasOwnProperty(a)&&(Oc[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))};return function(d){var e;switch(typeof d){case "string":if(a.hasOwnProperty(d))return a[d];
e=new Kc(b);e=(new vc(e,c,b)).parse(d,!1);"hasOwnProperty"!==d&&(a[d]=e);return e;case "function":return d;default:return u}}}]}function Mb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return pb(function(b){a.$evalAsync(b)},b)}]}function pb(a,b){function d(a){return a}function e(a){return r(a)}var g=function(){var h=[],l,k;return k={resolve:function(b){if(h){var d=h;h=c;l=f(b);d.length&&a(function(){for(var a,b=0,c=d.length;b<c;b++)a=d[b],l.then(a[0],a[1],a[2])})}},reject:function(a){k.resolve(r(a))},
notify:function(b){if(h){var c=h;h.length&&a(function(){for(var a,d=0,e=c.length;d<e;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,f){var r=g(),k=function(c){try{r.resolve((M(a)?a:d)(c))}catch(e){r.reject(e),b(e)}},p=function(a){try{r.resolve((M(c)?c:e)(a))}catch(d){r.reject(d),b(d)}},z=function(a){try{r.notify((M(f)?f:d)(a))}catch(c){b(c)}};h?h.push([k,p,z]):l.then(k,p,z);return r.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,c){var d=g();c?d.resolve(a):
d.reject(a);return d.promise}function c(e,g){var f=null;try{f=(a||d)()}catch(r){return b(r,!1)}return f&&M(f.then)?f.then(function(){return b(e,g)},function(a){return b(a,!1)}):b(e,g)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},f=function(b){return b&&M(b.then)?b:{then:function(c){var d=g();a(function(){d.resolve(c(b))});return d.promise}}},r=function(c){return{then:function(d,f){var r=g();a(function(){try{r.resolve((M(f)?f:e)(c))}catch(a){r.reject(a),b(a)}});return r.promise}}};
return{defer:g,reject:r,when:function(c,h,l,k){var p=g(),z,m=function(a){try{return(M(h)?h:d)(a)}catch(c){return b(c),r(c)}},n=function(a){try{return(M(l)?l:e)(a)}catch(c){return b(c),r(c)}},E=function(a){try{return(M(k)?k:d)(a)}catch(c){b(c)}};a(function(){f(c).then(function(a){z||(z=!0,p.resolve(f(a).then(m,n,E)))},function(a){z||(z=!0,p.resolve(n(a)))},function(a){z||p.notify(E(a))})});return p.promise},all:function(a){var b=g(),c=0,d=I(a)?[]:{};k(a,function(a,e){c++;f(a).then(function(a){d.hasOwnProperty(e)||
(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise}}}function kc(){var a=10,c=f("$rootScope");this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,e,g,f){function h(){this.$id=p();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=
[];this.$$postDigestQueue=[];this.$$listeners={};this.$$isolateBindings={}}function l(a){if(m.$$phase)throw c("inprog","{0} already in progress",m.$$phase);m.$$phase=a}function k(a,b){var c=g(a);r(c,b);return c}function z(){}h.prototype={constructor:h,$new:function(a){a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=p());a["this"]=a;a.$$listeners={};a.$parent=this;a.$$watchers=a.$$nextSibling=
a.$$childHead=a.$$childTail=null;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=this.$$childTail=a;return a},$watch:function(a,b,c){var d=k(a,"watch"),e=this.$$watchers,g={fn:b,last:z,get:d,exp:a,eq:!!c};if(!M(b)){var f=k(b||u,"listener");g.fn=function(a,b,c){f(c)}}if("string"==typeof a&&d.constant){var r=g.fn;g.fn=function(a,b,c){r.call(this,a,b,c);N(e,g)}}e||(e=this.$$watchers=[]);e.unshift(g);return function(){N(e,g)}},$watchCollection:function(a,
c){var d=this,e,f,r=0,h=g(a),l=[],k={},p=0;return this.$watch(function(){f=h(d);var a,c;if(K(f))if(b(f)){e!==l&&(e=l,p=e.length=0,r++);a=f.length;p!==a&&(r++,e.length=p=a);for(c=0;c<a;c++)e[c]!==f[c]&&(r++,e[c]=f[c])}else{e!==k&&(e=k={},p=0,r++);a=0;for(c in f)f.hasOwnProperty(c)&&(a++,e.hasOwnProperty(c)?e[c]!==f[c]&&(r++,e[c]=f[c]):(p++,e[c]=f[c],r++));if(p>a)for(c in r++,e)e.hasOwnProperty(c)&&!f.hasOwnProperty(c)&&(p--,delete e[c])}else e!==f&&(e=f,r++);return r},function(){c(f,e,d)})},$digest:function(){var b,
d,g,f,r=this.$$asyncQueue,h=this.$$postDigestQueue,k,p,n=a,E,y=[],C,w,t;l("$digest");do{p=!1;for(E=this;r.length;)try{t=r.shift(),t.scope.$eval(t.expression)}catch(B){e(B)}do{if(f=E.$$watchers)for(k=f.length;k--;)try{if((b=f[k])&&(d=b.get(E))!==(g=b.last)&&!(b.eq?V(d,g):"number"==typeof d&&"number"==typeof g&&isNaN(d)&&isNaN(g)))p=!0,b.last=b.eq?D(d):d,b.fn(d,g===z?d:g,E),5>n&&(C=4-n,y[C]||(y[C]=[]),w=M(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,w+="; newVal: "+R(d)+"; oldVal: "+R(g),y[C].push(w))}catch(G){e(G)}if(!(f=
E.$$childHead||E!==this&&E.$$nextSibling))for(;E!==this&&!(f=E.$$nextSibling);)E=E.$parent}while(E=f);if(p&&!n--)throw m.$$phase=null,c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,R(y));}while(p||r.length);for(m.$$phase=null;h.length;)try{h.shift()()}catch(v){e(v)}},$destroy:function(){if(!(m==this||this.$$destroyed)){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);
a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a){!m.$$phase&&!m.$$asyncQueue.length&&f.defer(function(){m.$$asyncQueue.length&&m.$digest()});this.$$asyncQueue.push({scope:this,expression:a})},
$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){e(b)}finally{m.$$phase=null;try{m.$digest()}catch(c){throw e(c),c;}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);return function(){c[B(c,b)]=null}},$emit:function(a,b){var c=[],d,g=this,f=!1,r={name:a,targetScope:g,stopPropagation:function(){f=!0},preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1},h=[r].concat(Eb.call(arguments,
1)),l,k;do{d=g.$$listeners[a]||c;r.currentScope=g;l=0;for(k=d.length;l<k;l++)if(d[l])try{d[l].apply(null,h)}catch(p){e(p)}else d.splice(l,1),l--,k--;if(f)break;g=g.$parent}while(g);return r},$broadcast:function(a,b){var c=this,d=this,g={name:a,targetScope:this,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1},f=[g].concat(Eb.call(arguments,1)),r,h;do{c=d;g.currentScope=c;d=c.$$listeners[a]||[];r=0;for(h=d.length;r<h;r++)if(d[r])try{d[r].apply(null,f)}catch(l){e(l)}else d.splice(r,
1),r--,h--;if(!(d=c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}while(c=d);return g}};var m=new h;return m}]}function Pb(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw Rb("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);a=a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return RegExp("^"+a+"$")}if(J(a))return RegExp("^"+a.source+"$");throw Rb("imatcher",
'Matchers may only be "self", string patterns or RegExp objects');}function Xb(a){var b=[];s(a)&&k(a,function(a){b.push(Pb(a))});return b}function Dc(){this.SCE_CONTEXTS=zb;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Xb(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Xb(a));return b};this.$get=["$log","$document","$injector",function(d,e,g){function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);
b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var r=function(a){throw Rb("unsafe","Attempting to use an unsafe value in a safe context.");};g.has("$sanitize")&&(r=g.get("$sanitize"));var h=f(),l={};l[zb.HTML]=f(h);l[zb.CSS]=f(h);l[zb.URL]=f(h);l[zb.JS]=f(h);l[zb.RESOURCE_URL]=f(l[zb.URL]);return{trustAs:function(a,b){var d=l.hasOwnProperty(a)?l[a]:null;if(!d)throw Rb("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",
a,b);if(null===b||b===c||""===b)return b;if("string"!==typeof b)throw Rb("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)},getTrusted:function(d,e){if(null===e||e===c||""===e)return e;var g=l.hasOwnProperty(d)?l[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===zb.RESOURCE_URL){var g=xb(e.toString()),f,h,k=!1;f=0;for(h=a.length;f<h;f++)if("self"===a[f]?Ma(g):a[f].exec(g.href)){k=!0;break}if(k){f=0;for(h=b.length;f<h;f++)if("self"===
b[f]?Ma(g):b[f].exec(g.href)){k=!1;break}}if(k)return e;throw Rb("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString());}if(d===zb.HTML)return r(e);throw Rb("unsafe","Attempting to use an unsafe value in a safe context.");},valueOf:function(a){return a instanceof h?a.$$unwrapTrustedValue():a}}}]}function Ob(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$document","$sceDelegate",function(b,d,e){if(a&&
La&&(d=d[0].documentMode,d!==c&&8>d))throw Rb("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var g=D(zb);g.isEnabled=function(){return a};g.trustAs=e.trustAs;g.getTrusted=e.getTrusted;g.valueOf=e.valueOf;a||(g.trustAs=g.getTrusted=function(a,b){return b},g.valueOf=v);g.parseAs=function(a,c){var d=
b(c);return d.literal&&d.constant?d:function(b,c){return g.getTrusted(a,d(b,c))}};var f=g.parseAs,r=g.getTrusted,h=g.trustAs;k(zb,function(a,b){var c=Aa(b);g[aa("parse_as_"+c)]=function(b){return f(a,b)};g[aa("get_trusted_"+c)]=function(b){return r(a,b)};g[aa("trust_as_"+c)]=function(b){return h(a,b)}});return g}]}function Yb(){this.$get=["$window","$document",function(a,b){var c={},d=l((/android (\d+)/.exec(Aa((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),g=
b[0]||{},f,r=/^(Moz|webkit|O|ms)(?=[A-Z])/,h=g.body&&g.body.style,k=!1,p=!1;if(h){for(var z in h)if(k=r.exec(z)){f=k[0];f=f.substr(0,1).toUpperCase()+f.substr(1);break}f||(f="WebkitOpacity"in h&&"webkit");k=!!("transition"in h||f+"Transition"in h);p=!!("animation"in h||f+"Animation"in h);if(d&&(!k||!p))k=F(g.body.style.webkitTransition),p=F(g.body.style.webkitAnimation)}return{history:!(!a.history||!a.history.pushState||4>d||e),hashchange:"onhashchange"in a&&(!g.documentMode||7<g.documentMode),hasEvent:function(a){if("input"==
a&&9==La)return!1;if(A(c[a])){var b=g.createElement("div");c[a]="on"+a in b}return c[a]},csp:Y(),vendorPrefix:f,transitions:k,animations:p,msie:La}}]}function bb(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(f,r,h){var l=c.defer(),k=l.promise,p=s(h)&&!h;r=b.defer(function(){try{l.resolve(f())}catch(b){l.reject(b),d(b)}finally{delete g[k.$$timeoutId]}p||a.$apply()},r);k.$$timeoutId=r;g[r]=l;return k}var g={};e.cancel=function(a){return a&&a.$$timeoutId in
g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return e}]}function xb(a,b){var c=a;La&&(nb.setAttribute("href",c),c=nb.href);nb.setAttribute("href",c);var c=nb.pathname,d=a;0===d.indexOf(b)&&(d=d.replace(b,""));Pc.exec(d)||(c=(d=Pc.exec(c))?d[1]:c);c="/"===c.charAt(0)?c:"/"+c;return{href:nb.href,protocol:nb.protocol?nb.protocol.replace(/:$/,""):"",host:nb.host,search:nb.search?nb.search.replace(/^\?/,""):"",hash:nb.hash?nb.hash.replace(/^#/,""):"",
hostname:nb.hostname,port:nb.port,pathname:c}}function Ma(a){a=F(a)?xb(a):a;return a.protocol===Qc.protocol&&a.host===Qc.host}function va(){this.$get=x(d)}function Sa(a){function b(d,e){if(K(d)){var g={};k(d,function(a,c){g[c]=b(c,a)});return g}return a.factory(d+c,e)}var c="Filter";this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}];b("currency",cb);b("date",wb);b("filter",Za);b("json",xc);b("limitTo",Ab);b("lowercase",kd);b("number",Ua);b("orderBy",lc);b("uppercase",
xd)}function Za(){return function(a,b,c){if(!I(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0};"function"!==d&&(c="boolean"===d&&c?function(a,b){return ic.equals(a,b)}:function(a,b){b=(""+b).toLowerCase();return-1<(""+a).toLowerCase().indexOf(b)});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case "boolean":case "number":case "string":return c(a,b);case "object":switch(typeof b){case "object":return c(a,
b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case "array":for(d=0;d<a.length;d++)if(f(a[d],b))return!0;return!1;default:return!1}};switch(typeof b){case "boolean":case "number":case "string":b={$:b};case "object":for(var r in b)"$"==r?function(){if(b[r]){var a=r;e.push(function(c){return f(c,b[a])})}}():function(){if("undefined"!=typeof b[r]){var a=r;e.push(function(c){return f(g(c,a),b[a])})}}();break;case "function":e.push(b);break;default:return a}for(var d=[],h=
0;h<a.length;h++){var l=a[h];e.check(l)&&d.push(l)}return d}}function cb(a){var b=a.NUMBER_FORMATS;return function(a,c){A(c)&&(c=b.CURRENCY_SYM);return mb(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Ua(a){var b=a.NUMBER_FORMATS;return function(a,c){return mb(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function mb(a,b,c,d,e){if(isNaN(a)||!isFinite(a))return"";var g=0>a;a=Math.abs(a);var f=a+"",r="",h=[],l=!1;if(-1!==f.indexOf("e")){var k=f.match(/([\d\.]+)e(-?)(\d+)/);
k&&"-"==k[2]&&k[3]>e+1?f="0":(r=f,l=!0)}if(l)0<e&&(-1<a&&1>a)&&(r=a.toFixed(e));else{f=(f.split(Rc)[1]||"").length;A(e)&&(e=Math.min(Math.max(b.minFrac,f),b.maxFrac));f=Math.pow(10,e);a=Math.round(a*f)/f;a=(""+a).split(Rc);f=a[0];a=a[1]||"";var k=0,p=b.lgSize,z=b.gSize;if(f.length>=p+z){k=f.length-p;for(l=0;l<k;l++)0===(k-l)%z&&0!==l&&(r+=c),r+=f.charAt(l)}for(l=k;l<f.length;l++)0===(f.length-l)%p&&0!==l&&(r+=c),r+=f.charAt(l);for(;a.length<e;)a+="0";e&&"0"!==e&&(r+=d+a.substr(0,e))}h.push(g?b.negPre:
b.posPre);h.push(r);h.push(g?b.negSuf:b.posSuf);return h.join("")}function qb(a,b,c){var d="";0>a&&(d="-",a=-a);for(a=""+a;a.length<b;)a="0"+a;c&&(a=a.substr(a.length-b));return d+a}function za(a,b,c,d){c=c||0;return function(e){e=e["get"+a]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return qb(e,b,d)}}function Ja(a,b){return function(c,d){var e=c["get"+a](),g=rb(b?"SHORT"+a:a);return d[g][e]}}function wb(a){function b(a){var d;if(d=a.match(c)){a=new Date(0);var e=0,g=0,f=d[8]?a.setUTCFullYear:a.setFullYear,
r=d[8]?a.setUTCHours:a.setHours;d[9]&&(e=l(d[9]+d[10]),g=l(d[9]+d[11]));f.call(a,l(d[1]),l(d[2])-1,l(d[3]));e=l(d[4]||0)-e;g=l(d[5]||0)-g;f=l(d[6]||0);d=Math.round(1E3*parseFloat("0."+(d[7]||0)));r.call(a,e,g,f,d)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e="",g=[],f,r;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;F(c)&&(c=wd.test(c)?l(c):b(c));H(c)&&(c=new Date(c));if(!y(c))return c;for(;d;)(r=md.exec(d))?
(g=g.concat(Eb.call(r,1)),d=g.pop()):(g.push(d),d=null);k(g,function(b){f=fd[b];e+=f?f(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return e}}function xc(){return function(a){return R(a,!0)}}function Ab(){return function(a,b){if(!I(a)&&!F(a))return a;b=l(b);if(F(a))return b?0<=b?a.slice(0,b):a.slice(b,a.length):"";var c=[],d,e;b>a.length?b=a.length:b<-a.length&&(b=-a.length);0<b?(d=0,e=b):(d=a.length+b,e=a.length);for(;d<e;d++)c.push(a[d]);return c}}function lc(a){return function(b,
c,d){function e(a,b){return P(b)?function(b,c){return a(c,b)}:a}if(!I(b)||!c)return b;c=I(c)?c:[c];c=C(c,function(b){var c=!1,d=b||v;if(F(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0),b=b.substring(1);d=a(b)}return e(function(a,b){var c;c=d(a);var e=d(b),g=typeof c,f=typeof e;g==f?("string"==g&&(c=c.toLowerCase(),e=e.toLowerCase()),c=c===e?0:c<e?-1:1):c=g<f?-1:1;return c},c)});for(var g=[],f=0;f<b.length;f++)g.push(b[f]);return g.sort(e(function(a,b){for(var d=0;d<c.length;d++){var e=
c[d](a,b);if(0!==e)return e}return 0},d))}}function yb(a){M(a)&&(a={link:a});a.restrict=a.restrict||"AC";return x(a)}function mc(a,b){function c(b,d){d=d?"-"+oa(d,"-"):"";a.removeClass((b?Gc:Fc)+d).addClass((b?Fc:Gc)+d)}var d=this,e=a.parent().controller("form")||Ic,g=0,f=d.$error={},r=[];d.$name=b.name||b.ngForm;d.$dirty=!1;d.$pristine=!0;d.$valid=!0;d.$invalid=!1;e.$addControl(d);a.addClass(rc);c(!0);d.$addControl=function(a){z(a.$name,"input");r.push(a);a.$name&&(d[a.$name]=a)};d.$removeControl=
function(a){a.$name&&d[a.$name]===a&&delete d[a.$name];k(f,function(b,c){d.$setValidity(c,!0,a)});N(r,a)};d.$setValidity=function(a,b,r){var h=f[a];if(b)h&&(N(h,r),h.length||(g--,g||(c(b),d.$valid=!0,d.$invalid=!1),f[a]=!1,c(!0,a),e.$setValidity(a,!0,d)));else{g||c(b);if(h){if(-1!=B(h,r))return}else f[a]=h=[],g++,c(!1,a),e.$setValidity(a,!1,d);h.push(r);d.$valid=!1;d.$invalid=!0}};d.$setDirty=function(){a.removeClass(rc).addClass(Hc);d.$dirty=!0;d.$pristine=!1;e.$setDirty()};d.$setPristine=function(){a.removeClass(Hc).addClass(rc);
d.$dirty=!1;d.$pristine=!0;k(r,function(a){a.$setPristine()})}}function $b(a,b,d,e,g,r){var h=function(){var c=b.val();if(P(d.ngTrim||"T"))c=Ya(c);e.$viewValue!==c&&a.$apply(function(){e.$setViewValue(c)})};if(g.hasEvent("input"))b.on("input",h);else{var k,p=function(){k||(k=r.defer(function(){h();k=null}))};b.on("keydown",function(a){a=a.keyCode;91===a||(15<a&&19>a||37<=a&&40>=a)||p()});b.on("change",h);if(g.hasEvent("paste"))b.on("paste cut",p)}e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?
"":e.$viewValue)};var z=d.ngPattern,m=function(a,b){if(e.$isEmpty(b)||a.test(b))return e.$setValidity("pattern",!0),b;e.$setValidity("pattern",!1);return c};z&&((g=z.match(/^\/(.*)\/([gim]*)$/))?(z=RegExp(g[1],g[2]),g=function(a){return m(z,a)}):g=function(c){var d=a.$eval(z);if(!d||!d.test)throw f("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",z,d,ha(b));return m(d,c)},e.$formatters.push(g),e.$parsers.push(g));if(d.ngMinlength){var n=l(d.ngMinlength);g=function(a){if(!e.$isEmpty(a)&&
a.length<n)return e.$setValidity("minlength",!1),c;e.$setValidity("minlength",!0);return a};e.$parsers.push(g);e.$formatters.push(g)}if(d.ngMaxlength){var E=l(d.ngMaxlength);g=function(a){if(!e.$isEmpty(a)&&a.length>E)return e.$setValidity("maxlength",!1),c;e.$setValidity("maxlength",!0);return a};e.$parsers.push(g);e.$formatters.push(g)}}function Ib(a,b){a="ngClass"+a;return function(){return{restrict:"AC",link:function(c,d,e){function g(a){if(!0===b||c.$index%2===b)r&&!V(a,r)&&e.$removeClass(f(r)),
e.$addClass(f(a));r=D(a)}function f(a){if(I(a))return a.join(" ");if(K(a)){var b=[];k(a,function(a,c){a&&b.push(c)});return b.join(" ")}return a}var r;c.$watch(e[a],g,!0);e.$observe("class",function(b){g(c.$eval(e[a]))});"ngClass"!==a&&c.$watch("$index",function(d,g){var r=d&1;r!==g&1&&(r===b?(r=c.$eval(e[a]),e.$addClass(f(r))):(r=c.$eval(e[a]),e.$removeClass(f(r))))})}}}}var Aa=function(a){return F(a)?a.toLowerCase():a},rb=function(a){return F(a)?a.toUpperCase():a},La,da,Db,Eb=[].slice,Ec=[].push,
Zb=Object.prototype.toString,Vb=f("ng"),ic=d.angular||(d.angular={}),Wb,Nb,Ha=["0","0","0"];La=l((/msie (\d+)/.exec(Aa(navigator.userAgent))||[])[1]);isNaN(La)&&(La=l((/trident\/.*; rv:(\d+)/.exec(Aa(navigator.userAgent))||[])[1]));u.$inject=[];v.$inject=[];var Ya=function(){return!String.prototype.trim?function(a){return F(a)?a.replace(/^\s*/,"").replace(/\s*$/,""):a}:function(a){return F(a)?a.trim():a}}();Nb=9>La?function(a){a=a.nodeName?a:a[0];return a.scopeName&&"HTML"!=a.scopeName?rb(a.scopeName+
":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var oc=/[A-Z]/g,tc={full:"1.2.1",major:1,minor:2,dot:1,codeName:"underscore-empathy"},Jb=ca.cache={},dc=ca.expando="ng-"+(new Date).getTime(),uc=1,cc=d.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},ac=d.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},wc=/([\:\-\_]+(.))/g,Ea=/^moz([A-Z])/,
Gb=f("jqLite"),Fb=ca.prototype={ready:function(a){function b(){c||(c=!0,a())}var c=!1;"complete"===q.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),ca(d).on("load",b))},toString:function(){var a=[];k(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?da(this[a]):da(this[this.length+a])},length:0,push:Ec,sort:[].sort,splice:[].splice},jc={};k("multiple selected checked disabled readOnly required open".split(" "),function(a){jc[Aa(a)]=a});var yc={};k("input select option textarea button form details".split(" "),
function(a){yc[rb(a)]=!0});k({data:T,inheritedData:Ga,scope:function(a){return da(a).data("$scope")||Ga(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return da(a).data("$isolateScope")||da(a).data("$isolateScopeNoTemplate")},controller:sb,injector:function(a){return Ga(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ba,css:function(a,b,d){b=aa(b);if(s(d))a.style[b]=d;else{var e;8>=La&&(e=a.currentStyle&&a.currentStyle[b],""===e&&(e="auto"));e=e||a.style[b];
8>=La&&(e=""===e?c:e);return e}},attr:function(a,b,d){var e=Aa(b);if(jc[e])if(s(d))d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e));else return a[b]||(a.attributes.getNamedItem(b)||u).specified?e:c;else if(s(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?c:a},prop:function(a,b,c){if(s(c))a[b]=c;else return a[b]},text:function(){function a(c,d){var e=b[c.nodeType];if(A(d))return e?c[e]:"";c[e]=d}var b=[];9>La?(b[1]="innerText",b[3]="nodeValue"):b[1]=
b[3]="textContent";a.$dv="";return a}(),val:function(a,b){if(A(b)){if("SELECT"===Nb(a)&&a.multiple){var c=[];k(a.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(A(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)ia(d[c]);a.innerHTML=b}},function(a,b){ca.prototype[b]=function(b,d){var e,g;if((2==a.length&&a!==Ba&&a!==sb?b:d)===c){if(K(b)){for(e=0;e<this.length;e++)if(a===T)a(this[e],b);else for(g in b)a(this[e],
g,b[g]);return this}e=a.$dv;g=e===c?Math.min(this.length,1):this.length;for(var f=0;f<g;f++){var r=a(this[f],b,d);e=e?e+r:r}return e}for(e=0;e<this.length;e++)a(this[e],b,d);return this}});k({removeData:Fa,dealoc:ia,on:function lb(a,b,c,d){if(s(d))throw Gb("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var e=ba(a,"events"),g=ba(a,"handle");e||ba(a,"events",e={});g||ba(a,"handle",g=gb(a,e));k(b.split(" "),function(b){var d=e[b];if(!d){if("mouseenter"==b||"mouseleave"==
b){var f=q.body.contains||q.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||!(1===d.nodeType&&(c.contains?c.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};e[b]=[];lb(a,{mouseleave:"mouseout",mouseenter:"mouseover"}[b],function(a){var c=a.relatedTarget;(!c||c!==this&&!f(this,c))&&g(a,b)})}else cc(a,b,g),e[b]=[];d=e[b]}d.push(c)})},
off:Q,replaceWith:function(a,b){var c,d=a.parentNode;ia(a);k(new ca(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a);c=b})},children:function(a){var b=[];k(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.childNodes||[]},append:function(a,b){k(new ca(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;k(new ca(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,
b){b=da(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a);b.appendChild(a)},remove:function(a){ia(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;k(new ca(b),function(a){d.insertBefore(a,c.nextSibling);c=a})},addClass:W,removeClass:Da,toggleClass:function(a,b,c){A(c)&&(c=!Ba(a,b));(c?W:Da)(a,b)},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(a=a.nextSibling;null!=a&&1!==
a.nodeType;)a=a.nextSibling;return a},find:function(a,b){return a.getElementsByTagName(b)},clone:Ta,triggerHandler:function(a,b,c){b=(ba(a,"events")||{})[b];c=c||[];var d=[{preventDefault:u,stopPropagation:u}];k(b,function(b){b.apply(a,d.concat(c))})}},function(a,b){ca.prototype[b]=function(b,c,d){for(var e,g=0;g<this.length;g++)A(e)?(e=a(this[g],b,c,d),s(e)&&(e=da(e))):U(e,a(this[g],b,c,d));return s(e)?e:this};ca.prototype.bind=ca.prototype.on;ca.prototype.unbind=ca.prototype.off});db.prototype=
{put:function(a,b){this[Na(a)]=b},get:function(a){return this[Na(a)]},remove:function(a){var b=this[a=Na(a)];delete this[a];return b}};var zc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Ac=/,/,Xc=/^\s*(_?)(\S+?)\1\s*$/,Zc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,sc=f("$injector"),Yc=f("$animate"),$c=["$provide",function(a){this.$$selectors={};this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Yc("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=
d;a.factory(d,c)};this.$get=["$timeout",function(a){return{enter:function(b,c,d,e){d=d&&d[d.length-1];var g=c&&c[0]||d&&d.parentNode,f=d&&d.nextSibling||null;k(b,function(a){g.insertBefore(a,f)});e&&a(e,0,!1)},leave:function(b,c){b.remove();c&&a(c,0,!1)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(b,c,d){c=F(c)?c:I(c)?c.join(" "):"";k(b,function(a){W(a,c)});d&&a(d,0,!1)},removeClass:function(b,c,d){c=F(c)?c:I(c)?c.join(" "):"";k(b,function(a){Da(a,c)});d&&a(d,0,!1)},enabled:u}}]}],
Cb=f("$compile");Kb.$inject=["$provide"];var ad=/^(x[\:\-_]|data[\:\-_])/i,bd=d.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw f("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.");},Nc=f("$interpolate"),cd=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,dd={http:80,https:443,ftp:21},Jc=f("$location");hc.prototype=Bb.prototype=
Lb.prototype={$$html5:!1,$$replace:!1,absUrl:vb("$$absUrl"),url:function(a,b){if(A(a))return this.$$url;var c=cd.exec(a);c[1]&&this.path(decodeURIComponent(c[1]));if(c[2]||c[1])this.search(c[3]||"");this.hash(c[5]||"",b);return this},protocol:vb("$$protocol"),host:vb("$$host"),port:vb("$$port"),path:ub("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a))this.$$search=wa(a);else if(K(a))this.$$search=a;else throw Jc("isrcharg",
"The first argument of the `$location#search()` call must be a string or an object.");break;default:A(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:ub("$$hash",v),replace:function(){this.$$replace=!0;return this}};var bc=f("$parse"),Oc={},Qb,nc={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:u,"+":function(a,b,d,e){d=d(a,b);e=e(a,b);return s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){c=c(a,b);d=d(a,
b);return(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":u,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,
b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},ed={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Kc=function(a){this.options=a};Kc.prototype={constructor:Kc,lex:function(a){this.text=a;this.index=0;this.ch=c;this.lastCh=":";this.tokens=[];var b;
for(a=[];this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch)){if(this.readIdent(),this.was("{,")&&"{"===a[0]&&(b=this.tokens[this.tokens.length-1]))b.json=-1===b.text.indexOf(".")}else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&
a.unshift(this.ch),this.is("}]")&&a.shift(),this.index++;else if(this.isWhitespace(this.ch)){this.index++;continue}else{var d=this.ch+this.peek(),e=d+this.peek(2),g=nc[this.ch],f=nc[d],r=nc[e];r?(this.tokens.push({index:this.index,text:e,fn:r}),this.index+=3):f?(this.tokens.push({index:this.index,text:d,fn:f}),this.index+=2):g?(this.tokens.push({index:this.index,text:this.ch,fn:g,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+
1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},
throwError:function(a,b,c){c=c||this.index;b=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw bc("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Aa(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else if(this.isExpOperator(c)&&
(!d||!this.isNumber(d))&&"e"==a.charAt(a.length-1))this.throwError("Invalid exponent");else break}this.index++}a*=1;this.tokens.push({index:b,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var a=this,b="",c=this.index,d,e,g,f;this.index<this.text.length;){f=this.text.charAt(this.index);if("."===f||this.isIdent(f)||this.isNumber(f))"."===f&&(d=this.index),b+=f;else break;this.index++}if(d)for(e=this.index;e<this.text.length;){f=this.text.charAt(e);if("("===f){g=b.substr(d-c+1);
b=b.substr(0,d-c);this.index=e;break}if(this.isWhitespace(f))e++;else break}c={index:c,text:b};if(nc.hasOwnProperty(b))c.fn=nc[b],c.json=nc[b];else{var r=ab(b,this.options,this.text);c.fn=m(function(a,b){return r(a,b)},{assign:function(c,d){return sa(c,b,d,a.text,a.options)}})}this.tokens.push(c);g&&(this.tokens.push({index:d,text:".",json:!1}),this.tokens.push({index:d+1,text:g,json:!1}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var g=
this.text.charAt(this.index),d=d+g;if(e)"u"===g?(g=this.text.substring(this.index+1,this.index+5),g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))):c=(e=ed[g])?c+e:c+g,e=!1;else if("\\"===g)e=!0;else{if(g===a){this.index++;this.tokens.push({index:b,text:d,string:c,json:!0,fn:function(){return c}});return}c+=g}this.index++}this.throwError("Unterminated quote",b)}};var vc=function(a,b,c){this.lexer=a;this.$filter=b;this.options=
c};vc.ZERO=function(){return 0};vc.prototype={constructor:vc,parse:function(a,b){this.text=a;this.json=b;this.tokens=this.lexer.lex(a);b&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:a,index:0})});var c=b?this.primary():this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);c.literal=!!c.literal;c.constant=!!c.constant;return c},primary:function(){var a;
if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();(a=b.fn)||this.throwError("not a primary expression",b);b.json&&(a.constant=!0,a.literal=!0)}for(var c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw bc("syntax",
"Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index));},peekToken:function(){if(0===this.tokens.length)throw bc("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(0<this.tokens.length){var e=this.tokens[0],g=e.text;if(g===a||g===b||g===c||g===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){return(a=this.peek(a,b,c,d))?(this.json&&!a.json&&
this.throwError("is not valid json",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return m(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return m(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return m(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=
[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var g=a[e];g&&(d=g(b,c))}return d}},filterChain:function(){for(var a=this.expression(),b;;)if(b=this.expect("|"))a=this.binaryFn(a,b.fn,this.filter());else return a},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;)if(a=this.expect(":"))c.push(this.expression());else{var d=function(a,d,e){e=[e];for(var g=
0;g<c.length;g++)e.push(c[g](a,d));return b.apply(a,e)};return function(){return d}}},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),b,c;return(c=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,c.index)+"] can not be assigned to",c),b=this.ternary(),function(c,d){return a.assign(c,b(c,d),d)}):a},ternary:function(){var a=this.logicalOR(),b,c;if(this.expect("?")){b=this.ternary();if(c=this.expect(":"))return this.ternaryFn(a,
b,this.ternary());this.throwError("expected :",c)}else return a},logicalOR:function(){for(var a=this.logicalAND(),b;;)if(b=this.expect("||"))a=this.binaryFn(a,b.fn,this.logicalAND());else return a},logicalAND:function(){var a=this.equality(),b;if(b=this.expect("&&"))a=this.binaryFn(a,b.fn,this.logicalAND());return a},equality:function(){var a=this.relational(),b;if(b=this.expect("==","!=","===","!=="))a=this.binaryFn(a,b.fn,this.equality());return a},relational:function(){var a=this.additive(),b;
if(b=this.expect("<",">","<=",">="))a=this.binaryFn(a,b.fn,this.relational());return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a=this.binaryFn(a,b.fn,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a=this.binaryFn(a,b.fn,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(vc.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,
this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=ab(c,this.options,this.text);return m(function(b,c,e){return d(e||a(b,c),c)},{assign:function(d,e,g){return sa(a(d,g),c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();this.consume("]");return m(function(e,g){var f=a(e,g),r=d(e,g),h;if(!f)return c;if((f=ga(f[r],b.text))&&f.then&&b.options.unwrapPromises)h=f,"$$v"in f||(h.$$v=c,h.then(function(a){h.$$v=a})),f=f.$$v;return f},{assign:function(c,
e,g){var f=d(c,g);return ga(a(c,g),b.text)[f]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text){do c.push(this.expression());while(this.expect(","))}this.consume(")");var d=this;return function(e,g){for(var f=[],r=b?b(e,g):e,h=0;h<c.length;h++)f.push(c[h](e,g));h=a(e,g,r)||u;ga(r,d.text);ga(h,d.text);f=h.apply?h.apply(r,f):h(f[0],f[1],f[2],f[3],f[4]);return ga(f,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text){do{var c=this.expression();a.push(c);
c.constant||(b=!1)}while(this.expect(","))}this.consume("]");return m(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text){do{var c=this.expect(),c=c.string||c.text;this.consume(":");var d=this.expression();a.push({key:c,value:d});d.constant||(b=!1)}while(this.expect(","))}this.consume("}");return m(function(b,c){for(var d={},e=0;e<a.length;e++){var g=a[e];d[g.key]=g.value(b,c)}return d},
{literal:!0,constant:b})}};var Lc={},Rb=f("$sce"),zb={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},nb=q.createElement("a"),Pc=/^\/?.*?:(\/.*)/,Qc=xb(d.location.href,!0);Sa.$inject=["$provide"];cb.$inject=["$locale"];Ua.$inject=["$locale"];var Rc=".",fd={yyyy:za("FullYear",4),yy:za("FullYear",2,0,!0),y:za("FullYear",1),MMMM:Ja("Month"),MMM:Ja("Month",!0),MM:za("Month",2,1),M:za("Month",1,1),dd:za("Date",2),d:za("Date",1),HH:za("Hours",2),H:za("Hours",1),hh:za("Hours",2,-12),
h:za("Hours",1,-12),mm:za("Minutes",2),m:za("Minutes",1),ss:za("Seconds",2),s:za("Seconds",1),sss:za("Milliseconds",3),EEEE:Ja("Day"),EEE:Ja("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(qb(Math[0<a?"floor":"ceil"](a/60),2)+qb(Math.abs(a%60),2))}},md=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,wd=/^\-?\d+$/;wb.$inject=["$locale"];var kd=x(Aa),xd=x(rb);lc.$inject=["$parse"];
var yd=x({restrict:"E",compile:function(a,b){8>=La&&(!b.href&&!b.name&&b.$set("href",""),a.append(q.createComment("IE fix")));return function(a,b){b.on("click",function(a){b.attr("href")||a.preventDefault()})}}}),Mc={};k(jc,function(a,b){if("multiple"!=a){var c=Ra("ng-"+b);Mc[c]=function(){return{priority:100,compile:function(){return function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}});k(["src","srcset","href"],function(a){var b=Ra("ng-"+a);Mc[b]=function(){return{priority:99,link:function(c,
d,e){e.$observe(b,function(b){b&&(e.$set(a,b),La&&d.prop(a,e[a]))})}}}});var Ic={$addControl:u,$removeControl:u,$setValidity:u,$setDirty:u,$setPristine:u};mc.$inject=["$element","$attrs","$scope"];var Uc=function(a){return["$timeout",function(b){return{name:"form",restrict:a?"EAC":"E",controller:mc,compile:function(){return{pre:function(a,d,e,g){if(!e.action){var f=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};cc(d[0],"submit",f);d.on("$destroy",function(){b(function(){ac(d[0],
"submit",f)},0,!1)})}var r=d.parent().controller("form"),h=e.name||e.ngForm;h&&sa(a,h,g,h);if(r)d.on("$destroy",function(){r.$removeControl(g);h&&sa(a,h,c,h);m(g,Ic)})}}}}}]},zd=Uc(),gd=Uc(!0),hd=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,id=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,jd=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Sc={text:$b,number:function(a,b,d,e,g,f){$b(a,b,d,e,g,f);e.$parsers.push(function(a){var b=e.$isEmpty(a);if(b||jd.test(a))return e.$setValidity("number",
!0),""===a?null:b?a:parseFloat(a);e.$setValidity("number",!1);return c});e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a});d.min&&(a=function(a){var b=parseFloat(d.min);if(!e.$isEmpty(a)&&a<b)return e.$setValidity("min",!1),c;e.$setValidity("min",!0);return a},e.$parsers.push(a),e.$formatters.push(a));d.max&&(a=function(a){var b=parseFloat(d.max);if(!e.$isEmpty(a)&&a>b)return e.$setValidity("max",!1),c;e.$setValidity("max",!0);return a},e.$parsers.push(a),e.$formatters.push(a));e.$formatters.push(function(a){if(e.$isEmpty(a)||
H(a))return e.$setValidity("number",!0),a;e.$setValidity("number",!1);return c})},url:function(a,b,d,e,g,f){$b(a,b,d,e,g,f);a=function(a){if(e.$isEmpty(a)||hd.test(a))return e.$setValidity("url",!0),a;e.$setValidity("url",!1);return c};e.$formatters.push(a);e.$parsers.push(a)},email:function(a,b,d,e,g,f){$b(a,b,d,e,g,f);a=function(a){if(e.$isEmpty(a)||id.test(a))return e.$setValidity("email",!0),a;e.$setValidity("email",!1);return c};e.$formatters.push(a);e.$parsers.push(a)},radio:function(a,b,c,
d){A(c.name)&&b.attr("name",p());b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})});d.$render=function(){b[0].checked=c.value==d.$viewValue};c.$observe("value",d.$render)},checkbox:function(a,b,c,d){var e=c.ngTrueValue,g=c.ngFalseValue;F(e)||(e=!0);F(g)||(g=!1);b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})});d.$render=function(){b[0].checked=d.$viewValue};d.$isEmpty=function(a){return a!==e};d.$formatters.push(function(a){return a===
e});d.$parsers.push(function(a){return a?e:g})},hidden:u,button:u,submit:u,reset:u},Tc=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,g){g&&(Sc[Aa(e.type)]||Sc.text)(c,d,e,g,b,a)}}}],Fc="ng-valid",Gc="ng-invalid",rc="ng-pristine",Hc="ng-dirty",ld=["$scope","$exceptionHandler","$attrs","$element","$parse",function(a,b,c,d,e){function g(a,b){b=b?"-"+oa(b,"-"):"";d.removeClass((a?Gc:Fc)+b).addClass((a?Fc:Gc)+b)}this.$modelValue=this.$viewValue=Number.NaN;
this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=c.name;var r=e(c.ngModel),h=r.assign;if(!h)throw f("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,ha(d));this.$render=u;this.$isEmpty=function(a){return A(a)||""===a||null===a||a!==a};var l=d.inheritedData("$formController")||Ic,p=0,z=this.$error={};d.addClass(rc);g(!0);this.$setValidity=function(a,b){z[a]!==!b&&(b?(z[a]&&
p--,p||(g(!0),this.$valid=!0,this.$invalid=!1)):(g(!1),this.$invalid=!0,this.$valid=!1,p++),z[a]=!b,g(b,a),l.$setValidity(a,b,this))};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;d.removeClass(Hc).addClass(rc)};this.$setViewValue=function(c){this.$viewValue=c;this.$pristine&&(this.$dirty=!0,this.$pristine=!1,d.removeClass(rc).addClass(Hc),l.$setDirty());k(this.$parsers,function(a){c=a(c)});this.$modelValue!==c&&(this.$modelValue=c,h(a,c),k(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};
var m=this;a.$watch(function(){var b=r(a);if(m.$modelValue!==b){var c=m.$formatters,d=c.length;for(m.$modelValue=b;d--;)b=c[d](b);m.$viewValue!==b&&(m.$viewValue=b,m.$render())}})}],nd=function(){return{require:["ngModel","^?form"],controller:ld,link:function(a,b,c,d){var e=d[0],g=d[1]||Ic;g.$addControl(e);a.$on("$destroy",function(){g.$removeControl(e)})}}},od=x({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Vc=function(){return{require:"?ngModel",
link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){if(c.required&&d.$isEmpty(a))d.$setValidity("required",!1);else return d.$setValidity("required",!0),a};d.$formatters.push(e);d.$parsers.unshift(e);c.$observe("required",function(){e(d.$viewValue)})}}}},pd=function(){return{require:"ngModel",link:function(a,b,d,e){var g=(a=/\/(.*)\//.exec(d.ngList))&&RegExp(a[1])||d.ngList||",";e.$parsers.push(function(a){if(!A(a)){var b=[];a&&k(a.split(g),function(a){a&&b.push(Ya(a))});return b}});e.$formatters.push(function(a){return I(a)?
a.join(", "):c});e.$isEmpty=function(a){return!a||!a.length}}}},qd=/^(true|false|\d+)$/,rd=function(){return{priority:100,compile:function(a,b){return qd.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},sd=yb(function(a,b,d){b.addClass("ng-binding").data("$binding",d.ngBind);a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}),td=["$interpolate",function(a){return function(b,c,d){b=a(c.attr(d.$attr.ngBindTemplate));
c.addClass("ng-binding").data("$binding",b);d.$observe("ngBindTemplate",function(a){c.text(a)})}}],ud=["$sce","$parse",function(a,b){return function(c,d,e){d.addClass("ng-binding").data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(function(){return(g(c)||"").toString()},function(b){d.html(a.getTrustedHtml(g(c))||"")})}}],vd=Ib("",!0),Dd=Ib("Odd",0),Ed=Ib("Even",1),Fd=yb({compile:function(a,b){b.$set("ngCloak",c);a.removeClass("ng-cloak")}}),Gd=[function(){return{scope:!0,controller:"@"}}],
Wc={};k("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ra("ng-"+a);Wc[b]=["$parse",function(c){return{compile:function(d,e){var g=c(e[b]);return function(b,c,d){c.on(Aa(a),function(a){b.$apply(function(){g(b,{$event:a})})})}}}}]});var Hd=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,c,d,e,g){var f,r;b.$watch(d.ngIf,
function(e){P(e)?r||(r=b.$new(),g(r,function(b){f={startNode:b[0],endNode:b[b.length++]=q.createComment(" end ngIf: "+d.ngIf+" ")};a.enter(b,c.parent(),c)})):(r&&(r.$destroy(),r=null),f&&(a.leave(E(f)),f=null))})}}}],Id=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(a,b,c,d,e,g){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",compile:function(f,r){var h=r.ngInclude||r.src,l=r.onload||"",k=r.autoscroll;return function(f,r,p,z,m){var n=0,E,y,C=function(){E&&
(E.$destroy(),E=null);y&&(e.leave(y),y=null)};f.$watch(g.parseAsResourceUrl(h),function(g){var h=function(){s(k)&&(!k||f.$eval(k))&&c()},p=++n;g?(a.get(g,{cache:b}).success(function(a){if(p===n){var b=f.$new();m(b,function(c){C();E=b;y=c;y.html(a);e.enter(y,null,r,h);d(y.contents())(E);E.$emit("$includeContentLoaded");f.$eval(l)})}}).error(function(){p===n&&C()}),f.$emit("$includeContentRequested")):C()})}}}}],Jd=yb({compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),Kd=yb({terminal:!0,
priority:1E3}),Ld=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var f=g.count,r=g.$attr.when&&e.attr(g.$attr.when),h=g.offset||0,l=d.$eval(r)||{},p={},z=b.startSymbol(),m=b.endSymbol(),n=/^when(Minus)?(.+)$/;k(g,function(a,b){n.test(b)&&(l[Aa(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))});k(l,function(a,d){p[d]=b(a.replace(c,z+f+"-"+h+m))});d.$watch(function(){var b=parseFloat(d.$eval(f));if(isNaN(b))return"";b in l||(b=a.pluralCat(b-
h));return p[b](d,e,!0)},function(a){e.text(a)})}}}],Md=["$parse","$animate",function(a,c){var d=f("ngRepeat");return{transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,link:function(e,g,f,r,h){var l=f.ngRepeat,p=l.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),m,n,y,C,w,t,B={$id:Na};if(!p)throw d("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);f=p[1];r=p[2];(p=p[4])?(m=a(p),n=function(a,b,c){t&&(B[t]=a);B[w]=b;B.$index=c;return m(e,
B)}):(y=function(a,b){return Na(b)},C=function(a){return a});p=f.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!p)throw d("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);w=p[3]||p[1];t=p[2];var G={};e.$watchCollection(r,function(a){var f,r,p=g[0],m,B={},v,W,U,u,s,I,N=[];if(b(a))s=a,m=n||y;else{m=n||C;s=[];for(U in a)a.hasOwnProperty(U)&&"$"!=U.charAt(0)&&s.push(U);s.sort()}v=s.length;r=N.length=s.length;for(f=
0;f<r;f++)if(U=a===s?f:s[f],u=a[U],u=m(U,u,f),z(u,"`track by` id"),G.hasOwnProperty(u))I=G[u],delete G[u],B[u]=I,N[f]=I;else{if(B.hasOwnProperty(u))throw k(N,function(a){a&&a.startNode&&(G[a.id]=a)}),d("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",l,u);N[f]={id:u};B[u]=!1}for(U in G)G.hasOwnProperty(U)&&(I=G[U],f=E(I),c.leave(f),k(f,function(a){a.$$NG_REMOVED=!0}),I.scope.$destroy());f=0;for(r=s.length;f<r;f++){U=
a===s?f:s[f];u=a[U];I=N[f];N[f-1]&&(p=N[f-1].endNode);if(I.startNode){W=I.scope;m=p;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);I.startNode!=m&&c.move(E(I),null,da(p));p=I.endNode}else W=e.$new();W[w]=u;t&&(W[t]=U);W.$index=f;W.$first=0===f;W.$last=f===v-1;W.$middle=!(W.$first||W.$last);W.$odd=!(W.$even=0===(f&1));I.startNode||h(W,function(a){a[a.length++]=q.createComment(" end ngRepeat: "+l+" ");c.enter(a,null,da(p));p=a;I.scope=W;I.startNode=p&&p.endNode?p.endNode:a[0];I.endNode=a[a.length-1];B[I.id]=
I})}G=B})}}}],Nd=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[P(b)?"removeClass":"addClass"](c,"ng-hide")})}}],Od=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[P(b)?"addClass":"removeClass"](c,"ng-hide")})}}],Pd=yb(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&k(c,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Qd=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases=
{}}],link:function(b,c,d,e){var g,f,r=[];b.$watch(d.ngSwitch||d.on,function(c){for(var h=0,l=r.length;h<l;h++)r[h].$destroy(),a.leave(f[h]);f=[];r=[];if(g=e.cases["!"+c]||e.cases["?"])b.$eval(d.change),k(g,function(c){var d=b.$new();r.push(d);c.transclude(d,function(b){var d=c.element;f.push(b);a.enter(b,d.parent(),d)})})})}}}],Rd=yb({transclude:"element",priority:800,require:"^ngSwitch",compile:function(a,b){return function(a,c,d,e,g){e.cases["!"+b.ngSwitchWhen]=e.cases["!"+b.ngSwitchWhen]||[];e.cases["!"+
b.ngSwitchWhen].push({transclude:g,element:c})}}}),Sd=yb({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[];d.cases["?"].push({transclude:e,element:b})}}),Td=yb({controller:["$element","$transclude",function(a,b){if(!b)throw f("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ha(a));this.$transclude=b}],link:function(a,b,c,d){d.$transclude(function(a){b.html("");
b.append(a)})}}),Ud=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){"text/ng-template"==c.type&&a.put(c.id,b[0].text)}}}],Vd=f("ngOptions"),Wd=x({terminal:!0}),Xd=["$compile","$parse",function(b,d){var e=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,g={$setViewValue:u};return{restrict:"E",require:["select","?ngModel"],controller:["$element",
"$scope","$attrs",function(a,b,c){var d=this,e={},f=g,r;d.databound=c.ngModel;d.init=function(a,b,c){f=a;r=c};d.addOption=function(b){z(b,'"option value"');e[b]=!0;f.$viewValue==b&&(a.val(b),r.parent()&&r.remove())};d.removeOption=function(a){this.hasOption(a)&&(delete e[a],f.$viewValue==a&&this.renderUnknownOption(a))};d.renderUnknownOption=function(b){b="? "+Na(b)+" ?";r.val(b);a.prepend(r);a.val(b);r.prop("selected",!0)};d.hasOption=function(a){return e.hasOwnProperty(a)};b.$on("$destroy",function(){d.renderUnknownOption=
u})}],link:function(g,f,r,h){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(G.parent()&&G.remove(),b.val(a),""===a&&w.prop("selected",!0)):A(a)&&w?b.val(""):d.renderUnknownOption(a)};b.on("change",function(){a.$apply(function(){G.parent()&&G.remove();c.$setViewValue(b.val())})})}function p(a,b,c){var d;c.$render=function(){var a=new db(c.$viewValue);k(b.find("option"),function(b){b.selected=s(a.get(b.value))})};a.$watch(function(){V(d,c.$viewValue)||(d=D(c.$viewValue),
c.$render())});b.on("change",function(){a.$apply(function(){var a=[];k(b.find("option"),function(b){b.selected&&a.push(b.value)});c.$setViewValue(a)})})}function z(g,f,r){function h(){var b={"":[]},c=[""],d,e,l,z,y;z=r.$modelValue;y=G(g)||[];var U=m?a(y):y,u,N,D;N={};l=!1;var x,ya;if(E)if(v&&I(z)){l=new db([]);for(D=0;D<z.length;D++)N[p]=z[D],l.put(v(g,N),z[D])}else l=new db(z);for(D=0;u=U.length,D<u;D++){e=D;if(m){e=U[D];if("$"===e.charAt(0))continue;N[m]=e}N[p]=y[e];d=n(g,N)||"";if(!(e=b[d]))e=
b[d]=[],c.push(d);E?d=s(l.remove(v?v(g,N):w(g,N))):(v?(d={},d[p]=z,d=v(g,d)===v(g,N)):d=z===w(g,N),l=l||d);x=k(g,N);x=s(x)?x:"";e.push({id:v?v(g,N):m?U[D]:D,label:x,selected:d})}E||(C||null===z?b[""].unshift({id:"",label:"",selected:!l}):l||b[""].unshift({id:"?",label:"",selected:!0}));N=0;for(U=c.length;N<U;N++){d=c[N];e=b[d];W.length<=N?(z={element:B.clone().attr("label",d),label:e.label},y=[z],W.push(y),f.append(z.element)):(y=W[N],z=y[0],z.label!=d&&z.element.attr("label",z.label=d));x=null;D=
0;for(u=e.length;D<u;D++)l=e[D],(d=y[D+1])?(x=d.element,d.label!==l.label&&x.text(d.label=l.label),d.id!==l.id&&x.val(d.id=l.id),x[0].selected!==l.selected&&x.prop("selected",d.selected=l.selected)):(""===l.id&&C?ya=C:(ya=t.clone()).val(l.id).attr("selected",l.selected).text(l.label),y.push({element:ya,label:l.label,id:l.id,selected:l.selected}),x?x.after(ya):z.element.append(ya),x=ya);for(D++;y.length>D;)y.pop().element.remove()}for(;W.length>N;)W.pop()[0].element.remove()}var l;if(!(l=y.match(e)))throw Vd("iexp",
"Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",y,ha(f));var k=d(l[2]||l[1]),p=l[4]||l[6],m=l[5],n=d(l[3]||""),w=d(l[2]?l[1]:p),G=d(l[7]),v=l[8]?d(l[8]):null,W=[[{element:f,label:""}]];C&&(b(C)(g),C.removeClass("ng-scope"),C.remove());f.html("");f.on("change",function(){g.$apply(function(){var a,b=G(g)||[],d={},e,h,l,k,z,n,y;if(E){h=[];k=0;for(n=W.length;k<n;k++){a=W[k];l=1;for(z=a.length;l<z;l++)if((e=a[l].element)[0].selected){e=
e.val();m&&(d[m]=e);if(v)for(y=0;y<b.length&&!(d[p]=b[y],v(g,d)==e);y++);else d[p]=b[e];h.push(w(g,d))}}}else if(e=f.val(),"?"==e)h=c;else if(""===e)h=null;else if(v)for(y=0;y<b.length;y++){if(d[p]=b[y],v(g,d)==e){h=w(g,d);break}}else d[p]=b[e],m&&(d[m]=e),h=w(g,d);r.$setViewValue(h)})});r.$render=h;g.$watch(h)}if(h[1]){var m=h[0],n=h[1],E=r.multiple,y=r.ngOptions,C=!1,w,t=da(q.createElement("option")),B=da(q.createElement("optgroup")),G=t.clone();h=0;for(var v=f.children(),W=v.length;h<W;h++)if(""===
v[h].value){w=C=v.eq(h);break}m.init(n,C,G);if(E&&(r.required||r.ngRequired)){var U=function(a){n.$setValidity("required",!r.required||a&&a.length);return a};n.$parsers.push(U);n.$formatters.unshift(U);r.$observe("required",function(){U(n.$viewValue)})}y?z(g,f,n):E?p(g,f,n):l(g,f,n,m)}}}}],Yd=["$interpolate",function(a){var b={addOption:u,removeOption:u};return{restrict:"E",priority:100,compile:function(c,d){if(A(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var g=
c.parent(),f=g.data("$selectController")||g.parent().data("$selectController");f&&f.databound?c.prop("selected",!1):f=b;e?a.$watch(e,function(a,b){d.$set("value",a);a!==b&&f.removeOption(b);f.addOption(a)}):f.addOption(d.value);c.on("$destroy",function(){f.removeOption(d.value)})}}}}],Zd=x({restrict:"E",terminal:!0});(Db=d.jQuery)?(da=Db,m(Db.fn,{scope:Fb.scope,isolateScope:Fb.isolateScope,controller:Fb.controller,injector:Fb.injector,inheritedData:Fb.inheritedData}),ea("remove",!0,!0,!1),ea("empty",
!1,!1,!1),ea("html",!1,!1,!0)):da=ca;ic.element=da;(function(a){m(a,{bootstrap:qa,copy:D,extend:m,equals:V,element:da,forEach:k,injector:eb,noop:u,bind:L,toJson:R,fromJson:X,identity:v,isUndefined:A,isDefined:s,isString:F,isFunction:M,isObject:K,isNumber:H,isElement:S,isArray:I,version:tc,isDate:y,lowercase:Aa,uppercase:rb,callbacks:{counter:0},$$minErr:f,$$csp:Y});Wb=G(d);try{Wb("ngLocale")}catch(b){Wb("ngLocale",[]).provider("$locale",qc)}Wb("ng",["ngLocale"],["$provide",function(a){a.provider("$compile",
Kb).directive({a:yd,input:Tc,textarea:Tc,form:zd,script:Ud,select:Xd,style:Zd,option:Yd,ngBind:sd,ngBindHtml:ud,ngBindTemplate:td,ngClass:vd,ngClassEven:Ed,ngClassOdd:Dd,ngCloak:Fd,ngController:Gd,ngForm:gd,ngHide:Od,ngIf:Hd,ngInclude:Id,ngInit:Jd,ngNonBindable:Kd,ngPluralize:Ld,ngRepeat:Md,ngShow:Nd,ngStyle:Pd,ngSwitch:Qd,ngSwitchWhen:Rd,ngSwitchDefault:Sd,ngOptions:Wd,ngTransclude:Td,ngModel:nd,ngList:pd,ngChange:od,required:Vc,ngRequired:Vc,ngValue:rd}).directive(Mc).directive(Wc);a.provider({$anchorScroll:ob,
$animate:$c,$browser:fb,$cacheFactory:Ia,$controller:jb,$document:ya,$exceptionHandler:Wa,$filter:Sa,$interpolate:pc,$interval:Sb,$http:Oa,$httpBackend:ec,$location:ka,$log:la,$parse:fa,$rootScope:kc,$q:Mb,$sce:Ob,$sceDelegate:Dc,$sniffer:Yb,$templateCache:Qa,$timeout:bb,$window:va})}])})(ic);da(q).ready(function(){na(q,qa)})})(window,document);!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-start{clip:rect(0,auto,auto,0);-ms-zoom:1.0001;}.ng-animate-active{clip:rect(-1px,auto,auto,0);-ms-zoom:1;}</style>');
(function(){function d(){q();(new MutationObserver(function(a){a.forEach(function(a){a.addedNodes&&Array.forEach(a.addedNodes,function(a){a instanceof Element&&(a.childElementCount?Array.forEach(a.querySelectorAll("input[type=range]"),c):a.mozMatchesSelector("input[type=range]")&&c(a))})})})).observe(document,{childList:!0,subtree:!0})}function q(){Array.forEach(document.querySelectorAll("input[type=range]"),c)}function c(a){"range"!=a.type&&f(a)}function f(a){function c(a){var b=(parseFloat(getComputedStyle(this).width)-
p.width)/ma;b&&(S+=(a.clientX-C)/b,C=a.clientX,M=!0,this.value=S)}function d(){this.removeEventListener("mousemove",c,!0);this.removeEventListener("mouseup",d,!0);a.dispatchEvent(t);a.dispatchEvent(u)}function f(){J||(this.style.boxShadow=!h?"0 0 0 2px #fb0":"inset 0 0 20px rgba(0,127,255,.1), 0 0 1px rgba(0,127,255,.4)")}function k(a){return!isNaN(a)&&+a==parseFloat(a)}function F(){B=k(a.min)?+a.min:0;N=k(a.max)?+a.max:100;N<B&&(N=100<B?B:100);D=k(a.step)&&0<a.step?+a.step:1;ma=N-B;q(!0)}function q(c){!y&&
!I&&(V=a.getAttribute("value"));k(V)||(V=(B+N)/2);V=Math.round((V-B)/D)*D+B;V<B?V=B:V>N&&(V=B+~~(ma/D)*D);var d=M;M=!1;d&&V!=w&&a.dispatchEvent(t);if(c||V!=w)w=V,b(a,{background:"-moz-element(#__sliderthumb__) "+(ma?100*((V-B)/ma):0)+"% no-repeat, "+n})}var y,I,M,J,w,S,C,B,N,D,ma,V=a.value;e||(e=document.body.appendChild(document.createElement("hr")),b(e,{"-moz-appearance":h?"scale-horizontal":"scalethumb-horizontal",display:"block",visibility:"visible",opacity:1,position:"fixed",top:"-999999px"}),
document.mozSetImageElement("__sliderthumb__",e));var Y=function(){return""+V};a.__defineGetter__("value",Y);a.__defineSetter__("value",function O(b){V=""+b;y=!0;q();delete a.value;a.value=V;a.__defineGetter__("value",Y);a.__defineSetter__("value",O)});Object.defineProperty(a,"type",{get:function(){return"range"}});["min","max","step"].forEach(function(b){a.hasAttribute(b)&&(I=!0);Object.defineProperty(a,b,{get:function(){return this.hasAttribute(b)?this.getAttribute(b):""},set:function(a){null===
a?this.removeAttribute(b):this.setAttribute(b,a)}})});a.readOnly=!0;b(a,m);F();(new MutationObserver(function(b){b.forEach(function(b){"value"!=b.attributeName?(F(),I=!0):y||(V=a.getAttribute("value"),q())})})).observe(a,l);a.addEventListener("mousedown",function(a){J=!0;setTimeout(function(){J=!1},0);if(!a.button&&ma){var b=(parseFloat(getComputedStyle(this).width)-p.width)/ma;if(b){var e=a.clientX-this.getBoundingClientRect().left-p.width/2-(V-B)*b;Math.abs(e)>p.radius&&(M=!0,this.value-=-e/b);
S=V;C=a.clientX;this.addEventListener("mousemove",c,!0);this.addEventListener("mouseup",d,!0)}}},!0);a.addEventListener("keydown",function(a){36<a.keyCode&&41>a.keyCode&&(f.call(this),M=!0,this.value=V+(38==a.keyCode||39==a.keyCode?D:-D))},!0);a.addEventListener("focus",f,!0);a.addEventListener("blur",function(){this.style.boxShadow=""},!0)}function b(a,b){for(var c in b)a.style.setProperty(c,b[c],"important")}var k=document.createElement("input");try{if(k.type="range","range"==k.type)return}catch(a){return}k.style.background=
"linear-gradient(red, red)";if(k.style.backgroundImage&&"MozAppearance"in k.style){var e,h="MacIntel"==navigator.platform,p={radius:h?9:6,width:h?22:12,height:h?16:20},n="linear-gradient(transparent "+(h?"6px, #999 6px, #999 7px, #ccc 8px, #bbb 9px, #bbb 10px, transparent 10px":"9px, #999 9px, #bbb 10px, #fff 11px, transparent 11px")+", transparent)",m={"min-width":p.width+"px","min-height":p.height+"px","max-height":p.height+"px",padding:"0 0 "+(h?"2px":"1px"),border:0,"border-radius":0,cursor:"default",
"text-indent":"-999999px"},l={attributes:!0,attributeFilter:["min","max","step","value"]},t=document.createEvent("HTMLEvents");t.initEvent("input",!0,!1);var u=document.createEvent("HTMLEvents");u.initEvent("change",!0,!1);"loading"==document.readyState?document.addEventListener("DOMContentLoaded",d,!0):d();addEventListener("pageshow",q,!0)}})();
(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:0<a?1:-1});var d={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},q=Math.pow(2,-65),c=function(a,c){for(var e=[],h=c.length-1,k=2*h-1,p=[],m=[],n=[],F=[],q=[[1,0.6,0.3,0.1],[0.4,0.6,0.6,0.4],[0.1,0.3,0.6,1]],y=0;y<=h;y++)p[y]=d.subtract(c[y],a);for(y=0;y<=h-1;y++)m[y]=d.subtract(c[y+
1],c[y]),m[y]=d.scale(m[y],3);for(y=0;y<=h-1;y++)for(var I=0;I<=h;I++)n[y]||(n[y]=[]),n[y][I]=d.dotProduct(m[y],p[I]);for(y=0;y<=k;y++)F[y]||(F[y]=[]),F[y].y=0,F[y].x=parseFloat(y)/k;k=h-1;for(p=0;p<=h+k;p++){y=Math.max(0,p-k);for(m=Math.min(p,h);y<=m;y++)j=p-y,F[y+j].y+=n[j][y]*q[j][y]}h=c.length-1;F=f(F,2*h-1,e,0);k=d.subtract(a,c[0]);n=d.square(k);for(y=q=0;y<F;y++)k=d.subtract(a,b(c,h,e[y],null,null)),k=d.square(k),k<n&&(n=k,q=e[y]);k=d.subtract(a,c[h]);k=d.square(k);k<n&&(n=k,q=1);return{location:q,
distance:n}},f=function(a,c,d,e){var h=[],k=[],p=[],m=[],n=0,H,y;y=Math.sgn(a[0].y);for(var I=1;I<=c;I++)H=Math.sgn(a[I].y),H!=y&&n++,y=H;switch(n){case 0:return 0;case 1:if(64<=e)return d[0]=(a[0].x+a[c].x)/2,1;var M,J,n=a[0].y-a[c].y;y=a[c].x-a[0].x;I=a[0].x*a[c].y-a[c].x*a[0].y;H=max_distance_below=0;for(M=1;M<c;M++)J=n*a[M].x+y*a[M].y+I,J>H?H=J:J<max_distance_below&&(max_distance_below=J);J=y;M=0*J-1*n;H=(1*(I-H)-0*J)*(1/M);J=y;y=I-max_distance_below;M=0*J-1*n;n=(1*y-0*J)*(1/M);y=Math.min(H,n);
if(Math.max(H,n)-y<q)return p=a[c].x-a[0].x,m=a[c].y-a[0].y,d[0]=0+1*(p*(a[0].y-0)-m*(a[0].x-0))*(1/(0*p-1*m)),1}b(a,c,0.5,h,k);a=f(h,c,p,e+1);c=f(k,c,m,e+1);for(e=0;e<a;e++)d[e]=p[e];for(e=0;e<c;e++)d[e+a]=m[e];return a+c},b=function(a,b,c,d,e){for(var f=[[]],h=0;h<=b;h++)f[0][h]=a[h];for(a=1;a<=b;a++)for(h=0;h<=b-a;h++)f[a]||(f[a]=[]),f[a][h]||(f[a][h]={}),f[a][h].x=(1-c)*f[a-1][h].x+c*f[a-1][h+1].x,f[a][h].y=(1-c)*f[a-1][h].y+c*f[a-1][h+1].y;if(null!=d)for(h=0;h<=b;h++)d[h]=f[h][0];if(null!=e)for(h=
0;h<=b;h++)e[h]=f[b-h][h];return f[b][0]},k={},a=function(a){var b=k[a];if(!b){var b=[],c=function(a){return function(b){return a}},d=function(){return function(a){return a}},e=function(){return function(a){return 1-a}},f=function(a){return function(b){for(var c=1,d=0;d<a.length;d++)c*=a[d](b);return c}};b.push(new function(){return function(b){return Math.pow(b,a)}});for(var h=1;h<a;h++){for(var p=[new c(a)],m=0;m<a-h;m++)p.push(new d);for(m=0;m<h;m++)p.push(new e);b.push(new f(p))}b.push(new function(){return function(b){return Math.pow(1-
b,a)}});k[a]=b}return b},e=function(b,c){for(var d=a(b.length-1),e=0,f=0,h=0;h<b.length;h++)e+=b[h].x*d[h](c),f+=b[h].y*d[h](c);return{x:e,y:f}},h=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},p=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},n=function(a,b,c){if(p(a))return{point:a[0],location:b};for(var d=e(a,b),f=0,k=0<c?1:-1,m=null;f<Math.abs(c);)b+=0.005*k,m=e(a,b),f+=h(m,d),d=m;return{point:m,location:b}},m=function(a,b){var c=e(a,b),d=e(a.slice(0,a.length-1),b),
f=d.y-c.y,c=d.x-c.x;return 0==f?Infinity:Math.atan(f/c)};window.jsBezier={distanceFromCurve:c,gradientAtPoint:m,gradientAtPointAlongCurveFrom:function(a,b,c){b=n(a,b,c);1<b.location&&(b.location=1);0>b.location&&(b.location=0);return m(a,b.location)},nearestPointOnCurve:function(a,d){var e=c(a,d);return{point:b(d,d.length-1,e.location,null,null),location:e.location}},pointOnCurve:e,pointAlongCurveFrom:function(a,b,c){return n(a,b,c).point},perpendicularToCurveAt:function(a,b,c,d){b=n(a,b,null==d?
0:d);a=m(a,b.location);d=Math.atan(-1/a);a=c/2*Math.sin(d);c=c/2*Math.cos(d);return[{x:b.point.x+c,y:b.point.y+a},{x:b.point.x-c,y:b.point.y-a}]},locationAlongCurveFrom:function(a,b,c){return n(a,b,c).location},getLength:function(a){if(p(a))return 0;for(var b=e(a,0),c=0,d=0,f=null;1>d;)d+=0.005,f=e(a,d),c+=h(f,b),b=f;return c}}})();
(function(){var d=function(a){return"[object Array]"===Object.prototype.toString.call(a)},q=function(a){return"string"===typeof a},c=function(a){return"boolean"===typeof a},f=function(a){return null==a?!1:"[object Object]"===Object.prototype.toString.call(a)},b=function(a){return"[object Date]"===Object.prototype.toString.call(a)},k=function(a){return"[object Function]"===Object.prototype.toString.call(a)},a=function(a,b,c){a=d(a)?a:[a.x,a.y];b=d(b)?b:[b.x,b.y];return c(a,b)};jsPlumbUtil={isArray:d,
isString:q,isBoolean:c,isNull:function(a){return null==a},isObject:f,isDate:b,isFunction:k,isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},clone:function(a){if(q(a))return""+a;if(c(a))return!!a;if(b(a))return new Date(a.getTime());if(k(a))return a;if(d(a)){for(var h=[],p=0;p<a.length;p++)h.push(this.clone(a[p]));return h}if(f(a)){h={};for(p in a)h[p]=this.clone(a[p]);return h}return a},merge:function(a,
b){var k=this.clone(a),n;for(n in b)if(null==k[n]||q(b[n])||c(b[n]))k[n]=b[n];else if(d(b[n])){var m=[];d(k[n])&&m.push.apply(m,k[n]);m.push.apply(m,b[n]);k[n]=m}else if(f(b[n])){f(k[n])||(k[n]={});for(var l in b[n])k[n][l]=b[n][l]}return k},copyValues:function(a,b,c){for(var d=0;d<a.length;d++)c[a[d]]=b[a[d]]},functionChain:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d][0][c[d][1]].apply(c[d][0],c[d][2]);if(f===b)return f}return a},populate:function(a,b){var c=function(a){if(null!=a){if(q(a)){var e=
a.match(/(\${.*?})/g);if(null!=e)for(var l=0;l<e.length;l++){var k=b[e[l].substring(2,e[l].length-1)];null!=k&&(a=a.replace(e[l],k))}return a}if(d(a)){e=[];for(l=0;l<a.length;l++)e.push(c(a[l]));return e}if(f(a)){e={};for(l in a)e[l]=c(a[l]);return e}return a}};return c(a)},convertStyle:function(a,b){if("transparent"===a)return a;var c=a,d=function(a){return 1==a.length?"0"+a:a},f=/(rgb[a]?\()(.*)(\))/;a.match(f)&&(f=a.match(f)[2].split(","),c="#"+d(Number(f[0]).toString(16))+d(Number(f[1]).toString(16))+
d(Number(f[2]).toString(16)),!b&&4==f.length&&(c+=d(Number(f[3]).toString(16))));return c},gradient:function(b,c){return a(b,c,function(a,b){return b[0]==a[0]?b[1]>a[1]?Infinity:-Infinity:b[1]==a[1]?b[0]>a[0]?0:-0:(b[1]-a[1])/(b[0]-a[0])})},normal:function(a,b){return-1/this.gradient(a,b)},lineLength:function(b,c){return a(b,c,function(a,b){return Math.sqrt(Math.pow(b[1]-a[1],2)+Math.pow(b[0]-a[0],2))})},segment:function(b,c){return a(b,c,function(a,b){return b[0]>a[0]?b[1]>a[1]?2:1:b[0]==a[0]?b[1]>
a[1]?2:1:b[1]>a[1]?3:4})},theta:function(b,c){return a(b,c,function(a,b){var c=jsPlumbUtil.gradient(a,b),c=Math.atan(c),d=jsPlumbUtil.segment(a,b);if(4==d||3==d)c+=Math.PI;0>c&&(c+=2*Math.PI);return c})},intersects:function(a,b){var c=a.x,d=a.x+a.w,f=a.y,l=a.y+a.h,k=b.x,u=b.x+b.w,v=b.y,x=b.y+b.h;return c<=k&&k<=d&&f<=v&&v<=l||c<=u&&u<=d&&f<=v&&v<=l||c<=k&&k<=d&&f<=x&&x<=l||c<=u&&k<=d&&f<=x&&x<=l||k<=c&&c<=u&&v<=f&&f<=x||k<=d&&d<=u&&v<=f&&f<=x||k<=c&&c<=u&&v<=l&&l<=x||k<=d&&c<=u&&v<=l&&l<=x},segmentMultipliers:[null,
[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,b,c){var d=jsPlumbUtil.gradient(a,b);b=jsPlumbUtil.segment(a,b);b=0<c?jsPlumbUtil.segmentMultipliers[b]:jsPlumbUtil.inverseSegmentMultipliers[b];var f=Math.atan(d),d=Math.abs(c*Math.sin(f))*b[1];c=Math.abs(c*Math.cos(f))*b[0];return{x:a.x+c,y:a.y+d}},perpendicularLineTo:function(a,b,c){a=jsPlumbUtil.gradient(a,b);var d=Math.atan(-1/a);a=c/2*Math.sin(d);c=c/2*Math.cos(d);return[{x:b.x+c,
y:b.y+a},{x:b.x-c,y:b.y-a}]},findWithFunction:function(a,b){if(a)for(var c=0;c<a.length;c++)if(b(a[c]))return c;return-1},clampToGrid:function(a,b,c,d,f){return[d||null==c?a:(Math.floor(a/c[0])+(a%c[0]>=c[0]/2?1:0))*c[0],f||null==c?b:(Math.floor(b/c[1])+(b%c[1]>=c[1]/2?1:0))*c[1]]},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(a){return a==b})},removeWithFunction:function(a,b){var c=jsPlumbUtil.findWithFunction(a,b);-1<c&&a.splice(c,1);return-1!=c},remove:function(a,b){var c=
jsPlumbUtil.indexOf(a,b);-1<c&&a.splice(c,1);return-1!=c},addWithFunction:function(a,b,c){-1==jsPlumbUtil.findWithFunction(a,c)&&a.push(b)},addToList:function(a,b,c,d){var f=a[b];null==f&&(f=[],a[b]=f);f[d?"unshift":"push"](c);return f},extend:function(a,b,c,f){c=c||{};b=d(b)?b:[b];for(f=0;f<b.length;f++)for(var k in b[f].prototype)b[f].prototype.hasOwnProperty(k)&&(a.prototype[k]=b[f].prototype[k]);k=function(a){return function(){for(var d=0;d<b.length;d++)b[d].prototype[a]&&b[d].prototype[a].apply(this,
arguments);return c[a].apply(this,arguments)}};for(var l in c)a.prototype[l]=k(l);return a},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},logEnabled:!0,log:function(){if(jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{console.log(arguments[arguments.length-1])}catch(a){}},group:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.group(a)},groupEnd:function(a){jsPlumbUtil.logEnabled&&
"undefined"!=typeof console&&console.groupEnd(a)},time:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.time(a)},timeEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.timeEnd(a)},removeElement:function(a){null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)},removeElements:function(a){for(var b=0;b<a.length;b++)jsPlumbUtil.removeElement(a[b])},sizeElement:function(a,b,c,d,f){a&&(a.style.height=f+"px",a.height=f,a.style.width=d+"px",a.width=d,
a.style.left=b+"px",a.style.top=c+"px")},wrap:function(a,b,c){a=a||function(){};b=b||function(){};return function(){var d=null;try{d=b.apply(this,arguments)}catch(f){jsPlumbUtil.log("jsPlumb function failed : "+f)}if(null==c||d!==c)try{d=a.apply(this,arguments)}catch(l){jsPlumbUtil.log("wrapped function failed : "+l)}return d}},EventGenerator:function(){var a={},b=!1,c=["ready"];this.bind=function(b,c,d){jsPlumbUtil.addToList(a,b,c,!0);return this};this.fire=function(d,f,l){if(!b&&a[d]){var k=a[d].length,
u=0,v=!1,x=null;if(!this.shouldFireEvent||this.shouldFireEvent(d,f,l))for(;!v&&u<k&&!1!==x;){if(-1!=jsPlumbUtil.findWithFunction(c,function(a){return a===d}))a[d][u](f,l);else try{x=a[d][u](f,l)}catch(q){jsPlumbUtil.log("jsPlumb: fire failed for event "+d+" : "+q)}u++;if(null==a||null==a[d])v=!0}}return this};this.unbind=function(b){b?delete a[b]:a={};return this};this.getListener=function(b){return a[b]};this.setSuspendEvents=function(a){b=a};this.isSuspendEvents=function(){return b};this.cleanupListeners=
function(){for(var b in a)a[b].splice(0),delete a[b]}}};jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}};Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},f=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};d.prototype=
this.prototype;f.prototype=new d;return f})})();
(function(){var d=!!document.createElement("canvas").getContext,q=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),c=function(){if(void 0===c.vml){var b=document.body.appendChild(document.createElement("div"));b.innerHTML='<v:shape id="vml_flag1" adj="1" />';var d=b.firstChild;null!=d&&null!=d.style?(d.style.behavior="url(#default#VML)",c.vml=d?"object"==typeof d.adj:!0):c.vml=!1;b.parentNode.removeChild(b)}return c.vml},f=function(b){var c=
{},a=[],d={},f={},p={};this.register=function(n){var m=jsPlumb.CurrentLibrary,l=m.getElementObject(n),t=b.getId(n),u=m.getOffset(l);c[t]||(c[t]=n,a.push(n),d[t]={});var v=function(a,c){if(a)for(var l=0;l<a.childNodes.length;l++)if(3!=a.childNodes[l].nodeType&&8!=a.childNodes[l].nodeType){var k=m.getElementObject(a.childNodes[l]),n=b.getId(a.childNodes[l],null,!0);n&&(f[n]&&0<f[n])&&(k=m.getOffset(k),d[t][n]={id:n,offset:{left:k.left-u.left,top:k.top-u.top}},p[n]=t);v(a.childNodes[l])}};v(n)};this.updateOffsets=
function(a){var c=jsPlumb.CurrentLibrary,f=c.getElementObject(a);a=c.getDOMElement(f);a=b.getId(a);var h=d[a],f=c.getOffset(f);if(h)for(var k in h)h=c.getElementObject(k),h=c.getOffset(h),d[a][k]={id:k,offset:{left:h.left-f.left,top:h.top-f.top}},p[k]=a};this.endpointAdded=function(a){var m=jsPlumb.CurrentLibrary,l=document.body,t=b.getId(a),u=m.getElementObject(a),u=jsPlumb.CurrentLibrary.getOffset(u),v=a.parentNode;for(f[t]=f[t]?f[t]+1:1;null!=v&&v!=l;){if((a=b.getId(v,null,!0))&&c[a]){l=m.getElementObject(v);
m=m.getOffset(l);null==d[a][t]&&(d[a][t]={id:t,offset:{left:u.left-m.left,top:u.top-m.top}},p[t]=a);break}v=v.parentNode}};this.endpointDeleted=function(a){if(f[a.elementId]&&(f[a.elementId]--,0>=f[a.elementId]))for(var b in d)d[b]&&(delete d[b][a.elementId],delete p[a.elementId])};this.changeId=function(a,b){d[b]=d[a];d[a]={};p[b]=p[a];p[a]=null};this.getElementsForDraggable=function(a){return d[a]};this.elementRemoved=function(a){var b=p[a];b&&(delete d[b][a],delete p[a])};this.reset=function(){c=
{};a=[];d={};f={}}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}});window.jsPlumbAdapter={headless:!1,getAttribute:function(b,c){return b.getAttribute(c)},setAttribute:function(b,c,a){b.setAttribute(c,a)},appendToRoot:function(b){document.body.appendChild(b)},getRenderModes:function(){return["canvas","svg","vml"]},isRenderModeAvailable:function(b){return{canvas:d,svg:q,vml:c()}[b]},getDragManager:function(b){return new f(b)},
setRenderMode:function(b){var c;if(b){b=b.toLowerCase();var a=this.isRenderModeAvailable("canvas"),d=this.isRenderModeAvailable("svg"),f=this.isRenderModeAvailable("vml");"svg"===b?d?c="svg":a?c="canvas":f&&(c="vml"):"canvas"===b&&a?c="canvas":f&&(c="vml")}return c}}})();
(function(){var d=jsPlumbUtil,q=function(a){return s.CurrentLibrary.getElementObject(a)},c=function(a){return s.CurrentLibrary.getDOMElement(a)},f=function(a,b){var c=s.CurrentLibrary.getOffset(q(a));if(null!=b){var d=b.getZoom();return{left:c.left/d,top:c.top/d}}return c},b=function(){return""+(new Date).getTime()},k=function(a){if(a._jsPlumb.paintStyle&&a._jsPlumb.hoverPaintStyle){var b={};s.extend(b,a._jsPlumb.paintStyle);s.extend(b,a._jsPlumb.hoverPaintStyle);delete a._jsPlumb.hoverPaintStyle;
b.gradient&&a._jsPlumb.paintStyle.fillStyle&&delete b.gradient;a._jsPlumb.hoverPaintStyle=b}},a="click dblclick mouseenter mouseout mousemove mousedown mouseup contextmenu".split(" "),e={mouseout:"mouseexit"},h=function(a){return null==a?null:a.split(" ")},p=function(a,b,c){if(a.getDefaultType){for(var e=a.getTypeDescriptor(),f=d.merge({},a.getDefaultType()),h=0,l=a._jsPlumb.types.length;h<l;h++)f=d.merge(f,a._jsPlumb.instance.getType(a._jsPlumb.types[h],e));b&&(f=d.populate(f,b));a.applyType(f,c);
c||a.repaint()}},n=window.jsPlumbUIComponent=function(b){jsPlumbUtil.EventGenerator.apply(this,arguments);var c=arguments,f=this.idPrefix+(new Date).getTime(),h=s.CurrentLibrary;this._jsPlumb={instance:b._jsPlumb,parameters:b.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:b.beforeDetach,beforeDrop:b.beforeDrop,overlayPlacements:[],hoverClass:b.hoverClass||b._jsPlumb.Defaults.HoverClass||s.Defaults.HoverClass,types:[]};this.getId=function(){return f};
if(b.events)for(var l in b.events)this.bind(l,b.events[l]);this.clone=function(){var a={};this.constructor.apply(a,c);return a}.bind(this);this.isDetachAllowed=function(a){var b=!0;if(this._jsPlumb.beforeDetach)try{b=this._jsPlumb.beforeDetach(a)}catch(c){d.log("jsPlumb: beforeDetach callback failed",c)}return b};this.isDropAllowed=function(a,b,c,e,f){var h=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:a,targetId:b,scope:c,connection:e,dropEndpoint:f});if(this._jsPlumb.beforeDrop)try{h=
this._jsPlumb.beforeDrop({sourceId:a,targetId:b,scope:c,connection:e,dropEndpoint:f})}catch(l){d.log("jsPlumb: beforeDrop callback failed",l)}return h};var k=[],p=function(a,b,c){k.push([a,b,c]);a.bind(b,c)},m=[],n=function(a,b,c){var d=e[c]||c,f=function(a){b.fire(d,b,a)};m.push([a,c,f]);h.bind(a,c,f)};this.bindListeners=function(a,b,c){p(a,"click",function(a,c){b.fire("click",b,c)});p(a,"dblclick",function(a,c){b.fire("dblclick",b,c)});p(a,"contextmenu",function(a,c){b.fire("contextmenu",b,c)});
p(a,"mouseenter",function(a,d){b.isHover()||(c(!0),b.fire("mouseenter",b,d))});p(a,"mouseexit",function(a,d){b.isHover()&&(c(!1),b.fire("mouseexit",b,d))});p(a,"mousedown",function(a,c){b.fire("mousedown",b,c)});p(a,"mouseup",function(a,c){b.fire("mouseup",b,c)})};this.unbindListeners=function(){for(var a=0;a<k.length;a++){var b=k[a];b[0].unbind(b[1],b[2])}k=null};this.attachListeners=function(b,c){for(var d=0,e=a.length;d<e;d++)n(b,c,a[d])};this.detachListeners=function(){for(var a=0;a<m.length;a++)h.unbind(m[a][0],
m[a][1],m[a][2]);m=null};this.reattachListenersForElement=function(b){if(1<arguments.length){for(var c=0,d=a.length;c<d;c++)h.unbind(b,a[c],void 0);c=1;for(d=arguments.length;c<d;c++)this.attachListeners(b,arguments[c])}}};jsPlumbUtil.extend(n,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,b){this._jsPlumb.parameters[a]=b},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},
addClass:function(a){null!=this.canvas&&s.CurrentLibrary.addClass(q(this.canvas),a)},removeClass:function(a){null!=this.canvas&&s.CurrentLibrary.removeClass(q(this.canvas),a)},setType:function(a,b,c){this._jsPlumb.types=h(a)||[];p(this,b,c)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){p(this,a,b)},hasType:function(a){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,a)},addType:function(a,b,c){a=h(a);var d=!1;if(null!=a){for(var e=0,f=a.length;e<f;e++)this.hasType(a[e])||
(this._jsPlumb.types.push(a[e]),d=!0);d&&p(this,b,c)}},removeType:function(a,b){var c=h(a),e=!1,f=function(a){a=d.indexOf(this._jsPlumb.types,a);return-1!=a?(this._jsPlumb.types.splice(a,1),!0):!1}.bind(this);if(null!=c){for(var l=0,k=c.length;l<k;l++)e=f(c[l])||e;e&&p(this,null,b)}},toggleType:function(a,b,c){a=h(a);if(null!=a){for(var d=0,e=a.length;d<e;d++){var f=jsPlumbUtil.indexOf(this._jsPlumb.types,a[d]);-1!=f?this._jsPlumb.types.splice(f,1):this._jsPlumb.types.push(a[d])}p(this,b,c)}},applyType:function(a,
b){this.setPaintStyle(a.paintStyle,b);this.setHoverPaintStyle(a.hoverPaintStyle,b);if(a.parameters)for(var c in a.parameters)this.setParameter(c,a.parameters[c])},setPaintStyle:function(a,b){this._jsPlumb.paintStyle=a;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;k(this);b||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,b){this._jsPlumb.hoverPaintStyle=a;k(this);b||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},
cleanup:function(){this.unbindListeners();this.detachListeners()},destroy:function(){this.cleanupListeners();this._jsPlumb=this.clone=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,c,d){var e=s.CurrentLibrary;if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=a;if(null!=this.canvas&&null!=this._jsPlumb.instance.hoverClass)e[a?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.hoverClass);
null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(d=d||b(),this.repaint({timestamp:d,recalc:!1})));if(this.getAttachedElements&&!c&&(c=b(),d=this.getAttachedElements()))for(var e=0,f=d.length;e<f;e++)(!this||this!=d[e])&&d[e].setHover(a,!0,c)}}});var m=function(a,b){for(var c=-1,d=0,e=a._jsPlumb.overlays.length;d<e;d++)if(b===a._jsPlumb.overlays[d].id){c=d;break}return c},l=function(a,
b){var c=s.extend({cssClass:b.cssClass,labelStyle:a.labelStyle,id:"__label",component:a,_jsPlumb:a._jsPlumb.instance},b);return new (s.Overlays[a._jsPlumb.instance.getRenderMode()].Label)(c)},t=function(a,b){var c=null;if(d.isArray(b)){var c=b[0],e=s.extend({component:a,_jsPlumb:a._jsPlumb.instance},b[1]);3==b.length&&s.extend(e,b[2]);c=new (s.Overlays[a._jsPlumb.instance.getRenderMode()][c])(e)}else c=b.constructor==String?new (s.Overlays[a._jsPlumb.instance.getRenderMode()][b])({component:a,_jsPlumb:a._jsPlumb.instance}):
b;a._jsPlumb.overlays.push(c)},u=window.OverlayCapableJsPlumbUIComponent=function(a){n.apply(this,arguments);this._jsPlumb.overlays=[];var b;b=this.defaultOverlayKeys||[];var c=a.overlays;c||(c=[]);for(var d=0,e=b.length;d<e;d++)c.unshift.apply(c,this._jsPlumb.instance.Defaults[b[d]]||s.Defaults[b[d]]||[]);if(b=c){c=0;for(d=b.length;c<d;c++)t(this,b[c])}a.label&&this._jsPlumb.overlays.push(l(this,{label:a.label,location:a.labelLocation||this.defaultLabelLocation||0.5,labelStyle:a.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle||
s.Defaults.LabelStyle}))};jsPlumbUtil.extend(u,n,{applyType:function(a,b){this.removeAllOverlays(b);if(a.overlays)for(var c=0,d=a.overlays.length;c<d;c++)this.addOverlay(a.overlays[c],!0)},setHover:function(a,b,c){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()){b=0;for(c=this._jsPlumb.overlays.length;b<c;b++)this._jsPlumb.overlays[b][a?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)}},addOverlay:function(a,b){t(this,a);b||this.repaint()},getOverlay:function(a){a=
m(this,a);return 0<=a?this._jsPlumb.overlays[a]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){(a=this.getOverlay(a))&&a.hide()},hideOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++)this._jsPlumb.overlays[a].hide()},showOverlay:function(a){(a=this.getOverlay(a))&&a.show()},showOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;a<b;a++)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var b=0,c=this._jsPlumb.overlays.length;b<
c;b++)this._jsPlumb.overlays[b].cleanup&&this._jsPlumb.overlays[b].cleanup();this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length);a||this.repaint()},removeOverlay:function(a){a=m(this,a);if(-1!=a){var b=this._jsPlumb.overlays[a];b.cleanup&&b.cleanup();this._jsPlumb.overlays.splice(a,1)}},removeOverlays:function(){for(var a=0,b=arguments.length;a<b;a++)this.removeOverlay(arguments[a])},getLabel:function(){var a=this.getOverlay("__label");return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},
setLabel:function(a){var b=this.getOverlay("__label");b?a.constructor==String||a.constructor==Function?b.setLabel(a):(a.label&&b.setLabel(a.label),a.location&&b.setLocation(a.location)):(b=l(this,a.constructor==String||a.constructor==Function?{label:a}:a),this._jsPlumb.overlays.push(b));this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(){for(var a=0;a<this._jsPlumb.overlays.length;a++)this._jsPlumb.overlays[a].cleanup(),this._jsPlumb.overlays[a].destroy();this._jsPlumb.overlays.splice(0)}});
var v=0,x=function(){var a=v+1;v++;return a},A=window.jsPlumbInstance=function(a){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,
Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};a&&s.extend(this.Defaults,a);this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};this._endpointTypes={};jsPlumbUtil.EventGenerator.apply(this);var e=this,h=x(),l=e.bind,k={},p=1,m=function(a){var b=c(a);return{el:b,id:jsPlumbUtil.isString(a)&&null==b?a:aa(b)}};this.getInstanceIndex=function(){return h};this.setZoom=function(a,b){p=a;b&&e.repaintEverything()};
this.getZoom=function(){return p};for(var w in this.Defaults)k[w]=this.Defaults[w];this.bind=function(a,b){"ready"===a&&C?b():l.apply(e,[a,b])};e.importDefaults=function(a){for(var b in a)e.Defaults[b]=a[b];return e};e.restoreDefaults=function(){e.Defaults=s.extend({},k);return e};var t=null,C=!1,B=[],v={},u={},A={},V={},Y={},L={},O=!1,R=[],X=!1,P=null,ha=this.Defaults.Scope,pa=null,wa=1,xa=function(){return""+wa++},ta=function(a,c,d,g){if(!jsPlumbAdapter.headless&&!X){a=aa(a);var f=e.dragManager.getElementsForDraggable(a);
null==d&&(d=b());var r=G({elId:a,offset:c,recalc:!1,timestamp:d});if(f)for(var h in f)G({elId:f[h].id,offset:{left:r.o.left+f[h].offset.left,top:r.o.top+f[h].offset.top},recalc:!1,timestamp:d});e.anchorManager.redraw(a,c,d,null,g);if(f)for(var l in f)e.anchorManager.redraw(f[l].id,c,d,f[l].offset,g,!0)}},ja=function(a,b){var c=null,g,f;if(d.isArray(a))for(var c=[],r=0,h=a.length;r<h;r++)g=q(a[r]),f=e.getAttribute(g,"id"),c.push(b(g,f));else g=q(a),f=e.getAttribute(g,"id"),c=b(g,f);return c},na=function(a,
b,c){if(!jsPlumbAdapter.headless){var g=s.CurrentLibrary;if((null==b?0:b)&&g.isDragSupported(a)&&!g.isAlreadyDraggable(a)){b=c||e.Defaults.DragOptions||s.Defaults.DragOptions;b=s.extend({},b);c=g.dragEvents.drag;var f=g.dragEvents.stop,r=g.dragEvents.start;b[r]=d.wrap(b[r],function(){e.setHoverSuspended(!0);e.select({source:a}).addClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:a}).addClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.setConnectionBeingDragged(!0)});
b[c]=d.wrap(b[c],function(){var b=g.getUIPosition(arguments,e.getZoom());ta(a,b,null,!0);s.CurrentLibrary.addClass(q(a),"jsPlumb_dragged")});b[f]=d.wrap(b[f],function(){var b=g.getUIPosition(arguments,e.getZoom());ta(a,b);s.CurrentLibrary.removeClass(q(a),"jsPlumb_dragged");e.setHoverSuspended(!1);e.select({source:a}).removeClass(e.elementDraggingClass+" "+e.sourceElementDraggingClass,!0);e.select({target:a}).removeClass(e.elementDraggingClass+" "+e.targetElementDraggingClass,!0);e.setConnectionBeingDragged(!1)});
c=aa(a);L[c]=!0;c=L[c];b.disabled=null==c?!1:!c;g.initDraggable(a,b,!1,e);e.dragManager.register(a)}}},qa=function(a){var b=e.Defaults.ConnectionType||e.getDefaultConnectionType(),c=e.Defaults.EndpointType||s.Endpoint,d=s.CurrentLibrary.getParent;a.parent=a.container?a.container:a.sourceEndpoint?a.sourceEndpoint.parent:a.source.constructor==c?a.source.parent:d(a.source);a._jsPlumb=e;a.newConnection=qa;a.newEndpoint=z;a.endpointsByUUID=u;a.endpointsByElement=v;a.finaliseConnection=oa;a=new b(a);a.id=
"con_"+xa();ra("click","click",a);ra("dblclick","dblclick",a);ra("contextmenu","contextmenu",a);return a},oa=function(a,b,c,d){b=b||{};a.suspendedEndpoint||B.push(a);(null==a.suspendedEndpoint||d)&&e.anchorManager.newConnection(a);ta(a.source);!b.doNotFireConnectionEvent&&!1!==b.fireEvent&&e.fire("connection",{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]},c)},ra=function(a,b,c){c.bind(a,function(a,
d){e.fire(b,c,d)})},r=function(a){if(a.container)return a.container;var b=s.CurrentLibrary.getTagName(a.source);a=s.CurrentLibrary.getParent(a.source);return b&&"td"===b.toLowerCase()?s.CurrentLibrary.getParent(a):a},z=function(a){var b=e.Defaults.EndpointType||s.Endpoint;a=s.extend({},a);a.parent=r(a);a._jsPlumb=e;a.newConnection=qa;a.newEndpoint=z;a.endpointsByUUID=u;a.endpointsByElement=v;a.finaliseConnection=oa;a.fireDetachEvent=ea;a.floatingConnections=Y;a.getParentFromParams=r;a.elementId=aa(a.source);
b=new b(a);b.id="ep_"+xa();ra("click","endpointClick",b);ra("dblclick","endpointDblClick",b);ra("contextmenu","contextmenu",b);jsPlumbAdapter.headless||e.dragManager.endpointAdded(a.source);return b},g=function(a,b,c){if((a=v[a])&&a.length)for(var d=0,e=a.length;d<e;d++){for(var g=0,f=a[d].connections.length;g<f;g++)if(b(a[d].connections[g]))return;c&&c(a[d])}},E=function(a,b,c){b="block"===b;var d=null;c&&(d=b?function(a){a.setVisible(!0,!0,!0)}:function(a){a.setVisible(!1,!0,!0)});var e=m(a);g(e.id,
function(a){b&&c?a.endpoints[a.sourceId===e.id?1:0].isVisible()&&a.setVisible(!0):a.setVisible(b)},d)},G=function(a){var b=a.timestamp,c=a.recalc,d=a.offset,g=a.elId;X&&!b&&(b=P);if(!c&&b&&b===V[g])return{o:a.offset||A[g],s:R[g]};c||!d?(a=q(g),null!=a&&(R[g]=s.CurrentLibrary.getSize(q(a)),A[g]=f(a,e),V[g]=b)):(A[g]=d,null==R[g]&&(a=q(g),null!=a&&(R[g]=s.CurrentLibrary.getSize(q(a)))),V[g]=b);A[g]&&!A[g].right&&(A[g].right=A[g].left+R[g][0],A[g].bottom=A[g].top+R[g][1],A[g].width=R[g][0],A[g].height=
R[g][1],A[g].centerx=A[g].left+A[g].width/2,A[g].centery=A[g].top+A[g].height/2);return{o:A[g],s:R[g]}},aa=function(a,b,c){if(jsPlumbUtil.isString(a))return a;if(null==a)return null;var d=jsPlumbAdapter.getAttribute(a,"id");if(!d||"undefined"===d){if(2==arguments.length&&void 0!==arguments[1])d=b;else if(1==arguments.length||3==arguments.length&&!arguments[2])d="jsPlumb_"+h+"_"+xa();c||jsPlumbAdapter.setAttribute(a,"id",d)}return d};this.setConnectionBeingDragged=function(a){O=a};this.isConnectionBeingDragged=
function(){return O};this.connectorClass="_jsPlumb_connector";this.hoverClass="_jsPlumb_hover";this.endpointClass="_jsPlumb_endpoint";this.endpointConnectedClass="_jsPlumb_endpoint_connected";this.endpointFullClass="_jsPlumb_endpoint_full";this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed";this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden";this.overlayClass="_jsPlumb_overlay";this.draggingClass="_jsPlumb_dragging";this.elementDraggingClass="_jsPlumb_element_dragging";this.sourceElementDraggingClass=
"_jsPlumb_source_element_dragging";this.targetElementDraggingClass="_jsPlumb_target_element_dragging";this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor";this.hoverSourceClass="_jsPlumb_source_hover";this.hoverTargetClass="_jsPlumb_target_hover";this.dragSelectClass="_jsPlumb_drag_select";this.Anchors={};this.Connectors={canvas:{},svg:{},vml:{}};this.Endpoints={canvas:{},svg:{},vml:{}};this.Overlays={canvas:{},svg:{},vml:{}};this.ConnectorRenderers={};this.SVG="svg";this.CANVAS="canvas";this.VML=
"vml";this.addEndpoint=function(a,b,g){g=g||{};g=s.extend({},g);s.extend(g,b);g.endpoint=g.endpoint||e.Defaults.Endpoint||s.Defaults.Endpoint;g.paintStyle=g.paintStyle||e.Defaults.EndpointStyle||s.Defaults.EndpointStyle;a=a._nodes?a._nodes:a;b=[];a=d.isArray(a)||null!=a.length&&!d.isString(a)?a:[a];for(var f=0,r=a.length;f<r;f++){var h=c(a[f]),l=aa(h);g.source=h;G({elId:l,timestamp:P});h=z(g);g.parentAnchor&&(h.parentAnchor=g.parentAnchor);d.addToList(v,l,h);var k=A[l],l={anchorLoc:h.anchor.compute({xy:[k.left,
k.top],wh:R[l],element:h,timestamp:P}),timestamp:P};X&&(l.recalc=!1);X||h.paint(l);b.push(h);h._doNotDeleteOnDetach=!0}return 1==b.length?b[0]:b};this.addEndpoints=function(a,b,c){for(var g=[],f=0,r=b.length;f<r;f++){var h=e.addEndpoint(a,b[f],c);d.isArray(h)?Array.prototype.push.apply(g,h):g.push(h)}return g};this.animate=function(a,b,c){c=c||{};var g=q(a),f=aa(a);a=s.CurrentLibrary.dragEvents.step;var r=s.CurrentLibrary.dragEvents.complete;c[a]=d.wrap(c[a],function(){e.repaint(f)});c[r]=d.wrap(c[r],
function(){e.repaint(f)});s.CurrentLibrary.animate(g,b,c)};this.checkCondition=function(a,b){var c=e.getListener(a),g=!0;if(c&&0<c.length)try{for(var f=0,r=c.length;f<r;f++)g=g&&c[f](b)}catch(h){d.log(e,"cannot check condition ["+a+"]"+h)}return g};this.checkASyncCondition=function(a,b,c,g){var f=e.getListener(a);if(f&&0<f.length)try{f[0](b,c,g)}catch(r){d.log(e,"cannot asynchronously check condition ["+a+"]"+r)}};this.connect=function(a,b){var g;a:{g=s.extend({},a);b&&s.extend(g,b);g.source&&(g.source.endpoint?
g.sourceEndpoint=g.source:g.source=c(g.source));g.target&&(g.target.endpoint?g.targetEndpoint=g.target:g.target=c(g.target));a.uuids&&(g.sourceEndpoint=u[a.uuids[0]],g.targetEndpoint=u[a.uuids[1]]);if(g.sourceEndpoint&&g.sourceEndpoint.isFull())d.log(e,"could not add connection; source endpoint is full");else if(g.targetEndpoint&&g.targetEndpoint.isFull())d.log(e,"could not add connection; target endpoint is full");else{!g.type&&g.sourceEndpoint&&(g.type=g.sourceEndpoint.connectionType);if(g.sourceEndpoint&&
g.sourceEndpoint.connectorOverlays){g.overlays=g.overlays||[];for(var f=0,r=g.sourceEndpoint.connectorOverlays.length;f<r;f++)g.overlays.push(g.sourceEndpoint.connectorOverlays[f])}!g["pointer-events"]&&(g.sourceEndpoint&&g.sourceEndpoint.connectorPointerEvents)&&(g["pointer-events"]=g.sourceEndpoint.connectorPointerEvents);var h;if(g.target&&(!g.target.endpoint&&!g.targetEndpoint&&!g.newConnection)&&(f=aa(g.target),r=Ga[f],h=Pa[f],r)){if(!Qa[f]){g=void 0;break a}r.isTarget=!0;r=null!=h?h:e.addEndpoint(g.target,
r);gb[f]&&(Pa[f]=r);g.targetEndpoint=r;r._doNotDeleteOnDetach=!1;r._deleteOnDetach=!0}if(g.source&&(!g.source.endpoint&&!g.sourceEndpoint&&!g.newConnection)&&(f=aa(g.source),r=hb[f],h=eb[f],r)){if(!ib[f]){g=void 0;break a}r=null!=h?h:e.addEndpoint(g.source,r);ob[f]&&(eb[f]=r);g.sourceEndpoint=r;r._doNotDeleteOnDetach=!1;r._deleteOnDetach=!0}break a}g=void 0}var l;g&&(l=qa(g),oa(l,g));return l};this.deleteEndpoint=function(a,b){var c=e.setSuspendDrawing(!0),d="string"==typeof a?u[a]:a;d&&e.deleteObject({endpoint:d});
c||e.setSuspendDrawing(!1,b);return e};this.deleteEveryEndpoint=function(){var a=e.setSuspendDrawing(!0),b;for(b in v){var c=v[b];if(c&&c.length)for(var d=0,g=c.length;d<g;d++)e.deleteEndpoint(c[d],!0)}v={};u={};e.anchorManager.reset();e.dragManager.reset();a||e.setSuspendDrawing(!1);return e};var ea=function(a,b,c){var d=e.Defaults.ConnectionType||e.getDefaultConnectionType();a=a.constructor==d?{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],
targetEndpoint:a.endpoints[1]}:a;b&&e.fire("connectionDetached",a,c);e.anchorManager.connectionDetached(a)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&&(u[a._jsPlumb.uuid]=null);e.anchorManager.deleteEndpoint(a);for(var b in v){var c=v[b];if(c){for(var d=[],g=0,f=c.length;g<f;g++)c[g]!=a&&d.push(c[g]);v[b]=d}1>v[b].length&&delete v[b]}};this.detach=function(){if(0!==arguments.length){var a=e.Defaults.ConnectionType||e.getDefaultConnectionType(),b=arguments[0].constructor==a,a=2==arguments.length?
b?arguments[1]||{}:arguments[0]:arguments[0],d=!1!==a.fireEvent,f=a.forceDetach;if(b=b?arguments[0]:a.connection)(f||jsPlumbUtil.functionChain(!0,!1,[[b.endpoints[0],"isDetachAllowed",[b]],[b.endpoints[1],"isDetachAllowed",[b]],[b,"isDetachAllowed",[b]],[e,"checkCondition",["beforeDetach",b]]]))&&b.endpoints[0].detach(b,!1,!0,d);else if(a=s.extend({},a),a.uuids)u[a.uuids[0]].detachFrom(u[a.uuids[1]],d);else if(a.sourceEndpoint&&a.targetEndpoint)a.sourceEndpoint.detachFrom(a.targetEndpoint);else{var r=
aa(c(a.source)),h=aa(c(a.target));g(r,function(a){(a.sourceId==r&&a.targetId==h||a.targetId==r&&a.sourceId==h)&&e.checkCondition("beforeDetach",a)&&a.endpoints[0].detach(a,!1,!0,d)})}}};this.detachAllConnections=function(a,b){b=b||{};a=c(a);var d=aa(a);if((d=v[d])&&d.length)for(var g=0,f=d.length;g<f;g++)d[g].detachAll(!1!==b.fireEvent);return e};this.detachEveryConnection=function(a){a=a||{};e.doWhileSuspended(function(){for(var b in v){var c=v[b];if(c&&c.length)for(var d=0,e=c.length;d<e;d++)c[d].detachAll(!1!==
a.fireEvent)}B.splice(0)});return e};this.deleteObject=function(a){var b={endpoints:{},connections:{},endpointCount:0,connectionCount:0},c=!1!==a.fireEvent,d=!1!==a.deleteAttachedObjects,g=function(a){if(null!=a&&null==b.connections[a.id]&&(a._jsPlumb&&a.setHover(!1),b.connections[a.id]=a,b.connectionCount++,d))for(var c=0;c<a.endpoints.length;c++)a.endpoints[c]._deleteOnDetach&&f(a.endpoints[c])},f=function(a){if(null!=a&&null==b.endpoints[a.id]&&(a._jsPlumb&&a.setHover(!1),b.endpoints[a.id]=a,b.endpointCount++,
d))for(var c=0;c<a.connections.length;c++)g(a.connections[c])};a.connection?g(a.connection):f(a.endpoint);for(var r in b.connections){var h=b.connections[r];h.endpoints[0].detachFromConnection(h);h.endpoints[1].detachFromConnection(h);jsPlumbUtil.removeWithFunction(B,function(a){return h.id==a.id});ea(h,c,a.originalEvent);h.cleanup();h.destroy()}for(var l in b.endpoints)a=b.endpoints[l],e.unregisterEndpoint(a),a.cleanup(),a.destroy();return b};this.draggable=function(a,b){var d,g,f;if("object"==typeof a&&
a.length){d=0;for(g=a.length;d<g;d++)(f=c(a[d]))&&na(f,!0,b)}else if(a._nodes){d=0;for(g=a._nodes.length;d<g;d++)(f=c(a._nodes[d]))&&na(f,!0,b)}else(f=c(a))&&na(f,!0,b);return e};this.extend=function(a,b){return s.CurrentLibrary.extend(a,b)};var ca=function(a,b,c){return function(){for(var d=arguments,e=0,g=a.length;e<g;e++)a[e][b].apply(a[e],d);return c(a)}},Ta=function(a,b){return function(){for(var c=arguments,d=[],e=0,g=a.length;e<g;e++)d.push([a[e][b].apply(a[e],c),a[e]]);return d}},ia=function(a,
b){var c=[];if(a)if("string"==typeof a){if("*"===a)return a;c.push(a)}else if(a=q(a),b)c=a;else for(var d=0,e=a.length;d<e;d++)c.push(m(a[d]).id);return c},Q=function(a,b,c){return"*"===a?!0:0<a.length?-1!=jsPlumbUtil.indexOf(a,b):!c};this.getConnections=function(a,b){a?a.constructor==String&&(a={scope:a}):a={};for(var c=a.scope||e.getDefaultScope(),c=ia(c,!0),d=ia(a.source),g=ia(a.target),f=!b&&1<c.length?{}:[],r=0,h=B.length;r<h;r++){var l=B[r];if(Q(c,l.scope)&&Q(d,l.sourceId)&&Q(g,l.targetId)){var k=
l.scope;if(!b&&1<c.length){var z=f[k];null==z&&(z=f[k]=[]);z.push(l)}else f.push(l)}}return f};var Fa=function(a,b){return function(c){for(var d=0,e=a.length;d<e;d++)c(a[d]);return b(a)}},ba=function(a){return function(b){return a[b]}},T=function(a,b){var c={length:a.length,each:Fa(a,b),get:ba(a)},d="setHover removeAllOverlays setLabel addClass addOverlay removeOverlay removeOverlays showOverlay hideOverlay showOverlays hideOverlays setPaintStyle setHoverPaintStyle setSuspendEvents setParameter setParameters setVisible repaint addType toggleType removeType removeClass setType bind unbind".split(" "),
e="getLabel getOverlay isHover getParameter getParameters getPaintStyle getHoverPaintStyle isVisible hasType getType isSuspendEvents".split(" "),g,f;g=0;for(f=d.length;g<f;g++)c[d[g]]=ca(a,d[g],b);g=0;for(f=e.length;g<f;g++)c[e[g]]=Ta(a,e[g]);return c},Ba=function(a){var b=T(a,Ba);return s.CurrentLibrary.extend(b,{setDetachable:ca(a,"setDetachable",Ba),setReattach:ca(a,"setReattach",Ba),setConnector:ca(a,"setConnector",Ba),detach:function(){for(var b=0,c=a.length;b<c;b++)e.detach(a[b])},isDetachable:Ta(a,
"isDetachable"),isReattach:Ta(a,"isReattach")})},Da=function(a){var b=T(a,Da);return s.CurrentLibrary.extend(b,{setEnabled:ca(a,"setEnabled",Da),setAnchor:ca(a,"setAnchor",Da),isEnabled:Ta(a,"isEnabled"),detachAll:function(){for(var b=0,c=a.length;b<c;b++)a[b].detachAll()},remove:function(){for(var b=0,c=a.length;b<c;b++)e.deleteObject({endpoint:a[b]})}})};this.select=function(a){a=a||{};a.scope=a.scope||"*";return Ba(a.connections||e.getConnections(a,!0))};this.selectEndpoints=function(a){a=a||{};
a.scope=a.scope||"*";var b=!a.element&&!a.source&&!a.target,c=b?"*":ia(a.element),d=b?"*":ia(a.source),b=b?"*":ia(a.target);a=ia(a.scope,!0);var e=[],g;for(g in v){var f=Q(c,g,!0),r=Q(d,g,!0),h="*"!=d,l=Q(b,g,!0),k="*"!=b;if(f||r||l){f=0;r=v[g].length;a:for(;f<r;f++)if(l=v[g][f],Q(a,l.scope,!0)){var z=k&&0<b.length&&!l.isTarget;if(h&&0<d.length&&!l.isSource||z)continue a;e.push(l)}}}return Da(e)};this.getAllConnections=function(){return B};this.getDefaultScope=function(){return ha};this.getEndpoint=
function(a){return u[a]};this.getEndpoints=function(a){return v[m(a).id]};this.getDefaultEndpointType=function(){return s.Endpoint};this.getDefaultConnectionType=function(){return s.Connection};this.getId=aa;this.getOffset=function(a){return G({elId:a})};this.getSelector=function(){return s.CurrentLibrary.getSelector.apply(null,arguments)};this.getSize=function(a){R[a]||G({elId:a});return R[a]};this.appendElement=function(a,b){e.Defaults.Container?s.CurrentLibrary.appendElement(a,e.Defaults.Container):
b?s.CurrentLibrary.appendElement(a,b):jsPlumbAdapter.appendToRoot(a)};var W=!1;this.isHoverSuspended=function(){return W};this.setHoverSuspended=function(a){W=a};a=function(a){return function(){return jsPlumbAdapter.isRenderModeAvailable(a)}};this.isCanvasAvailable=a("canvas");this.isSVGAvailable=a("svg");this.isVMLAvailable=a("vml");this.hide=function(a,b){E(a,"none",b);return e};this.idstamp=xa;this.connectorsInitialized=!1;var U=[],sb=["canvas","svg","vml"];this.registerConnectorType=function(a,
b){U.push([a,b])};this.init=function(){var a=function(a,b,c){s.Connectors[a][b]=function(){c.apply(this,arguments);s.ConnectorRenderers[a].apply(this,arguments)};jsPlumbUtil.extend(s.Connectors[a][b],[c,s.ConnectorRenderers[a]])};if(!s.connectorsInitialized){for(var b=0;b<U.length;b++)for(var c=0;c<sb.length;c++)a(sb[c],U[b][1],U[b][0]);s.connectorsInitialized=!0}C||(e.anchorManager=new s.AnchorManager({jsPlumbInstance:e}),e.setRenderMode(e.Defaults.RenderMode),C=!0,e.fire("ready",e))}.bind(this);
this.log=t;this.jsPlumbUIComponent=n;this.makeAnchor=function(){var a=function(a,b){if(s.Anchors[a])return new s.Anchors[a](b);if(!e.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+a+"'"};};if(0===arguments.length)return null;var b=arguments[0],c=arguments[1],g=arguments[2],f=null;if(b.compute&&b.getOrientation)return b;if("string"==typeof b)f=a(arguments[0],{elementId:c,jsPlumbInstance:e});else if(d.isArray(b))if(d.isArray(b[0])||d.isString(b[0]))2==b.length&&d.isString(b[0])&&
d.isObject(b[1])?(c=s.extend({elementId:c,jsPlumbInstance:e},b[1]),f=a(b[0],c)):f=new s.DynamicAnchor({anchors:b,selector:null,elementId:c,jsPlumbInstance:g});else{var r={x:b[0],y:b[1],orientation:4<=b.length?[b[2],b[3]]:[0,0],offsets:6<=b.length?[b[4],b[5]]:[0,0],elementId:c,jsPlumbInstance:g,cssClass:7==b.length?b[6]:null},f=new s.Anchor(r);f.clone=function(){return new s.Anchor(r)}}f.id||(f.id="anchor_"+xa());return f};this.makeAnchors=function(a,b,c){for(var g=[],f=0,r=a.length;f<r;f++)"string"==
typeof a[f]?g.push(s.Anchors[a[f]]({elementId:b,jsPlumbInstance:c})):d.isArray(a[f])&&g.push(e.makeAnchor(a[f],b,c));return g};this.makeDynamicAnchor=function(a,b){return new s.DynamicAnchor({anchors:a,selector:b,elementId:null,jsPlumbInstance:e})};var Ga={},Pa={},gb={},Na={},db=function(a,b){a.paintStyle=a.paintStyle||e.Defaults.EndpointStyles[b]||e.Defaults.EndpointStyle||s.Defaults.EndpointStyles[b]||s.Defaults.EndpointStyle;a.hoverPaintStyle=a.hoverPaintStyle||e.Defaults.EndpointHoverStyles[b]||
e.Defaults.EndpointHoverStyle||s.Defaults.EndpointHoverStyles[b]||s.Defaults.EndpointHoverStyle;a.anchor=a.anchor||e.Defaults.Anchors[b]||e.Defaults.Anchor||s.Defaults.Anchors[b]||s.Defaults.Anchor;a.endpoint=a.endpoint||e.Defaults.Endpoints[b]||e.Defaults.Endpoint||s.Defaults.Endpoints[b]||s.Defaults.Endpoint},hb={},eb={},ob={},ib={},fb={},Ia={},Qa={},Kb=function(a,b,c){a=a.target||a.srcElement;var d=!1;b=e.getSelector(b,c);for(c=0;c<b.length;c++)if(b[c]==a){d=!0;break}return d};this.makeTarget=
function(a,b,c){var g=s.extend({_jsPlumb:e},c);s.extend(g,b);db(g,1);var r=s.CurrentLibrary,h=g.scope||e.Defaults.Scope,l=!1!==g.deleteEndpointsOnDetach,k=g.maxConnections||-1,z=g.onMaxConnections;_doOne=function(a){var b=m(a),c=b.id,p=new n(g);a=s.extend({},g.dropOptions||{});Ga[c]=g;gb[c]=g.uniqueEndpoint;Na[c]=k;Qa[c]=!0;var E=r.dragEvents.drop;a.scope=a.scope||h;a[E]=d.wrap(a[E],function(){e.currentlyDragging=!1;var a=s.CurrentLibrary.getDropEvent(arguments),d=e.select({target:c}).length,h=q(r.getDragObject(arguments)),
k=e.getAttribute(h,"dragId"),m=e.getAttribute(h,"originalScope"),k=Y[k],E=k.endpoints[0].isFloating()?0:1,n=k.endpoints[0];g.endpoint&&s.extend({},g.endpoint);if(!Qa[c]||0<Na[c]&&d>=Na[c])return z&&z({element:b.el,connection:k},a),!1;n.anchor.locked=!1;m&&r.setDragScope(h,m);d=p.isDropAllowed(0===E?c:k.sourceId,0===E?k.targetId:c,k.scope,k,null);k.suspendedEndpoint&&(k[E?"targetId":"sourceId"]=k.suspendedEndpoint.elementId,k[E?"target":"source"]=k.suspendedEndpoint.element,k.endpoints[E]=k.suspendedEndpoint);
d?(n=r.getElementObject(b.el),d=Pa[c]||e.addEndpoint(n,g),g.uniqueEndpoint&&(Pa[c]=d),d._doNotDeleteOnDetach=!1,d._deleteOnDetach=!0,null!=d.anchor.positionFinder&&(h=r.getUIPosition(arguments,e.getZoom()),m=f(n,e),n=s.CurrentLibrary.getSize(q(n)),h=d.anchor.positionFinder(h,m,n,d.anchor.constructorParams),d.anchor.x=h[0],d.anchor.y=h[1]),k[E?"target":"source"]=d.element,k[E?"targetId":"sourceId"]=d.elementId,k.endpoints[E].detachFromConnection(k),k.endpoints[E]._deleteOnDetach&&(k.endpoints[E].deleteAfterDragStop=
!0),d.addConnection(k),k.endpoints[E]=d,k.deleteEndpointsOnDetach=l,1==E?e.anchorManager.updateOtherEndpoint(k.sourceId,k.suspendedElementId,k.targetId,k):e.anchorManager.sourceChanged(k.suspendedEndpoint.elementId,k.sourceId,k),oa(k,null,a)):k.suspendedEndpoint&&(k.isReattach()?(k.setHover(!1),k.floatingAnchorIndex=null,k.suspendedEndpoint.addConnection(k),e.repaint(n.elementId)):n.detach(k,!1,!0,!0,a))});r.initDroppable(q(b.el),a,!0)};a=a._nodes?a._nodes:a;a=a.length&&a.constructor!=String?a:[a];
b=0;for(c=a.length;b<c;b++)_doOne(a[b]);return e};this.unmakeTarget=function(a,b){var c=m(a);s.CurrentLibrary.destroyDroppable(c.el);b||(delete Ga[c.id],delete gb[c.id],delete Na[c.id],delete Qa[c.id]);return e};this.makeSource=function(a,b,g){var f=s.extend({},g);s.extend(f,b);db(f,0);var r=s.CurrentLibrary,h=f.maxConnections||-1,l=f.onMaxConnections;b=function(a){var b=a.id,g=q(a.el),k=function(){return null==f.parent?null:"parent"===f.parent?a.el.parentNode:c(f.parent)},z=null!=f.parent?e.getId(k()):
b;hb[z]=f;ob[z]=f.uniqueEndpoint;ib[z]=!0;var p=r.dragEvents.stop,m=r.dragEvents.drag,E=s.extend({},f.dragOptions||{}),n=E.drag,y=E.stop,C=null,w=!1;Ia[z]=h;E.scope=E.scope||f.scope;E[m]=d.wrap(E[m],function(){n&&n.apply(this,arguments);w=!1});E[p]=d.wrap(E[p],function(){y&&y.apply(this,arguments);e.currentlyDragging=!1;if(null!=C._jsPlumb){r.unbind(C.canvas,"mousedown");var a=C.connections[0];C.setAnchor(e.makeAnchor(f.anchor||e.Defaults.Anchor,b,e),!0);if(f.parent){var c=k();c&&(C.setElement(c,
f.container||e.Defaults.Container||s.Defaults.Container),C.endpointWillMoveAfterConnection=!1,a.previousConnection=null,jsPlumbUtil.removeWithFunction(B,function(b){return b.id===a.id}),e.anchorManager.connectionDetached({sourceId:a.sourceId,targetId:a.targetId,connection:a}),oa(a))}C.repaint();e.repaint(C.elementId);e.repaint(a.targetId)}});p=function(a){if(ib[z]){if(f.filter){var c=r.getOriginalEvent(a);if(!1===(jsPlumbUtil.isString(f.filter)?Kb(c,g,f.filter):f.filter(c,g)))return}c=e.select({source:z}).length;
if(0<=Ia[z]&&c>=Ia[z])return l&&l({element:g,maxConnections:h},a),!1;var d=G({elId:b}).o,p=e.getZoom(),c=((a.pageX||a.page.x)/p-d.left)/d.width,p=((a.pageY||a.page.y)/p-d.top)/d.height,m=c,n=p;f.parent&&(m=k(),m=aa(m),d=G({elId:m}).o,m=((a.pageX||a.page.x)-d.left)/d.width,n=((a.pageY||a.page.y)-d.top)/d.height);d={};s.extend(d,f);d.isSource=!0;d.anchor=[c,p,0,0];d.parentAnchor=[m,n,0,0];d.dragOptions=E;f.parent&&(c=d.container||e.Defaults.Container||s.Defaults.Container,d.container=c?c:s.CurrentLibrary.getParent(k()));
C=e.addEndpoint(b,d);w=!0;C.endpointWillMoveAfterConnection=null!=f.parent;C.endpointWillMoveTo=f.parent?k():null;C._doNotDeleteOnDetach=!1;C._deleteOnDetach=!0;c=function(){w&&(w=!1,e.deleteEndpoint(C))};e.registerListener(C.canvas,"mouseup",c);e.registerListener(g,"mouseup",c);r.trigger(C.canvas,"mousedown",a)}};e.registerListener(g,"mousedown",p);fb[b]=p;f.filter&&jsPlumbUtil.isString(f.filter)&&r.setDragFilter(g,f.filter)};a=a._nodes?a._nodes:a;a=a.length&&a.constructor!=String?a:[a];g=0;for(var k=
a.length;g<k;g++)b(m(a[g]));return e};this.unmakeSource=function(a,b){var c=m(a),d=fb[c.id];d&&e.unregisterListener(c.el,"mousedown",d);b||(delete hb[c.id],delete ob[c.id],delete ib[c.id],delete fb[c.id],delete Ia[c.id]);return e};this.unmakeEverySource=function(){for(var a in ib)e.unmakeSource(a,!0);hb={};ob={};ib={};fb={}};this.unmakeEveryTarget=function(){for(var a in Qa)e.unmakeTarget(a,!0);Ga={};gb={};Na={};Qa={};return e};var Ra=function(a,b,c,g){a="source"==a?ib:Qa;b=b._nodes?b._nodes:b;if(d.isString(b))a[b]=
g?!a[b]:c;else if(b.length)for(var f=0,r=b.length;f<r;f++){var h=m(b[f]);a[h.id]=g?!a[h.id]:c}return e};this.toggleSourceEnabled=function(a){Ra("source",a,null,!0);return e.isSourceEnabled(a)};this.setSourceEnabled=function(a,b){return Ra("source",a,b)};this.isSource=function(a){return null!=ib[m(a).id]};this.isSourceEnabled=function(a){return!0===ib[m(a).id]};this.toggleTargetEnabled=function(a){Ra("target",a,null,!0);return e.isTargetEnabled(a)};this.isTarget=function(a){return null!=Qa[m(a).id]};
this.isTargetEnabled=function(a){return!0===Qa[m(a).id]};this.setTargetEnabled=function(a,b){return Ra("target",a,b)};this.ready=function(a){e.bind("ready",a)};this.repaint=function(a,b,c){if("object"==typeof a&&a.length)for(var d=0,g=a.length;d<g;d++)ta(a[d],b,c);else ta(a,b,c);return e};this.repaintEverything=function(){var a=b(),c;for(c in v)ta(c,null,a);return e};this.removeAllEndpoints=function(a,b){var c=function(a){a=m(a);var d=v[a.id],g,f;if(d){g=0;for(f=d.length;g<f;g++)e.deleteEndpoint(d[g])}delete v[a.id];
if(b&&a.el&&3!=a.el.nodeType&&8!=a.el.nodeType){g=0;for(f=a.el.childNodes.length;g<f;g++)c(a.el.childNodes[g])}};c(a);return e};this.remove=function(a,b){var c=m(a);e.doWhileSuspended(function(){e.removeAllEndpoints(c.id,!0);e.dragManager.elementRemoved(c.id);delete Y[c.id];e.anchorManager.clearFor(c.id);e.anchorManager.removeFloatingConnection(c.id)},!1===b);c.el&&s.CurrentLibrary.removeElement(c.el)};var jb={};this.registerListener=function(a,b,c){s.CurrentLibrary.bind(a,b,c);jsPlumbUtil.addToList(jb,
b,{el:a,event:b,listener:c})};this.unregisterListener=function(a,b,c){s.CurrentLibrary.unbind(a,b,c);jsPlumbUtil.removeWithFunction(jb,function(a){return a.type==b&&a.listener==c})};this.reset=function(){e.deleteEveryEndpoint();e.unbind();Ga={};Pa={};gb={};Na={};hb={};eb={};ob={};Ia={};B.splice(0);for(var a in jb)for(var b=0,c=jb[a].length;b<c;b++){var d=jb[a][b];s.CurrentLibrary.unbind(d.el,d.event,d.listener)}jb={};e.anchorManager.reset();jsPlumbAdapter.headless||e.dragManager.reset()};this.setDefaultScope=
function(a){ha=a;return e};this.setDraggable=function(a,b){return ja(a,function(a,c){L[c]=b;s.CurrentLibrary.isDragSupported(a)&&s.CurrentLibrary.setDraggable(a,b)})};this.setId=function(a,b,d){var g;jsPlumbUtil.isString(a)?g=a:(a=c(a),g=e.getId(a));var f=e.getConnections({source:g,scope:"*"},!0),r=e.getConnections({target:g,scope:"*"},!0);b=""+b;d?a=c(b):(a=c(g),jsPlumbAdapter.setAttribute(a,"id",b));v[b]=v[g]||[];d=0;for(var h=v[b].length;d<h;d++)v[b][d].setElementId(b),v[b][d].setReferenceElement(a);
delete v[g];e.anchorManager.changeId(g,b);jsPlumbAdapter.headless||e.dragManager.changeId(g,b);g=function(c,d,e){for(var g=0,f=c.length;g<f;g++)c[g].endpoints[d].setElementId(b),c[g].endpoints[d].setReferenceElement(a),c[g][e+"Id"]=b,c[g][e]=a};g(f,0,"source");g(r,1,"target");e.repaint(b)};this.setDebugLog=function(a){t=a};this.setSuspendDrawing=function(a,b){var c=X;P=(X=a)?(new Date).getTime():null;b&&e.repaintEverything();return c};this.isSuspendDrawing=function(){return X};this.getSuspendedAt=
function(){return P};this.doWhileSuspended=function(a,b){var c=e.isSuspendDrawing();c||e.setSuspendDrawing(!0);try{a()}catch(g){d.log("Function run while suspended failed",g)}c||e.setSuspendDrawing(!1,!b)};this.updateOffset=G;this.getOffset=function(a){return A[a]};this.getSize=function(a){return R[a]};this.getCachedData=function(a){var b=A[a];return b?{o:b,s:R[a]}:G({elId:a})};this.timestamp=b;this.setRenderMode=function(a){pa=jsPlumbAdapter.setRenderMode(a);var b,c;pa==s.CANVAS&&(a=function(a){s.CurrentLibrary.bind(document,
a,function(d){if(!e.currentlyDragging&&pa==s.CANVAS){b=0;for(c=B.length;b<c;b++)if(B[b].getConnector()[a](d))return;for(var g in v){var f=v[g];b=0;for(c=f.length;b<c;b++)if(f[b].endpoint[a]&&f[b].endpoint[a](d))return}}})},a("click"),a("dblclick"),a("mousemove"),a("mousedown"),a("mouseup"),a("contextmenu"));return pa};this.getRenderMode=function(){return pa};this.show=function(a,b){E(a,"block",b);return e};this.getTestHarness=function(){return{endpointsByElement:v,endpointCount:function(a){return(a=
v[a])?a.length:0},connectionCount:function(a){a=a||ha;return(a=e.getConnections({scope:a}))?a.length:0},getId:aa,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}};this.toggleVisible=function(a,b){var c=null;b&&(c=function(a){var b=a.isVisible();a.setVisible(!b)});g(a,function(a){var b=a.isVisible();a.setVisible(!b)},c)};this.toggleDraggable=function(a){return ja(a,function(a,b){var c=null==L[b]?!1:L[b],c=!c;L[b]=c;s.CurrentLibrary.setDraggable(a,c);return c})};this.addListener=
this.bind;this.adjustForParentOffsetAndScroll=function(a,b){var c=null;"svg"===b.tagName.toLowerCase()&&b.parentNode?c=b.parentNode:b.offsetParent&&(c=b.offsetParent);if(null!=c){var d="body"===c.tagName.toLowerCase()?{left:0,top:0}:f(c,e),c="body"===c.tagName.toLowerCase()?{left:0,top:0}:{left:c.scrollLeft,top:c.scrollTop};a[0]=a[0]-d.left+c.left;a[1]=a[1]-d.top+c.top}return a};jsPlumbAdapter.headless||(e.dragManager=jsPlumbAdapter.getDragManager(e),e.recalculateOffsets=e.dragManager.updateOffsets)};
jsPlumbUtil.extend(A,jsPlumbUtil.EventGenerator,{setAttribute:function(a,b,c){jsPlumbAdapter.setAttribute(a,b,c)},getAttribute:function(a,b){return jsPlumbAdapter.getAttribute(s.CurrentLibrary.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=s.extend({},b)},registerConnectionTypes:function(a){for(var b in a)this._connectionTypes[b]=s.extend({},a[b])},registerEndpointType:function(a,b){this._endpointTypes[a]=s.extend({},b)},registerEndpointTypes:function(a){for(var b in a)this._endpointTypes[b]=
s.extend({},a[b])},getType:function(a,b){return"connection"===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)}});var s=new A;"undefined"!=typeof window&&(window.jsPlumb=s);s.getInstance=function(a){a=new A(a);a.init();return a};"function"===typeof define&&(define("jsplumb",[],function(){return s}),define("jsplumbinstance",[],function(){return s.getInstance()}));"undefined"!==typeof exports&&(exports.jsPlumb=s)})();
(function(){var d=function(c,b){var d=!1;return{drag:function(){if(d)return d=!1,!0;var a=jsPlumb.CurrentLibrary.getUIPosition(arguments,b.getZoom());c.element&&(jsPlumb.CurrentLibrary.setOffset(c.element,a),b.repaint(c.element,a))},stopDrag:function(){d=!0}}},q="connectorStyle connectorHoverStyle connectorOverlays connector connectionType connectorClass connectorHoverClass".split(" "),c=function(c,b){return jsPlumbUtil.findWithFunction(b.connections,function(b){return b.id==c.id})};jsPlumb.Endpoint=
function(f){var b=f._jsPlumb,k=jsPlumb.CurrentLibrary,a=k.getElementObject,e=k.getDOMElement,h=jsPlumbUtil,p=f.newConnection,n=f.newEndpoint,m=f.finaliseConnection,l=f.fireDetachEvent,t=f.floatingConnections;this.idPrefix="_jsplumb_e_";this.defaultLabelLocation=[0.5,0.5];this.defaultOverlayKeys=["Overlays","EndpointOverlays"];this.parent=f.parent;OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,
paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:f.connectorStyle,connectorHoverStyle:f.connectorHoverStyle,connectorClass:f.connectorClass,connectorHoverClass:f.connectorHoverClass,
connectorOverlays:f.connectorOverlays,connector:f.connector,connectorTooltip:f.connectorTooltip}};this._jsPlumb.enabled=!1!==f.enabled;this._jsPlumb.visible=!0;this.element=e(f.source);this._jsPlumb.uuid=f.uuid;var u=this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(f.endpointsByUUID[this._jsPlumb.uuid]=this);this.elementId=f.elementId;this._jsPlumb.connectionCost=f.connectionCost;this._jsPlumb.connectionsDirected=f.connectionsDirected;this._jsPlumb.currentAnchorClass="";this._jsPlumb.events=
{};var v=function(){k.removeClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.removeClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();this.addClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);k.addClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass)}.bind(this);this.setAnchor=function(a,c){this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);
this.anchor=this._jsPlumb.instance.makeAnchor(a,this.elementId,b);v();this.anchor.bind("anchorChanged",function(a){this.fire("anchorChanged",{endpoint:this,anchor:a});v()}.bind(this));c||this._jsPlumb.instance.repaint(this.elementId);return this};this.setAnchor(f.anchor?f.anchor:f.anchors?f.anchors:b.Defaults.Anchor||"Top",!0);var x=function(a){0<this.connections.length?this.connections[0].setHover(a,!1):this.setHover(a)}.bind(this);f._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId);
this.setEndpoint=function(a){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());var c=function(a,c){var d=b.getRenderMode();if(jsPlumb.Endpoints[d][a])return new jsPlumb.Endpoints[d][a](c);if(!b.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+a+"'"};},d={_jsPlumb:this._jsPlumb.instance,cssClass:f.cssClass,parent:f.parent,container:f.container,tooltip:f.tooltip,connectorTooltip:f.connectorTooltip,endpoint:this};h.isString(a)?this.endpoint=c(a,d):h.isArray(a)?
(d=h.merge(a[1],d),this.endpoint=c(a[0],d)):this.endpoint=a.clone();jsPlumb.extend({},d);this.endpoint.clone=function(){if(h.isString(a))return c(a,d);if(h.isArray(a))return d=h.merge(a[1],d),c(a[0],d)}.bind(this);this.type=this.endpoint.type;this.bindListeners(this.endpoint,this,x)};this.setEndpoint(f.endpoint||b.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||"Dot");this.setPaintStyle(f.paintStyle||f.style||b.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,!0);this.setHoverPaintStyle(f.hoverPaintStyle||
b.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();h.copyValues(q,f,this);this.isSource=f.isSource||!1;this.isTarget=f.isTarget||!1;this._jsPlumb.maxConnections=f.maxConnections||b.Defaults.MaxConnections;this.canvas=this.endpoint.canvas;this.addClass(b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);k.addClass(this.element,b.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.connections=f.connections||
[];this.connectorPointerEvents=f["connector-pointer-events"];this.scope=f.scope||b.getDefaultScope();this.timestamp=null;this.reattachConnections=f.reattach||b.Defaults.ReattachConnections;this.connectionsDetachable=b.Defaults.ConnectionsDetachable;if(!1===f.connectionsDetachable||!1===f.detachable)this.connectionsDetachable=!1;this.dragAllowedWhenFull=f.dragAllowedWhenFull||!0;f.onMaxConnections&&this.bind("maxConnections",f.onMaxConnections);this.addConnection=function(a){this.connections.push(a);
this[(0<this.connections.length?"add":"remove")+"Class"](b.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](b.endpointFullClass)};this.detachFromConnection=function(a,d){d=null==d?c(a,this):d;0<=d&&(this.connections.splice(d,1),this[(0<this.connections.length?"add":"remove")+"Class"](b.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](b.endpointFullClass))};this.detach=function(a,d,e,f,h,l,k){l=null==k?c(a,this):k;k=!1;f=!1!==f;if(0<=l&&(e||a._forceDetach||a.isDetachable()&&
a.isDetachAllowed(a)&&this.isDetachAllowed(a)))b.deleteObject({connection:a,fireEvent:!d&&f,originalEvent:h}),k=!0;return k};this.detachAll=function(a,b){for(;0<this.connections.length;)this.detach(this.connections[0],!1,!0,!1!==a,b,this,0);return this};this.detachFrom=function(a,b,c){for(var d=[],e=0;e<this.connections.length;e++)(this.connections[e].endpoints[1]==a||this.connections[e].endpoints[0]==a)&&d.push(this.connections[e]);for(a=0;a<d.length;a++)this.detach(d[a],!1,!0,b,c);return this};
this.getElement=function(){return this.element};this.setElement=function(a){var c=this._jsPlumb.instance.getId(a),d=this.elementId;h.removeWithFunction(f.endpointsByElement[this.elementId],function(a){return a.id==this.id}.bind(this));this.element=e(a);this.elementId=b.getId(this.element);b.anchorManager.rehomeEndpoint(this,d,this.element);b.dragManager.endpointAdded(this.element);h.addToList(f.endpointsByElement,c,this);return this};this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),
b=this.anchor.getOrientation(this),c=this.anchor.getCssClass();return n({anchor:{bind:function(){},compute:function(){return[a[0],a[1]]},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return b},getCssClass:function(){return c}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:f.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope})};this.isFloating=function(){return null!=this.anchor&&this.anchor.isFloating};this.connectorSelector=function(){var a=
this.connections[0];return this.isTarget&&a?a:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:a};this.setStyle=this.setPaintStyle;this.repaint=this.paint=function(a){a=a||{};var c=a.timestamp,d=!1!==a.recalc;if(!c||this.timestamp!==c){var e=b.updateOffset({elId:this.elementId,timestamp:c}),f=a.offset?a.offset.o:e.o;if(null!=f){var h=a.anchorPoint,l=a.connectorPaintStyle;if(null==h){e={xy:[f.left,f.top],wh:a.dimensions||e.s,element:this,timestamp:c};if(d&&
this.anchor.isDynamic&&0<this.connections.length){a=a.elementWithPrecedence;d=0;if(null!=a)for(f=0;f<this.connections.length;f++)if(this.connections[f].sourceId==a||this.connections[f].targetId==a){d=f;break}a=this.connections[d];d=a.endpoints[0]==this?1:0;h=b.getCachedData(0===d?a.sourceId:a.targetId);f=h.o;h=h.s;e.txy=[f.left,f.top];e.twh=h;e.tElement=a.endpoints[d]}h=this.anchor.compute(e)}this.endpoint.compute(h,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,l||this.paintStyleInUse);
this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=c;for(c=0;c<this._jsPlumb.overlays.length;c++)l=this._jsPlumb.overlays[c],l.isVisible()&&(this._jsPlumb.overlayPlacements[c]=l.draw(this.endpoint,this._jsPlumb.paintStyleInUse),l.paint(this._jsPlumb.overlayPlacements[c]))}}};if(k.isDragSupported(this.element)&&(this.isSource||this.isTarget)){var A={id:null,element:null},s=null,K=!1,F=null,H=d(A,b),y=function(){s=this.connectorSelector();var c=!0;this.isEnabled()||(c=!1);
null==s&&!this.isSource&&(c=!1);this.isSource&&(this.isFull()&&!this.dragAllowedWhenFull)&&(c=!1);null!=s&&!s.isDetachable()&&(c=!1);if(!1===c)return k.stopDrag&&k.stopDrag(),H.stopDrag(),!1;for(c=0;c<this.connections.length;c++)this.connections[c].setHover(!1);this.addClass("endpointDrag");b.setConnectionBeingDragged(!0);s&&(!this.isFull()&&this.isSource)&&(s=null);b.updateOffset({elId:this.elementId});u=this.makeInPlaceCopy();u.referenceEndpoint=this;u.paint();var c=A,d=this.parent,e=b,l=document.createElement("div");
l.style.position="absolute";jsPlumb.CurrentLibrary.getElementObject(l);jsPlumb.CurrentLibrary.appendElement(l,d);d=e.getId(l);e.updateOffset({elId:d});c.id=d;c.element=l;e=a(u.canvas);c=jsPlumb.CurrentLibrary.getOffset(e,b);l=b.adjustForParentOffsetAndScroll([c.left,c.top],u.canvas);c=a(this.canvas);k.setOffset(A.element,{left:l[0],top:l[1]});this.parentAnchor&&(this.anchor=b.makeAnchor(this.parentAnchor,this.elementId,b));b.setAttribute(this.canvas,"dragId",A.id);b.setAttribute(this.canvas,"elId",
this.elementId);var l=this._jsPlumb,d=this.getPaintStyle(),m=this.endpoint,y=A.element,w=n,v=new jsPlumb.FloatingAnchor({reference:this.anchor,referenceCanvas:this.canvas,jsPlumbInstance:b}),d=w({paintStyle:d,endpoint:m,anchor:v,source:y,scope:"__floating"});l.floatingEndpoint=d;this.canvas.style.visibility="hidden";null==s?(this.anchor.locked=!0,this.setHover(!1,!1),s=p({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:A.element,
anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:f.connectorStyle,hoverPaintStyle:f.connectorHoverStyle,connector:f.connector,overlays:f.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass}),s.addClass(b.draggingClass),this._jsPlumb.floatingEndpoint.addClass(b.draggingClass),b.fire("connectionDrag",s)):(K=!0,s.setHover(!1),C(e,!1,!0),e=s.endpoints[0].id==this.id?0:1,s.floatingAnchorIndex=e,this.detachFromConnection(s),l=
jsPlumb.CurrentLibrary.getDragScope(c),b.setAttribute(this.canvas,"originalScope",l),d=k.getDropScope(c),k.setDragScope(c,d),b.fire("connectionDrag",s),0===e?(F=[s.source,s.sourceId,c,l],s.source=A.element,s.sourceId=A.id):(F=[s.target,s.targetId,c,l],s.target=A.element,s.targetId=A.id),s.endpoints[0===e?1:0].anchor.locked=!0,s.suspendedEndpoint=s.endpoints[e],s.suspendedElement=s.endpoints[e].getElement(),s.suspendedElementId=s.endpoints[e].elementId,s.suspendedElementType=0===e?"source":"target",
s.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=s.suspendedEndpoint,s.endpoints[e]=this._jsPlumb.floatingEndpoint,s.addClass(b.draggingClass),this._jsPlumb.floatingEndpoint.addClass(b.draggingClass));t[A.id]=s;b.anchorManager.addFloatingConnection(A.id,s);h.addToList(f.endpointsByElement,A.id,this._jsPlumb.floatingEndpoint);b.currentlyDragging=!0}.bind(this),I=f.dragOptions||{},M=jsPlumb.extend({},k.defaultDragOptions),J=k.dragEvents.start,w=k.dragEvents.stop,S=k.dragEvents.drag,
I=jsPlumb.extend(M,I);I.scope=I.scope||this.scope;I[J]=h.wrap(I[J],y,!1);I[S]=h.wrap(I[S],H.drag);I[w]=h.wrap(I[w],function(){b.setConnectionBeingDragged(!1);var a=k.getDropEvent(arguments),c=null==s.floatingAnchorIndex?1:s.floatingAnchorIndex;s.endpoints[0===c?1:0].anchor.locked=!1;s.removeClass(b.draggingClass);if(s.endpoints[c]==this._jsPlumb.floatingEndpoint&&(K&&s.suspendedEndpoint)&&(0===c?(s.source=F[0],s.sourceId=F[1]):(s.target=F[0],s.targetId=F[1]),k.setDragScope(F[2],F[3]),s.endpoints[c]=
s.suspendedEndpoint,s.isReattach()||s._forceReattach||s._forceDetach||!s.endpoints[0===c?1:0].detach(s,!1,!1,!0,a)))s.setHover(!1),s.floatingAnchorIndex=null,s._forceDetach=null,s._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(s),s.suspendedEndpoint.addConnection(s),b.repaint(F[1]);b.remove(A.element,!1);b.remove(u.canvas,!1);this.deleteAfterDragStop?b.deleteObject({endpoint:this}):this._jsPlumb&&(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility="visible",
this.anchor.locked=!1,this.paint({recalc:!1}));b.fire("connectionDragStop",s);b.currentlyDragging=!1;s=null}.bind(this));y=a(this.canvas);k.initDraggable(y,I,!0,b)}var C=function(c,d,e,p){if((this.isTarget||d)&&k.isDropSupported(this.element)){d=f.dropOptions||b.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;d=jsPlumb.extend({},d);d.scope=d.scope||this.scope;var n=k.dragEvents.drop,y=k.dragEvents.over,C=k.dragEvents.out,w=function(){this.removeClass(b.endpointDropAllowedClass);this.removeClass(b.endpointDropForbiddenClass);
var c=k.getDropEvent(arguments),d=a(k.getDragObject(arguments)),e=b.getAttribute(d,"dragId");b.getAttribute(d,"elId");var f=b.getAttribute(d,"originalScope"),h=t[e];if(h.suspendedEndpoint&&(h.suspendedEndpoint.id==this.id||this.referenceEndpoint&&h.suspendedEndpoint.id==this.referenceEndpoint.id))h._forceReattach=!0;else if(null!=h){var n=null==h.floatingAnchorIndex?1:h.floatingAnchorIndex;f&&jsPlumb.CurrentLibrary.setDragScope(d,f);d=null!=p?p.isEnabled():!0;this.isFull()&&this.fire("maxConnections",
{endpoint:this,connection:h,maxConnections:this._jsPlumb.maxConnections},c);if(!this.isFull()&&(0!==n||this.isSource)&&(1!=n||this.isTarget)&&d){d=!0;if(h.suspendedEndpoint&&h.suspendedEndpoint.id!=this.id&&(0===n?(h.source=h.suspendedEndpoint.element,h.sourceId=h.suspendedEndpoint.elementId):(h.target=h.suspendedEndpoint.element,h.targetId=h.suspendedEndpoint.elementId),!h.isDetachAllowed(h)||!h.endpoints[n].isDetachAllowed(h)||!h.suspendedEndpoint.isDetachAllowed(h)||!b.checkCondition("beforeDetach",
h)))d=!1;0===n?(h.source=this.element,h.sourceId=this.elementId):(h.target=this.element,h.targetId=this.elementId);e=function(){h.endpoints[n].detachFromConnection(h);h.suspendedEndpoint&&h.suspendedEndpoint.detachFromConnection(h);h.endpoints[n]=this;this.addConnection(h);var a=this.getParameters(),d;for(d in a)h.setParameter(d,a[d]);h.suspendedEndpoint?(a=h.suspendedEndpoint.getElement(),d=h.suspendedEndpoint.elementId,l({source:0===n?a:h.source,target:1==n?a:h.target,sourceId:0===n?d:h.sourceId,
targetId:1==n?d:h.targetId,sourceEndpoint:0===n?h.suspendedEndpoint:h.endpoints[0],targetEndpoint:1==n?h.suspendedEndpoint:h.endpoints[1],connection:h},!0,c)):a.draggable&&jsPlumb.CurrentLibrary.initDraggable(this.element,I,!0,b);1==n?b.anchorManager.updateOtherEndpoint(h.sourceId,h.suspendedElementId,h.targetId,h):b.anchorManager.sourceChanged(h.suspendedEndpoint.elementId,h.sourceId,h);m(h,null,c,!0);h.floatingAnchorIndex=null}.bind(this);(d=d&&this.isDropAllowed(h.sourceId,h.targetId,h.scope,h,
this))?e():(h.suspendedEndpoint&&(h.endpoints[n]=h.suspendedEndpoint,h.setHover(!1),h._forceDetach=!0,0===n?(h.source=h.suspendedEndpoint.element,h.sourceId=h.suspendedEndpoint.elementId):(h.target=h.suspendedEndpoint.element,h.targetId=h.suspendedEndpoint.elementId),h.suspendedEndpoint.addConnection(h),h.endpoints[0].repaint(),h.repaint(),b.repaint(h.sourceId),h._forceDetach=!1),h.floatingAnchorIndex=null)}b.currentlyDragging=!1}}.bind(this);d[n]=h.wrap(d[n],w);d[y]=h.wrap(d[y],function(){var a=
k.getDragObject(arguments),a=b.getAttribute(a,"dragId"),a=t[a];if(null!=a){var c=null==a.floatingAnchorIndex?1:a.floatingAnchorIndex;if(this.isTarget&&0!==a.floatingAnchorIndex||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id){var d=b.checkCondition("checkDropAllowed",{sourceEndpoint:a.endpoints[c],targetEndpoint:this,connection:a});this[(d?"add":"remove")+"Class"](b.endpointDropAllowedClass);this[(d?"remove":"add")+"Class"](b.endpointDropForbiddenClass);
a.endpoints[c].anchor.over(this.anchor,this)}}}.bind(this));d[C]=h.wrap(d[C],function(){var a=k.getDragObject(arguments),a=b.getAttribute(a,"dragId"),a=t[a];if(null!=a){var c=null==a.floatingAnchorIndex?1:a.floatingAnchorIndex;if(this.isTarget&&0!==a.floatingAnchorIndex||a.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==a.suspendedEndpoint.id)this.removeClass(b.endpointDropAllowedClass),this.removeClass(b.endpointDropForbiddenClass),a.endpoints[c].anchor.out()}}.bind(this));
k.initDroppable(c,d,!0,e)}}.bind(this);C(a(this.canvas),!0,!(f._transient||this.anchor.isFloating),this);f.type&&this.addType(f.type,f.data,b.isSuspendDrawing());return this};jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,{getTypeDescriptor:function(){return"endpoint"},isVisible:function(){return this._jsPlumb.visible},setVisible:function(c,b,d){this._jsPlumb.visible=c;this.canvas&&(this.canvas.style.display=c?"block":"none");this[c?"showOverlays":"hideOverlays"]();if(!b)for(b=
0;b<this.connections.length;b++)if(this.connections[b].setVisible(c),!d){var a=this===this.connections[b].endpoints[0]?1:0;1==this.connections[b].endpoints[a].connections.length&&this.connections[b].endpoints[a].setVisible(c,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(c,b){null!=c.maxConnections&&(this._jsPlumb.maxConnections=c.maxConnections);c.scope&&(this.scope=c.scope);jsPlumbUtil.copyValues(q,c,this)},isEnabled:function(){return this._jsPlumb.enabled},
setEnabled:function(c){this._jsPlumb.enabled=c},cleanup:function(){jsPlumb.CurrentLibrary.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass);this.anchor=null;this.endpoint.cleanup();this.endpoint.destroy();this.endpoint=null;var c=jsPlumb.CurrentLibrary.getElementObject(this.canvas);jsPlumb.CurrentLibrary.destroyDraggable(c);jsPlumb.CurrentLibrary.destroyDroppable(c)},setHover:function(c){this.endpoint&&(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())&&
this.endpoint.setHover(c)},isFull:function(){return!(this.isFloating()||1>this._jsPlumb.maxConnections||this.connections.length<this._jsPlumb.maxConnections)},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(c){this._jsPlumb.connectionCost=c},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(c){this._jsPlumb.connectionsDirected=c},setElementId:function(c){this.elementId=c;this.anchor.elementId=c},
setReferenceElement:function(c){this.element=jsPlumb.CurrentLibrary.getDOMElement(c)},setDragAllowedWhenFull:function(c){this.dragAllowedWhenFull=c},equals:function(c){return this.anchor.equals(c.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(c){return this.anchor.compute(c)}})})();
(function(){var d=function(c,d,b,k){if(!c.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[d][b])throw{msg:"jsPlumb: unknown connector type '"+b+"'"};return new jsPlumb.Connectors[d][b](k)},q=function(c,d,b,k,a,e,h,p,n,m){var l;k?(b.endpoints[a]=k,k.addConnection(b)):(e.endpoints||(e.endpoints=[null,null]),k=e.endpoints[a]||e.endpoint||c.Defaults.Endpoints[a]||jsPlumb.Defaults.Endpoints[a]||c.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,e.endpointStyles||(e.endpointStyles=[null,null]),e.endpointHoverStyles||
(e.endpointHoverStyles=[null,null]),l=e.endpointStyles[a]||e.endpointStyle||c.Defaults.EndpointStyles[a]||jsPlumb.Defaults.EndpointStyles[a]||c.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,null==l.fillStyle&&null!=n&&(l.fillStyle=n.strokeStyle),null==l.outlineColor&&null!=n&&(l.outlineColor=n.outlineColor),null==l.outlineWidth&&null!=n&&(l.outlineWidth=n.outlineWidth),n=e.endpointHoverStyles[a]||e.endpointHoverStyle||c.Defaults.EndpointHoverStyles[a]||jsPlumb.Defaults.EndpointHoverStyles[a]||
c.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,null!=m&&(null==n&&(n={}),null==n.fillStyle&&(n.fillStyle=m.strokeStyle)),p=e.anchors?e.anchors[a]:e.anchor?e.anchor:(c.Defaults.Anchors[a]?c.makeAnchor(c.Defaults.Anchors[a],p,c):null)||(jsPlumb.Defaults.Anchors[a]?c.makeAnchor(jsPlumb.Defaults.Anchors[a],p,c):null)||(c.Defaults.Anchor?c.makeAnchor(c.Defaults.Anchor,p,c):null)||(jsPlumb.Defaults.Anchor?c.makeAnchor(jsPlumb.Defaults.Anchor,p,c):null),l=d({paintStyle:l,hoverPaintStyle:n,
endpoint:k,connections:[b],uuid:e.uuids?e.uuids[a]:null,anchor:p,source:h,scope:e.scope,container:e.container,reattach:e.reattach||c.Defaults.ReattachConnections,detachable:e.detachable||c.Defaults.ConnectionsDetachable}),b.endpoints[a]=l,!1===e.drawEndpoints&&l.setVisible(!1,!0,!0));return l};jsPlumb.Connection=function(c){var d=c.newEndpoint,b=jsPlumb.CurrentLibrary.getDOMElement,k=jsPlumbUtil;this.connector=null;this.idPrefix="_jsplumb_c_";this.defaultLabelLocation=0.5;this.defaultOverlayKeys=
["Overlays","ConnectionOverlays"];this.parent=c.parent;this.previousConnection=c.previousConnection;this.source=b(c.source);this.target=b(c.target);c.sourceEndpoint&&(this.source=c.sourceEndpoint.endpointWillMoveTo||c.sourceEndpoint.getElement());c.targetEndpoint&&(this.target=c.targetEndpoint.getElement());OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.sourceId=this._jsPlumb.instance.getId(this.source);this.targetId=this._jsPlumb.instance.getId(this.target);this.scope=c.scope;this.endpoints=
[];this.endpointStyles=[];b=this._jsPlumb.instance;this._jsPlumb.visible=!0;this._jsPlumb.editable=!0===c.editable;this._jsPlumb.params={parent:c.parent,cssClass:c.cssClass,container:c.container,"pointer-events":c["pointer-events"],editorParams:c.editorParams};this._jsPlumb.lastPaintedAt=null;this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||
jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};var a=q(b,d,this,c.sourceEndpoint,0,c,this.source,this.sourceId,c.paintStyle,c.hoverPaintStyle);a&&k.addToList(c.endpointsByElement,this.sourceId,a);(d=q(b,d,this,c.targetEndpoint,1,c,this.target,this.targetId,
c.paintStyle,c.hoverPaintStyle))&&k.addToList(c.endpointsByElement,this.targetId,d);this.scope||(this.scope=this.endpoints[0].scope);null!=c.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=c.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=c.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||
c.connector||b.Defaults.Connector||jsPlumb.Defaults.Connector,!0);c.path&&this.connector.setPath(c.path);this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||c.paintStyle||b.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,!0);this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||c.hoverPaintStyle||b.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,!0);this._jsPlumb.paintStyleInUse=this.getPaintStyle();var e=
b.getSuspendedAt();b.updateOffset({elId:this.sourceId,timestamp:e});b.updateOffset({elId:this.targetId,timestamp:e});if(!b.isSuspendDrawing()){var d=b.getCachedData(this.sourceId),k=d.o,d=d.s,h=b.getCachedData(this.targetId),a=h.o,h=h.s,e=e||b.timestamp(),p=this.endpoints[0].anchor.compute({xy:[k.left,k.top],wh:d,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[a.left,a.top],twh:h,tElement:this.endpoints[1],timestamp:e});this.endpoints[0].paint({anchorLoc:p,timestamp:e});p=this.endpoints[1].anchor.compute({xy:[a.left,
a.top],wh:h,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[k.left,k.top],twh:d,tElement:this.endpoints[0],timestamp:e});this.endpoints[1].paint({anchorLoc:p,timestamp:e})}this._jsPlumb.detachable=b.Defaults.ConnectionsDetachable;!1===c.detachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[0].connectionsDetachable&&(this._jsPlumb.detachable=!1);!1===this.endpoints[1].connectionsDetachable&&(this._jsPlumb.detachable=!1);this._jsPlumb.reattach=c.reattach||this.endpoints[0].reattachConnections||
this.endpoints[1].reattachConnections||b.Defaults.ReattachConnections;this._jsPlumb.cost=c.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=c.directed;null==c.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());b=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(b,this.endpoints[0].getParameters());jsPlumb.extend(b,this.getParameters());this.setParameters(b);(b=c.type||this.endpoints[0].connectionType||this.endpoints[1].connectionType)&&
this.addType(b,c.data,!0)};jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(c,d){null!=c.detachable&&this.setDetachable(c.detachable);null!=c.reattach&&this.setReattach(c.reattach);c.scope&&(this.scope=c.scope);this.setConnector(c.connector,d)},getTypeDescriptor:function(){return"connection"},getAttachedElements:function(){return this.endpoints},addClass:function(c,d){d&&(this.endpoints[0].addClass(c),this.endpoints[1].addClass(c),this.suspendedEndpoint&&
this.suspendedEndpoint.addClass(c));this.connector&&this.connector.addClass(c)},removeClass:function(c,d){d&&(this.endpoints[0].removeClass(c),this.endpoints[1].removeClass(c),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(c));this.connector&&this.connector.removeClass(c)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(c){this._jsPlumb.visible=c;this[c?"showOverlays":"hideOverlays"]();this.connector&&this.connector.canvas&&(this.connector.canvas.style.display=c?
"block":"none");this.repaint()},setEditable:function(c){this.connector&&this.connector.isEditable()&&(this._jsPlumb.editable=c);return this._jsPlumb.editable},isEditable:function(){return this._jsPlumb.editable},editStarted:function(){this.setSuspendEvents(!0);this.fire("editStarted",{path:this.connector.getPath()});this._jsPlumb.instance.setHoverSuspended(!0)},editCompleted:function(){this.fire("editCompleted",{path:this.connector.getPath()});this.setSuspendEvents(!1);this.setHover(!1);this._jsPlumb.instance.setHoverSuspended(!1)},
editCanceled:function(){this.fire("editCanceled",{path:this.connector.getPath()});this.setHover(!1);this._jsPlumb.instance.setHoverSuspended(!1)},cleanup:function(){this.target=this.source=this.endpoints=null;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());this.connector=null},isDetachable:function(){return!0===this._jsPlumb.detachable},setDetachable:function(c){this._jsPlumb.detachable=!0===c},isReattach:function(){return!0===this._jsPlumb.reattach},setReattach:function(c){this._jsPlumb.reattach=
!0===c},setHover:function(c){this.connector&&(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())&&(this.connector.setHover(c),jsPlumb.CurrentLibrary[c?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),jsPlumb.CurrentLibrary[c?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getCost:function(){return this._jsPlumb.cost},setCost:function(c){this._jsPlumb.cost=c},isDirected:function(){return!0===this._jsPlumb.directed},moveParent:function(c){var d=
jsPlumb.CurrentLibrary;d.getParent(this.connector.canvas);this.connector.bgCanvas&&(d.removeElement(this.connector.bgCanvas),d.appendElement(this.connector.bgCanvas,c));d.removeElement(this.connector.canvas);d.appendElement(this.connector.canvas,c);for(var b=0;b<this._jsPlumb.overlays.length;b++)this._jsPlumb.overlays[b].isAppendedAtTopLevel&&(d.removeElement(this._jsPlumb.overlays[b].canvas),d.appendElement(this._jsPlumb.overlays[b].canvas,c),this._jsPlumb.overlays[b].reattachListeners&&this._jsPlumb.overlays[b].reattachListeners(this.connector));
this.connector.reattachListeners&&this.connector.reattachListeners()},getConnector:function(){return this.connector},setConnector:function(c,f){var b=jsPlumbUtil;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());var k={_jsPlumb:this._jsPlumb.instance,parent:this._jsPlumb.params.parent,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},a=this._jsPlumb.instance.getRenderMode();b.isString(c)?
this.connector=d(this._jsPlumb.instance,a,c,k):b.isArray(c)&&(this.connector=1==c.length?d(this._jsPlumb.instance,a,c[0],k):d(this._jsPlumb.instance,a,c[0],b.merge(c[1],k)));this.bindListeners(this.connector,this,function(a){this.setHover(a,!1)}.bind(this));this.canvas=this.connector.canvas;this._jsPlumb.editable&&null!=jsPlumb.ConnectorEditors&&jsPlumb.ConnectorEditors[this.connector.type]&&this.connector.isEditable()?new jsPlumb.ConnectorEditors[this.connector.type]({connector:this.connector,connection:this,
params:this._jsPlumb.params.editorParams||{}}):editable=!1;f||this.repaint()},paint:function(c){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){c=c||{};var d=c.ui,b=c.recalc,k=c.timestamp,a=this.targetId,e=this.sourceId;if(null==k||k!=this._jsPlumb.lastPaintedAt){d=this._jsPlumb.instance.updateOffset({elId:e,offset:d,recalc:b,timestamp:k}).o;a=this._jsPlumb.instance.updateOffset({elId:a,timestamp:k}).o;e=this.endpoints[0];b=this.endpoints[1];c.clearEdits&&(e.anchor.clearUserDefinedLocation(),
b.anchor.clearUserDefinedLocation(),this.connector.setEdited(!1));e=e.anchor.getCurrentLocation({xy:[d.left,d.top],wh:[d.width,d.height],element:e,timestamp:k});b=b.anchor.getCurrentLocation({xy:[a.left,a.top],wh:[a.width,a.height],element:b,timestamp:k});this.connector.resetBounds();this.connector.compute({sourcePos:e,targetPos:b,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:d,targetInfo:a,clearEdits:!0===c.clearEdits});
d=c=Infinity;b=a=-Infinity;for(e=0;e<this._jsPlumb.overlays.length;e++){var h=this._jsPlumb.overlays[e];h.isVisible()&&(this._jsPlumb.overlayPlacements[e]=h.draw(this.connector,this._jsPlumb.paintStyleInUse),c=Math.min(c,this._jsPlumb.overlayPlacements[e].minX),a=Math.max(a,this._jsPlumb.overlayPlacements[e].maxX),d=Math.min(d,this._jsPlumb.overlayPlacements[e].minY),b=Math.max(b,this._jsPlumb.overlayPlacements[e].maxY))}e=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2;h=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||
0);c={xmin:Math.min(this.connector.bounds.minX-(e+h),c),ymin:Math.min(this.connector.bounds.minY-(e+h),d),xmax:Math.max(this.connector.bounds.maxX+(e+h),a),ymax:Math.max(this.connector.bounds.maxY+(e+h),b)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,c);for(d=0;d<this._jsPlumb.overlays.length;d++)a=this._jsPlumb.overlays[d],a.isVisible()&&a.paint(this._jsPlumb.overlayPlacements[d],c)}this._jsPlumb.lastPaintedAt=k}},repaint:function(c){c=c||{};this.paint({elId:this.sourceId,recalc:!1!==
c.recalc,timestamp:c.timestamp,clearEdits:c.clearEdits})}})})();
(function(){jsPlumb.AnchorManager=function(c){var d={},b={},k={},a={},e={},h={},p=this,n={},m=c.jsPlumbInstance,l=jsPlumb.CurrentLibrary,t={},u=function(a,b,c,d,e,f){if(a===b)return{orientation:"identity",a:["top","top"]};var h=Math.atan2(d.centery-c.centery,d.centerx-c.centerx),l=Math.atan2(c.centery-d.centery,c.centerx-d.centerx);a=c.left<=d.left&&c.right>=d.left||c.left<=d.right&&c.right>=d.right||c.left<=d.left&&c.right>=d.right||d.left<=c.left&&d.right>=c.right;b=c.top<=d.top&&c.bottom>=d.top||
c.top<=d.bottom&&c.bottom>=d.bottom||c.top<=d.top&&c.bottom>=d.bottom||d.top<=c.top&&d.bottom>=c.bottom;h={orientation:"diagonal",theta:h,theta2:l};!a&&!b?d.left>c.left&&d.top>c.top?h.a=["right","top"]:d.left>c.left&&c.top>d.top?h.a=["top","left"]:d.left<c.left&&d.top<c.top?h.a=["top","right"]:d.left<c.left&&d.top>c.top&&(h.a=["left","top"]):a?(h.orientation="horizontal",h.a=c.top<d.top?["bottom","top"]:["top","bottom"]):(h.orientation="vertical",h.a=c.left<d.left?["right","left"]:["left","right"]);
h.a=[e.isContinuous?e.verifyEdge(h.a[0]):h.a[0],f.isContinuous?f.verifyEdge(h.a[1]):h.a[1]];return h},v=function(a,b,c,d,e,f,h){a=[];for(var l=b[e?0:1]/(d.length+1),k=0;k<d.length;k++){var p=(k+1)*l,m=f*b[e?1:0];h&&(p=b[e?0:1]-p);var n=e?p:m,p=e?m:p;a.push([c[0]+n,c[1]+p,n/b[0],p/b[1],d[k][1],d[k][2]])}return a},x=function(a){return function(b,c){var d=!0,d=a?b[0][0]<c[0][0]:b[0][0]>c[0][0];return!1===d?-1:1}},q={top:function(a,b){return a[0]>b[0]?1:-1},right:x(!0),bottom:x(!0),left:function(a,b){return(0>
a[0][0]?-Math.PI-a[0][0]:Math.PI-a[0][0])>(0>b[0][0]?-Math.PI-b[0][0]:Math.PI-b[0][0])?1:a[0][1]>b[0][1]?1:-1}},s=function(a,b){var c=m.getCachedData(a),d=c.s,c=c.o,f=function(b,c,d,f,h,l,p){if(0<f.length){f=f.sort(q[b]);b=v(b,c,d,f,h,l,"right"===b||"top"===b);c=function(a,b){var c=m.adjustForParentOffsetAndScroll([b[0],b[1]],a.canvas);k[a.id]=[c[0],c[1],b[2],b[3]];e[a.id]=p};for(d=0;d<b.length;d++)h=b[d][4],l=h.endpoints[1].elementId===a,h.endpoints[0].elementId===a?c(h.endpoints[0],b[d]):l&&c(h.endpoints[1],
b[d])}};f("bottom",d,[c.left,c.top],b.bottom,!0,1,[0,1]);f("top",d,[c.left,c.top],b.top,!0,0,[0,-1]);f("left",d,[c.left,c.top],b.left,!1,0,[-1,0]);f("right",d,[c.left,c.top],b.right,!1,1,[1,0])};this.reset=function(){d={};h={};n={}};this.addFloatingConnection=function(a,b){t[a]=b};this.removeFloatingConnection=function(a){delete t[a]};this.newConnection=function(a){var b=a.sourceId,c=a.targetId,d=a.endpoints,e=!0,f=function(a,f,k,p,m){b==c&&k.isContinuous&&(l.removeElement(d[1].canvas),e=!1);jsPlumbUtil.addToList(h,
p,[m,f,k.constructor==jsPlumb.DynamicAnchor])};f(0,d[0],d[0].anchor,c,a);e&&f(1,d[1],d[1].anchor,b,a)};var K=function(a){(function(a,b){if(a){var c=function(a){return a[4]==b};jsPlumbUtil.removeWithFunction(a.top,c);jsPlumbUtil.removeWithFunction(a.left,c);jsPlumbUtil.removeWithFunction(a.bottom,c);jsPlumbUtil.removeWithFunction(a.right,c)}})(n[a.elementId],a.id)};this.connectionDetached=function(a){var b=a.connection||a,c=a.targetId,d=b.endpoints,e=function(a,b,c,d,e){null!=c&&c.constructor==jsPlumb.FloatingAnchor||
jsPlumbUtil.removeWithFunction(h[d],function(a){return a[0].id==e.id})};e(1,d[1],d[1].anchor,a.sourceId,b);e(0,d[0],d[0].anchor,c,b);K(b.endpoints[0]);K(b.endpoints[1]);p.redraw(b.sourceId);p.redraw(b.targetId)};this.add=function(a,b){jsPlumbUtil.addToList(d,b,a)};this.changeId=function(a,b){h[b]=h[a];d[b]=d[a];delete h[a];delete d[a]};this.getConnectionsFor=function(a){return h[a]||[]};this.getEndpointsFor=function(a){return d[a]||[]};this.deleteEndpoint=function(a){jsPlumbUtil.removeWithFunction(d[a.elementId],
function(b){return b.id==a.id});K(a)};this.clearFor=function(a){delete d[a];d[a]=[]};var F=function(a,b,d,e,f,h,l,k,p,m,n,t){m=-1;var v=e.endpoints[l],u=v.id,s=[1,0][l];b=[[b,d],e,f,h,u];var x=a[p],q=v._continuousAnchorEdge?a[v._continuousAnchorEdge]:null;if(q&&(a=jsPlumbUtil.findWithFunction(q,function(a){return a[4]==u}),-1!=a)){q.splice(a,1);for(var A=0;A<q.length;A++)jsPlumbUtil.addWithFunction(n,q[A][1],function(a){return a.id==q[A][1].id}),jsPlumbUtil.addWithFunction(t,q[A][1].endpoints[l],
function(a){return a.id==q[A][1].endpoints[l].id}),jsPlumbUtil.addWithFunction(t,q[A][1].endpoints[s],function(a){return a.id==q[A][1].endpoints[s].id})}for(A=0;A<x.length;A++)1==c.idx&&(x[A][3]===h&&-1==m)&&(m=A),jsPlumbUtil.addWithFunction(n,x[A][1],function(a){return a.id==x[A][1].id}),jsPlumbUtil.addWithFunction(t,x[A][1].endpoints[l],function(a){return a.id==x[A][1].endpoints[l].id}),jsPlumbUtil.addWithFunction(t,x[A][1].endpoints[s],function(a){return a.id==x[A][1].endpoints[s].id});x.splice(k?
-1!=m?m:0:x.length,0,b);v._continuousAnchorEdge=p};this.updateOtherEndpoint=function(a,b,c,d){var e=jsPlumbUtil.findWithFunction(h[a],function(a){return a[0].id===d.id}),f=jsPlumbUtil.findWithFunction(h[b],function(a){return a[0].id===d.id});-1!=e&&(h[a][e][0]=d,h[a][e][1]=d.endpoints[1],h[a][e][2]=d.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor);-1<f&&(h[b].splice(f,1),jsPlumbUtil.addToList(h,c,[d,d.endpoints[0],d.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor]))};this.sourceChanged=
function(a,b,c){jsPlumbUtil.removeWithFunction(h[a],function(a){return a[0].id===c.id});a=jsPlumbUtil.findWithFunction(h[c.targetId],function(a){return a[0].id===c.id});-1<a&&(h[c.targetId][a][0]=c,h[c.targetId][a][1]=c.endpoints[0],h[c.targetId][a][2]=c.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor);jsPlumbUtil.addToList(h,b,[c,c.endpoints[1],c.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor])};this.rehomeEndpoint=function(a,b,c){var e=d[b]||[];c=m.getId(c);if(c!==b){var h=jsPlumbUtil.indexOf(e,
a);-1<h&&(e=e.splice(h,1)[0],p.add(e,c))}for(e=0;e<a.connections.length;e++)a.connections[e].sourceId==b?(a.connections[e].sourceId=a.elementId,a.connections[e].source=a.element,p.sourceChanged(b,a.elementId,a.connections[e])):a.connections[e].targetId==b&&(a.connections[e].targetId=a.elementId,a.connections[e].target=a.element,p.updateOtherEndpoint(a.connections[e].sourceId,b,a.elementId,a.connections[e]))};this.redraw=function(a,b,c,e,l,k){if(!m.isSuspendDrawing()){var p=d[a]||[],v=h[a]||[],x=[],
q=[],A=[];c=c||m.timestamp();e=e||{left:0,top:0};b&&(b={left:b.left+e.left,top:b.top+e.top});b=m.updateOffset({elId:a,offset:b,recalc:!1,timestamp:c});e={};for(var H=0;H<v.length;H++){var K=v[H][0],L=K.sourceId,O=K.targetId,R=K.endpoints[0].anchor.isContinuous,X=K.endpoints[1].anchor.isContinuous;if(R||X){var P=L+"_"+O,ha=e[P],pa=K.sourceId==a?1:0;R&&!n[L]&&(n[L]={top:[],right:[],bottom:[],left:[]});X&&!n[O]&&(n[O]={top:[],right:[],bottom:[],left:[]});a!=O&&m.updateOffset({elId:O,timestamp:c});a!=
L&&m.updateOffset({elId:L,timestamp:c});var wa=m.getCachedData(O),xa=m.getCachedData(L);O==L&&(R||X)?F(n[L],-Math.PI/2,0,K,!1,O,0,!1,"top",L,x,q):(ha||(ha=u(L,O,xa.o,wa.o,K.endpoints[0].anchor,K.endpoints[1].anchor),e[P]=ha),R&&F(n[L],ha.theta,0,K,!1,O,0,!1,ha.a[0],L,x,q),X&&F(n[O],ha.theta2,-1,K,!0,L,1,!0,ha.a[1],O,x,q));R&&jsPlumbUtil.addWithFunction(A,L,function(a){return a===L});X&&jsPlumbUtil.addWithFunction(A,O,function(a){return a===O});jsPlumbUtil.addWithFunction(x,K,function(a){return a.id==
K.id});(R&&0===pa||X&&1===pa)&&jsPlumbUtil.addWithFunction(q,K.endpoints[pa],function(a){return a.id==K.endpoints[pa].id})}}for(H=0;H<p.length;H++)0===p[H].connections.length&&p[H].anchor.isContinuous&&(n[a]||(n[a]={top:[],right:[],bottom:[],left:[]}),F(n[a],-Math.PI/2,0,{endpoints:[p[H],p[H]],paint:function(){}},!1,a,0,!1,"top",a,x,q),jsPlumbUtil.addWithFunction(A,a,function(b){return b===a}));for(H=0;H<A.length;H++)s(A[H],n[A[H]]);for(H=0;H<p.length;H++)p[H].paint({timestamp:c,offset:b,dimensions:b.s,
recalc:!0!==k});for(H=0;H<q.length;H++)k=m.getCachedData(q[H].elementId),q[H].paint({timestamp:c,offset:k,dimensions:k.s});for(H=0;H<v.length;H++){var ta=v[H][1];if(ta.anchor.constructor==jsPlumb.DynamicAnchor){ta.paint({elementWithPrecedence:a,timestamp:c});jsPlumbUtil.addWithFunction(x,v[H][0],function(a){return a.id==v[H][0].id});for(var ja=0;ja<ta.connections.length;ja++)ta.connections[ja]!==v[H][0]&&jsPlumbUtil.addWithFunction(x,ta.connections[ja],function(a){return a.id==ta.connections[ja].id})}else ta.anchor.constructor==
jsPlumb.Anchor&&jsPlumbUtil.addWithFunction(x,v[H][0],function(a){return a.id==v[H][0].id})}(q=t[a])&&q.paint({timestamp:c,recalc:!1,elId:a});for(H=0;H<x.length;H++)x[H].paint({elId:a,timestamp:c,recalc:!1,clearEdits:l})}};var H=function(b){jsPlumbUtil.EventGenerator.apply(this);this.type="Continuous";this.isContinuous=this.isDynamic=!0;for(var c=b.faces||["top","right","bottom","left"],d=!1!==b.clockwise,f={},h={top:"bottom",right:"left",left:"right",bottom:"top"},l={top:"right",right:"bottom",left:"top",
bottom:"left"},p={top:"left",right:"top",left:"bottom",bottom:"right"},m=d?l:p,n=d?p:l,v=b.cssClass||"",d=0;d<c.length;d++)f[c[d]]=!0;this.verifyEdge=function(a){if(!f[a]){if(f[h[a]])return h[a];if(f[m[a]])return m[a];if(f[n[a]])return n[a]}return a};this.compute=function(b){return a[b.element.id]||k[b.element.id]||[0,0]};this.getCurrentLocation=function(b){return a[b.element.id]||k[b.element.id]||[0,0]};this.getOrientation=function(a){return e[a.id]||[0,0]};this.clearUserDefinedLocation=function(){delete a[b.elementId]};
this.setUserDefinedLocation=function(c){a[b.elementId]=c};this.getCssClass=function(){return v};this.setCssClass=function(a){v=a}};m.continuousAnchorFactory={get:function(a){var c=b[a.elementId];c||(c=new H(a),b[a.elementId]=c);return c},clear:function(a){delete b[a]}}};jsPlumb.Anchor=function(c){this.x=c.x||0;this.y=c.y||0;this.elementId=c.elementId;this.cssClass=c.cssClass||"";this.userDefinedLocation=null;this.orientation=c.orientation||[0,0];jsPlumbUtil.EventGenerator.apply(this);var d=c.jsPlumbInstance;
this.lastReturnValue=null;this.offsets=c.offsets||[0,0];this.timestamp=null;this.compute=function(b){var c=b.xy,a=b.wh,e=b.element,h=b.timestamp;b.clearUserDefinedLocation&&(this.userDefinedLocation=null);if(h&&h===self.timestamp)return this.lastReturnValue;null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:(this.lastReturnValue=[c[0]+this.x*a[0]+this.offsets[0],c[1]+this.y*a[1]+this.offsets[1]],this.lastReturnValue=d.adjustForParentOffsetAndScroll(this.lastReturnValue,e.canvas));
this.timestamp=h;return this.lastReturnValue};this.getCurrentLocation=function(b){return null==this.lastReturnValue||null!=b.timestamp&&this.timestamp!=b.timestamp?this.compute(b):this.lastReturnValue}};jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(c){if(!c)return!1;var d=c.getOrientation(),b=this.getOrientation();return this.x==c.x&&this.y==c.y&&this.offsets[0]==c.offsets[0]&&this.offsets[1]==c.offsets[1]&&b[0]==d[0]&&b[1]==d[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},
setUserDefinedLocation:function(c){this.userDefinedLocation=c},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(c){return this.orientation},getCssClass:function(){return this.cssClass}});jsPlumb.FloatingAnchor=function(c){jsPlumb.Anchor.apply(this,arguments);var d=c.reference,b=jsPlumb.CurrentLibrary,k=c.jsPlumbInstance,a=b.getSize(b.getElementObject(c.referenceCanvas)),e=null,h=null;this.orientation=null;this.y=this.x=0;this.isFloating=!0;this.compute=function(b){var c=
b.xy,c=[c[0]+a[0]/2,c[1]+a[1]/2];return h=c=k.adjustForParentOffsetAndScroll(c,b.element.canvas)};this.getOrientation=function(a){if(e)return e;a=d.getOrientation(a);return[-0*Math.abs(a[0]),-0*Math.abs(a[1])]};this.over=function(a,b){e=a.getOrientation(b)};this.out=function(){e=null};this.getCurrentLocation=function(a){return null==h?this.compute(a):h}};jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);jsPlumb.DynamicAnchor=function(c){jsPlumb.Anchor.apply(this,arguments);this.isDynamic=
this.isSelective=!0;this.anchors=[];this.elementId=c.elementId;this.jsPlumbInstance=c.jsPlumbInstance;for(var d=0;d<c.anchors.length;d++)this.anchors[d]=c.anchors[d].constructor==jsPlumb.Anchor?c.anchors[d]:this.jsPlumbInstance.makeAnchor(c.anchors[d],this.elementId,this.jsPlumbInstance);this.addAnchor=function(a){this.anchors.push(a.constructor==jsPlumb.Anchor?a:this.jsPlumbInstance.makeAnchor(a,this.elementId,this.jsPlumbInstance))};this.getAnchors=function(){return this.anchors};this.locked=!1;
var b=0<this.anchors.length?this.anchors[0]:null,k=b,a=this,e=c.selector||function(a,b,c,d,e){var f=c[0]+d[0]/2;c=c[1]+d[1]/2;d=-1;for(var k=Infinity,v=0;v<e.length;v++){var x,q=e[v];x=c;var s=a[0]+q.x*b[0],q=a[1]+q.y*b[1],K=a[0]+b[0]/2,F=a[1]+b[1]/2;x=Math.sqrt(Math.pow(f-s,2)+Math.pow(x-q,2))+Math.sqrt(Math.pow(K-s,2)+Math.pow(F-q,2));x<k&&(d=v+0,k=x)}return e[d]};this.compute=function(c){var d=c.xy,f=c.wh,m=c.timestamp,l=c.txy,t=c.twh;c.clearUserDefinedLocation&&(userDefinedLocation=null);this.timestamp=
m;m=a.getUserDefinedLocation();if(null!=m)return m;if(this.locked||null==l||null==t)return b.compute(c);c.timestamp=null;b=e(d,f,l,t,this.anchors);this.x=b.x;this.y=b.y;b!=k&&this.fire("anchorChanged",b);k=b;return b.compute(c)};this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||(null!=b?b.getCurrentLocation(a):null)};this.getOrientation=function(a){return null!=b?b.getOrientation(a):[0,0]};this.over=function(a,c){null!=b&&b.over(a,c)};this.out=function(){null!=b&&b.out()};
this.getCssClass=function(){return b&&b.getCssClass()||""}};jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var d=function(c,d,b,k,a,e){jsPlumb.Anchors[a]=function(h){var p=h.jsPlumbInstance.makeAnchor([c,d,b,k,0,0],h.elementId,h.jsPlumbInstance);p.type=a;e&&e(p,h);return p}};d(0.5,0,0,-1,"TopCenter");d(0.5,1,0,1,"BottomCenter");d(0,0.5,-1,0,"LeftMiddle");d(1,0.5,1,0,"RightMiddle");d(0.5,0,0,-1,"Top");d(0.5,1,0,1,"Bottom");d(0,0.5,-1,0,"Left");d(1,0.5,1,0,"Right");d(0.5,0.5,0,0,"Center");
d(1,0,0,-1,"TopRight");d(1,1,0,1,"BottomRight");d(0,0,0,-1,"TopLeft");d(0,1,0,1,"BottomLeft");jsPlumb.Defaults.DynamicAnchors=function(c){return c.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],c.elementId,c.jsPlumbInstance)};jsPlumb.Anchors.AutoDefault=function(c){c=c.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(c));c.type="AutoDefault";return c};var q=function(c,d){jsPlumb.Anchors[c]=function(b){b=b.jsPlumbInstance.makeAnchor(["Continuous",
{faces:d}],b.elementId,b.jsPlumbInstance);b.type=c;return b}};jsPlumb.Anchors.Continuous=function(c){return c.jsPlumbInstance.continuousAnchorFactory.get(c)};q("ContinuousLeft",["left"]);q("ContinuousTop",["top"]);q("ContinuousBottom",["bottom"]);q("ContinuousRight",["right"]);jsPlumb.Anchors.Assign=d(0,0,0,0,"Assign",function(c,d){var b=d.position||"Fixed";c.positionFinder=b.constructor==String?d.jsPlumbInstance.AnchorPositionFinders[b]:b;c.constructorParams=d});jsPlumb.AnchorPositionFinders={Fixed:function(c,
d,b,k){return[(c.left-d.left)/b[0],(c.top-d.top)/b[1]]},Grid:function(c,d,b,k){var a=b[0]/k.grid[0];k=b[1]/k.grid[1];return[(Math.floor((c.left-d.left)/a)*a+a/2)/b[0],(Math.floor((c.top-d.top)/k)*k+k/2)/b[1]]}};jsPlumb.Anchors.Perimeter=function(c){c=c||{};var d=c.anchorCount||60,b=c.shape;if(!b)throw Error("no shape supplied to Perimeter Anchor type");var k=function(){for(var a=2*Math.PI/d,b=0,c=[],e=0;e<d;e++){var h=0.5+0.5*Math.sin(b),k=0.5+0.5*Math.cos(b);c.push([h,k,0,0]);b+=a}return c},a=function(a){for(var b=
d/a.length,c=[],e=function(a,e,h,l,k){b=d*k;h=(h-a)/b;l=(l-e)/b;for(k=0;k<b;k++)c.push([a+h*k,e+l*k,0,0])},h=0;h<a.length;h++)e.apply(null,a[h]);return c},e=function(b){for(var c=[],d=0;d<b.length;d++)c.push([b[d][0],b[d][1],b[d][2],b[d][3],1/b.length]);return a(c)},h=function(){return e([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},h={Circle:k,Ellipse:k,Diamond:function(){return e([[0.5,0,1,0.5],[1,0.5,0.5,1],[0.5,1,0,0.5],[0,0.5,0.5,0]])},Rectangle:h,Square:h,Triangle:function(){return e([[0.5,0,
1,1],[1,1,0,1],[0,1,0.5,0]])},Path:function(b){var c=b.points;b=[];for(var d=0,e=0;e<c.length-1;e++){var f=Math.sqrt(Math.pow(c[e][2]-c[e][0])+Math.pow(c[e][3]-c[e][1])),d=d+f;b.push([c[e][0],c[e][1],c[e+1][0],c[e+1][1],f])}for(c=0;c<b.length;c++)b[c][4]/=d;return a(b)}},k=function(a,b){for(var c=[],d=b/180*Math.PI,e=0;e<a.length;e++){var f=a[e][0]-0.5,h=a[e][1]-0.5;c.push([0.5+(f*Math.cos(d)-h*Math.sin(d)),0.5+(f*Math.sin(d)+h*Math.cos(d)),a[e][2],a[e][3]])}return c};if(!h[b])throw Error("Shape ["+
b+"] is unknown by Perimeter Anchor type");b=h[b](c);c.rotation&&(b=k(b,c.rotation));c=c.jsPlumbInstance.makeDynamicAnchor(b);c.type="Perimeter";return c}})();
(function(){jsPlumb.DOMElementComponent=jsPlumbUtil.extend(jsPlumb.jsPlumbUIComponent,function(a){this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(a){}});jsPlumb.Segments={AbstractSegment:function(a){this.params=a;this.findClosestPointOnPath=function(a,b){return{d:Infinity,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){jsPlumb.Segments.AbstractSegment.apply(this,
arguments);var b,c,d,f,k,l,t;this.type="Straight";this.getLength=function(){return b};this.getGradient=function(){return c};this.getCoordinates=function(){return{x1:f,y1:l,x2:k,y2:t}};this.setCoordinates=function(a){f=a.x1;l=a.y1;k=a.x2;t=a.y2;b=Math.sqrt(Math.pow(k-f,2)+Math.pow(t-l,2));c=jsPlumbUtil.gradient({x:f,y:l},{x:k,y:t});d=-1/c};this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2});this.getBounds=function(){return{minX:Math.min(f,k),minY:Math.min(l,t),maxX:Math.max(f,k),maxY:Math.max(l,
t)}};this.pointOnPath=function(a,c){return 0===a&&!c?{x:f,y:l}:1==a&&!c?{x:k,y:t}:jsPlumbUtil.pointOnLine({x:f,y:l},{x:k,y:t},c?0<a?a:b+a:a*b)};this.gradientAtPoint=function(a){return c};this.pointAlongPathFrom=function(a,b,c){a=this.pointOnPath(a,c);c=0>=b?{x:f,y:l}:{x:k,y:t};0>=b&&1<Math.abs(b)&&(b*=-1);return jsPlumbUtil.pointOnLine(a,c,b)};this.findClosestPointOnPath=function(a,k){if(0===c)return{x:a,y:l,d:Math.abs(k-l)};if(Infinity==c||-Infinity==c)return{x:f,y:k,d:Math.abs(a-1)};var m=l-c*f,
t=(k-d*a-m)/(c-d),m=c*t+m,s=jsPlumbUtil.lineLength([a,k],[t,m]),q=jsPlumbUtil.lineLength([t,m],[f,l]);return{d:s,x:t,y:m,l:q/b}}},Arc:function(a){jsPlumb.Segments.AbstractSegment.apply(this,arguments);var b=2*Math.PI;this.radius=a.r;this.anticlockwise=a.ac;this.type="Arc";a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=
a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=jsPlumbUtil.theta([a.cx,a.cy],[a.x1,a.y1]),this.endAngle=jsPlumbUtil.theta([a.cx,a.cy],[a.x2,a.y2]),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2);0>this.endAngle&&(this.endAngle+=b);0>this.startAngle&&(this.startAngle+=b);this.segment=jsPlumbUtil.segment([this.x1,this.y1],[this.x2,this.y2]);this.sweep=Math.abs((this.endAngle<this.startAngle?this.endAngle+b:this.endAngle)-this.startAngle);this.anticlockwise&&(this.sweep=b-this.sweep);var c=
2*Math.PI*this.radius,d=c*(this.sweep/b);this.getLength=function(){return d};this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var f=function(a){var b=Math.floor(a),c=Math.ceil(a);return 1E-10>a-b?b:1E-10>c-a?c:a};this.pointOnPath=function(c,h){if(0===c)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==c)return{x:this.x2,y:this.y2,theta:this.endAngle};h&&(c/=d);var k;k=c;if(this.anticlockwise){var u=this.startAngle<this.endAngle?this.startAngle+b:this.startAngle,
v=Math.abs(u-this.endAngle);k=u-v*k}else u=Math.abs((this.endAngle<this.startAngle?this.endAngle+b:this.endAngle)-this.startAngle),k=this.startAngle+u*k;u=a.cx+a.r*Math.cos(k);v=a.cy+a.r*Math.sin(k);return{x:f(u),y:f(v),theta:k}};this.gradientAtPoint=function(b,c){var d=this.pointOnPath(b,c),d=jsPlumbUtil.normal([a.cx,a.cy],[d.x,d.y]);if(!this.anticlockwise&&(Infinity==d||-Infinity==d))d*=-1;return d};this.pointAlongPathFrom=function(b,d,e){d=this.pointOnPath(b,e).theta+(this.anticlockwise?-1:1)*
2*(d/c)*Math.PI;b=a.cx+this.radius*Math.cos(d);d=a.cy+this.radius*Math.sin(d);return{x:b,y:d}}},Bezier:function(a){jsPlumb.Segments.AbstractSegment.apply(this,arguments);var b=[{x:a.x1,y:a.y1},{x:a.cp1x,y:a.cp1y},{x:a.cp2x,y:a.cp2y},{x:a.x2,y:a.y2}],c={minX:Math.min(a.x1,a.x2,a.cp1x,a.cp2x),minY:Math.min(a.y1,a.y2,a.cp1y,a.cp2y),maxX:Math.max(a.x1,a.x2,a.cp1x,a.cp2x),maxY:Math.max(a.y1,a.y2,a.cp1y,a.cp2y)};this.type="Bezier";var d=function(a,b,c){c&&(b=jsBezier.locationAlongCurveFrom(a,0<b?0:1,b));
return b};this.pointOnPath=function(a,c){a=d(b,a,c);return jsBezier.pointOnCurve(b,a)};this.gradientAtPoint=function(a,c){a=d(b,a,c);return jsBezier.gradientAtPoint(b,a)};this.pointAlongPathFrom=function(a,c,f){a=d(b,a,f);return jsBezier.pointAlongCurveFrom(b,a,c)};this.getLength=function(){return jsBezier.getLength(b)};this.getBounds=function(){return c}}};var d=function(){this.resetBounds=function(){this.bounds={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}};this.resetBounds()};jsPlumb.Connectors.AbstractConnector=
function(a){d.apply(this,arguments);var b=[],c=0,f=[],k=[],m=a.stub||0,l=jsPlumbUtil.isArray(m)?m[0]:m,t=jsPlumbUtil.isArray(m)?m[1]:m,m=a.gap||0,u=jsPlumbUtil.isArray(m)?m[0]:m,v=jsPlumbUtil.isArray(m)?m[1]:m,q=null,A=!1,s=null;this.isEditable=function(){return!1};this.setEdited=function(a){A=a};this.getPath=function(){};this.setPath=function(a){};this.findSegmentForPoint=function(a,c){for(var d={d:Infinity,s:null,x:null,y:null,l:null},f=0;f<b.length;f++){var h=b[f].findClosestPointOnPath(a,c);h.d<
d.d&&(d.d=h.d,d.l=h.l,d.x=h.x,d.y=h.y,d.s=b[f])}return d};var K=function(a,d){d&&(a=0<a?a/c:(c+a)/c);for(var l=f.length-1,m=1,v=0;v<f.length;v++)if(f[v][1]>=a){l=v;m=1==a?1:0===a?0:(a-f[v][0])/k[v];break}return{segment:b[l],proportion:m,index:l}};this.setSegments=function(a){q=[];for(var b=c=0;b<a.length;b++)q.push(a[b]),c+=a[b].getLength()};var F=function(a){this.lineWidth=a.lineWidth;var b=jsPlumbUtil.segment(a.sourcePos,a.targetPos),c=a.targetPos[0]<a.sourcePos[0],d=a.targetPos[1]<a.sourcePos[1],
e=a.lineWidth||1,f=a.sourceEndpoint.anchor.orientation||a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),h=a.targetEndpoint.anchor.orientation||a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),k=c?a.targetPos[0]:a.sourcePos[0],p=d?a.targetPos[1]:a.sourcePos[1],m=Math.abs(a.targetPos[0]-a.sourcePos[0]),n=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&&0===f[1]||0===h[0]&&0===h[1]){var s=m>n?0:1,q=[1,0][s],f=[],h=[];f[s]=a.sourcePos[s]>a.targetPos[s]?-1:1;h[s]=a.sourcePos[s]>a.targetPos[s]?
1:-1;f[q]=0;h[q]=0}a=c?m+u*f[0]:u*f[0];s=d?n+u*f[1]:u*f[1];c=c?v*h[0]:m+v*h[0];d=d?v*h[1]:n+v*h[1];q=f[0]*h[0]+f[1]*h[1];b={sx:a,sy:s,tx:c,ty:d,lw:e,xSpan:Math.abs(c-a),ySpan:Math.abs(d-s),mx:(a+c)/2,my:(s+d)/2,so:f,to:h,x:k,y:p,w:m,h:n,segment:b,startStubX:a+f[0]*l,startStubY:s+f[1]*l,endStubX:c+h[0]*t,endStubY:d+h[1]*t,isXGreaterThanStubTimes2:Math.abs(a-c)>l+t,isYGreaterThanStubTimes2:Math.abs(s-d)>l+t,opposite:-1==q,perpendicular:0===q,orthogonal:1==q,sourceAxis:0===f[0]?"y":"x",points:[k,p,m,
n,a,s,c,d]};b.anchorOrientation=b.opposite?"opposite":b.orthogonal?"orthogonal":"perpendicular";return b};this.getSegments=function(){return b};this.updateBounds=function(a){a=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,a.minX);this.bounds.maxX=Math.max(this.bounds.maxX,a.maxX);this.bounds.minY=Math.min(this.bounds.minY,a.minY);this.bounds.maxY=Math.max(this.bounds.maxY,a.maxY)};this.pointOnPath=function(a,b){var c=K(a,b);return c.segment&&c.segment.pointOnPath(c.proportion,b)||[0,0]};
this.gradientAtPoint=function(a){a=K(a,absolute);return a.segment&&a.segment.gradientAtPoint(a.proportion,absolute)||0};this.pointAlongPathFrom=function(a,b,c){a=K(a,c);return a.segment&&a.segment.pointAlongPathFrom(a.proportion,b,!1)||[0,0]};this.compute=function(a){A||(s=F(a));c=0;b.splice(0,b.length);f.splice(0,f.length);k.splice(0,k.length);this._compute(s,a);this.x=s.points[0];this.y=s.points[1];this.w=s.points[2];this.h=s.points[3];this.segment=s.segment;for(var d=a=0;d<b.length;d++){var l=
b[d].getLength();k[d]=l/c;f[d]=[a,a+=l/c]}};return{addSegment:function(a,d,f){f.x1==f.x2&&f.y1==f.y2||(d=new jsPlumb.Segments[d](f),b.push(d),c+=d.getLength(),a.updateBounds(d))},prepareCompute:F,sourceStub:l,targetStub:t,maxStub:Math.max(l,t),sourceGap:u,targetGap:v,maxGap:Math.max(u,v)}};jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,d);jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(function(){this.type="Straight";var a=
jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b,c){a.addSegment(this,"Straight",{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY});a.addSegment(this,"Straight",{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY});a.addSegment(this,"Straight",{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}},"Straight");var q=function(a){a=a||{};var b=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),c=a.curviness||150;this.type="Bezier";this.getCurviness=function(){return c};
this._findControlPoint=function(a,b,d,e,f){e=e.anchor.getOrientation(e);f=f.anchor.getOrientation(f);var k=[];e[0]!=f[0]||e[1]==f[1]?(0===f[0]?k.push(d[0]<b[0]?a[0]+10:a[0]-10):k.push(a[0]+c*f[0]),0===f[1]?k.push(d[1]<b[1]?a[1]+10:a[1]-10):k.push(a[1]+c*e[1])):(0===e[0]?k.push(b[0]<d[0]?a[0]+10:a[0]-10):k.push(a[0]-c*e[0]),0===e[1]?k.push(b[1]<d[1]?a[1]+10:a[1]-10):k.push(a[1]+c*f[1]));return k};this._compute=function(a,c){var d=c.sourcePos,f=c.targetPos,h=Math.abs(d[0]-f[0]),k=Math.abs(d[1]-f[1]),
v=d[0]<f[0]?h:0,q=d[1]<f[1]?k:0,h=d[0]<f[0]?0:h,k=d[1]<f[1]?0:k,A=this._findControlPoint([v,q],d,f,c.sourceEndpoint,c.targetEndpoint),d=this._findControlPoint([h,k],f,d,c.targetEndpoint,c.sourceEndpoint);b.addSegment(this,"Bezier",{x1:v,y1:q,x2:h,y2:k,cp1x:A[0],cp1y:A[1],cp2x:d[0],cp2y:d[1]})}};jsPlumbUtil.extend(q,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(q,"Bezier");jsPlumb.Endpoints.AbstractEndpoint=function(a){d.apply(this,arguments);return{compute:this.compute=function(a,
b,c,d){var f=this._compute.apply(this,arguments);this.x=f[0];this.y=f[1];this.w=f[2];this.h=f[3];this.bounds.minX=this.x;this.bounds.minY=this.y;this.bounds.maxX=this.x+this.w;this.bounds.maxY=this.y+this.h;return f},cssClass:a.cssClass}};jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,d);jsPlumb.Endpoints.Dot=function(a){this.type="Dot";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.radius=a.radius||10;this.defaultOffset=0.5*this.radius;this.defaultInnerRadius=this.radius/
3;this._compute=function(a,b,c,d){this.radius=c.radius||this.radius;b=a[0]-this.radius;a=a[1]-this.radius;d=2*this.radius;var f=2*this.radius;c.strokeStyle&&(c=c.lineWidth||1,b-=c,a-=c,d+=2*c,f+=2*c);return[b,a,d,f,this.radius]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint);jsPlumb.Endpoints.Rectangle=function(a){this.type="Rectangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.width=a.width||20;this.height=a.height||20;this._compute=function(a,
b,c,d){b=c.width||this.width;c=c.height||this.height;return[a[0]-b/2,a[1]-c/2,b,c]}};jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);var c=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(c,jsPlumb.DOMElementComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}});jsPlumb.Endpoints.Image=function(a){this.type=
"Image";c.apply(this,arguments);jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var b=a.onload,d=a.src||a.url,f=a.parent,k=a.cssClass?" "+a.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=a.width;this._jsPlumb.heightToUse=a.height;this._jsPlumb.endpoint=a.endpoint;this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,
this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&&b(this))}.bind(this);this._jsPlumb.endpoint.setImage=function(a,c){var d=a.constructor==String?a:a.src;b=c;this._jsPlumb.img.src=d;null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(d,b);this._compute=function(a,b,c,d){this.anchorPoint=a;return this._jsPlumb.ready?[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,
this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=document.createElement("img");this.canvas.style.margin=0;this.canvas.style.padding=0;this.canvas.style.outline=0;this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.instance.endpointClass+k;this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas,f);this.attachListeners(this.canvas,
this);this.actuallyPaint=function(a,b,c){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),jsPlumbUtil.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))};this.paint=function(a,b){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(a,b):window.setTimeout(function(){this.paint(a,
b)}.bind(this),200))}};jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[c,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0;jsPlumbUtil.removeElement(this.canvas);this.canvas=null}});jsPlumb.Endpoints.Blank=function(a){jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";c.apply(this,arguments);this._compute=function(a,b,c,d){return[a[0],a[1],10,0]};this.canvas=document.createElement("div");this.canvas.style.display="block";this.canvas.style.width="1px";
this.canvas.style.height="1px";this.canvas.style.background="transparent";this.canvas.style.position="absolute";this.canvas.className=this._jsPlumb.endpointClass;jsPlumb.appendElement(this.canvas,a.parent);this.paint=function(a,b){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,c],{cleanup:function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)}});jsPlumb.Endpoints.Triangle=function(a){this.type=
"Triangle";jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};a.width=a.width||55;a.height=a.height||55;this.width=a.width;this.height=a.height;this._compute=function(a,b,c,d){b=c.width||self.width;c=c.height||self.height;return[a[0]-b/2,a[1]-c/2,b,c]}};var f=jsPlumb.Overlays.AbstractOverlay=function(a){this.isAppendedAtTopLevel=this.visible=!0;this.component=a.component;this.loc=null==a.location?0.5:a.location;this.endpointLoc=null==a.endpointLocation?[0.5,0.5]:a.endpointLocation};
f.prototype={cleanup:function(){this.endpointLoc=this.canvas=this.component=null},setVisible:function(a){this.visible=a;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a;this.component.repaint()},setLocation:function(a){this.loc=a;this.component.repaint()},getLocation:function(){return this.loc}};jsPlumb.Overlays.Arrow=function(a){this.type="Arrow";f.apply(this,arguments);
this.isAppendedAtTopLevel=!1;a=a||{};var b=jsPlumbUtil;this.length=a.length||20;this.width=a.width||20;this.id=a.id;var c=0>(a.direction||1)?-1:1,d=a.paintStyle||{lineWidth:1},k=a.foldback||0.623;this.computeMaxSize=function(){return 1.5*self.width};this.draw=function(a,f){var t,u,v;return a.pointAlongPathFrom?(b.isString(this.loc)||1<this.loc||0>this.loc?(v=parseInt(this.loc,10),t=a.pointAlongPathFrom(v,c*this.length/2,!0),u=a.pointOnPath(v,!0),v=b.pointOnLine(t,u,this.length)):1==this.loc?(t=a.pointOnPath(this.loc),
u=a.pointAlongPathFrom(this.loc,-this.length),v=b.pointOnLine(t,u,this.length),-1==c&&(u=v,v=t,t=u)):0===this.loc?(v=a.pointOnPath(this.loc),u=a.pointAlongPathFrom(this.loc,this.length),t=b.pointOnLine(v,u,this.length),-1==c&&(u=v,v=t,t=u)):(t=a.pointAlongPathFrom(this.loc,c*this.length/2),u=a.pointOnPath(this.loc),v=b.pointOnLine(t,u,this.length)),u=b.perpendicularLineTo(t,v,this.width),v=b.pointOnLine(t,v,k*this.length),{component:a,d:{hxy:t,tail:u,cxy:v},lineWidth:d.lineWidth||f.lineWidth,strokeStyle:d.strokeStyle||
f.strokeStyle,fillStyle:d.fillStyle||f.strokeStyle,minX:Math.min(t.x,u[0].x,u[1].x),maxX:Math.max(t.x,u[0].x,u[1].x),minY:Math.min(t.y,u[0].y,u[1].y),maxY:Math.max(t.y,u[0].y,u[1].y)}):{component:a,minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,f);jsPlumb.Overlays.PlainArrow=function(a){a=a||{};a=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,a);this.type="PlainArrow"};jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow);jsPlumb.Overlays.Diamond=
function(a){a=a||{};a=jsPlumb.extend(a,{length:(a.length||40)/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,a);this.type="Diamond"};jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var b=function(a){null==a._jsPlumb.cachedDimensions&&(a._jsPlumb.cachedDimensions=a.getDimensions());return a._jsPlumb.cachedDimensions},k=function(a){jsPlumb.DOMElementComponent.apply(this,arguments);f.apply(this,arguments);var c=jsPlumb.CurrentLibrary;this.id=a.id;this._jsPlumb.div=null;this._jsPlumb.initialised=
!1;this._jsPlumb.component=a.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=a.create;this.getElement=function(){if(null==this._jsPlumb.div){var b=this._jsPlumb.div=c.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));b.style.position="absolute";b.className=a._jsPlumb.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:"");this._jsPlumb.instance.appendElement(b,this._jsPlumb.component.parent);this._jsPlumb.instance.getId(b);this.attachListeners(b,this);
this.canvas=b}return this._jsPlumb.div};this.draw=function(a,c){var d=b(this);if(null!=d&&2==d.length){var e={x:0,y:0};if(a.pointOnPath){var e=this.loc,f=!1;if(jsPlumbUtil.isString(this.loc)||0>this.loc||1<this.loc)e=parseInt(this.loc,10),f=!0;e=a.pointOnPath(e,f)}else e=this.loc.constructor==Array?this.loc:this.endpointLoc,e={x:e[0]*a.w,y:e[1]*a.h};var f=e.x-d[0]/2,k=e.y-d[1]/2;return{component:a,d:{minx:f,miny:k,td:d,cxy:e},minX:f,maxX:f+d[0],minY:k,maxY:k+d[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};
jsPlumbUtil.extend(k,[jsPlumb.DOMElementComponent,f],{getDimensions:function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(this.getElement()))},setVisible:function(a){this._jsPlumb.div.style.display=a?"block":"none"},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){null!=this._jsPlumb.div&&jsPlumb.CurrentLibrary.removeElement(this._jsPlumb.div)},computeMaxSize:function(){var a=b(this);return Math.max(a[0],a[1])},reattachListeners:function(a){this._jsPlumb.div&&
this.reattachListenersForElement(this._jsPlumb.div,this,a)},paint:function(a,b){this._jsPlumb.initialised||(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this.attachListeners(this._jsPlumb.div,a.component),this._jsPlumb.initialised=!0);this._jsPlumb.div.style.left=a.component.x+a.d.minx+"px";this._jsPlumb.div.style.top=a.component.y+a.d.miny+"px"}});jsPlumb.Overlays.Custom=function(a){this.type="Custom";k.apply(this,arguments)};jsPlumbUtil.extend(jsPlumb.Overlays.Custom,k);
jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50;a.lineWidth=5;this.type="GuideLines";f.apply(this,arguments);jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.draw=function(b,c){var d=b.pointAlongPathFrom(a.loc,a.length/2),f=b.pointOnPath(a.loc),f=jsPlumbUtil.pointOnLine(d,f,a.length),k=jsPlumbUtil.perpendicularLineTo(d,f,40),l=jsPlumbUtil.perpendicularLineTo(f,d,20);return{connector:b,head:d,tail:f,headLine:l,tailLine:k,minX:Math.min(d.x,f.x,l[0].x,l[1].x),minY:Math.min(d.y,f.y,
l[0].y,l[1].y),maxX:Math.max(d.x,f.x,l[0].x,l[1].x),maxY:Math.max(d.y,f.y,l[0].y,l[1].y)}}};jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle||jsPlumb.Defaults.LabelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement("div")}},a);jsPlumb.Overlays.Custom.call(this,b);this.type="Label";this.label=a.label||"";this.labelText=null};jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.labelStyle=
this.cssClass=this.labelText=this.label=this.div=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){this.update();return k.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=
this.labelText.replace(/\r\n/g,"<br/>"))}})})();
(function(){var d=function(d){this.type="Flowchart";d=d||{};d.stub=null==d.stub?30:d.stub;var c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),f=null==d.midpoint?0.5:d.midpoint,b=[],k=d.alwaysRespectStubs,a=null,e=null,h=null,p=null!=d.cornerRadius?d.cornerRadius:0,n=function(a){return 0>a?-1:0===a?0:1},m=function(a,b,c,d){if(!(e==b&&h==c)){var f=null==e?d.sx:e;d=null==h?d.sy:h;var k=f==b?"v":"h",l=n(b-f),p=n(c-d);e=b;h=c;a.push([f,d,b,c,k,l,p])}},l=function(a){return Math.sqrt(Math.pow(a[0]-
a[2],2)+Math.pow(a[1]-a[3],2))},t=function(a){var b=[];b.push.apply(b,a);return b},u=function(a,b,d){for(var e,f,h=0;h<b.length-1;h++){e=e||t(b[h]);f=t(b[h+1]);if(0<p&&e[4]!=f[4]){var k=Math.min(p,l(e),l(f));e[2]-=e[5]*k;e[3]-=e[6]*k;f[0]+=f[5]*k;f[1]+=f[6]*k;var m=e[6]==f[5]&&1==f[5]||e[6]==f[5]&&0===f[5]&&e[5]!=f[6]||e[6]==f[5]&&-1==f[5],n=(f[1]>e[3]?1:-1)==(f[0]>e[2]?1:-1),u=n&&m||!n&&!m?f[0]:e[2],n=n&&m||!n&&!m?e[3]:f[1];c.addSegment(a,"Straight",{x1:e[0],y1:e[1],x2:e[2],y2:e[3]});c.addSegment(a,
"Arc",{r:k,x1:e[2],y1:e[3],x2:f[0],y2:f[1],cx:u,cy:n,ac:m})}else k=e[2]==e[0]?0:e[2]>e[0]?d.lw/2:-(d.lw/2),m=e[3]==e[1]?0:e[3]>e[1]?d.lw/2:-(d.lw/2),c.addSegment(a,"Straight",{x1:e[0]-k,y1:e[1]-m,x2:e[2]+k,y2:e[3]+m});e=f}c.addSegment(a,"Straight",{x1:f[0],y1:f[1],x2:f[2],y2:f[3]})};this.setSegments=function(b){a=b};this.isEditable=function(){return!0};this.getOriginalSegments=function(){return a||b};this._compute=function(d,l){l.clearEdits&&(a=null);if(null!=a)u(this,a,d);else{b=[];h=e=null;var p=
d.startStubX+(d.endStubX-d.startStubX)*f,n=d.startStubY+(d.endStubY-d.startStubY)*f,t={x:[0,1],y:[1,0]},q=function(a){return[d.startStubX,d.startStubY,d.endStubX,d.endStubY]},q={perpendicular:q,orthogonal:q,opposite:function(a){var b="x"==a?0:1,c={x:function(){return 1==d.so[b]&&(d.startStubX>d.endStubX&&d.tx>d.startStubX||d.sx>d.endStubX&&d.tx>d.sx)||-1==d.so[b]&&(d.startStubX<d.endStubX&&d.tx<d.startStubX||d.sx<d.endStubX&&d.tx<d.sx)},y:function(){return 1==d.so[b]&&(d.startStubY>d.endStubY&&d.ty>
d.startStubY||d.sy>d.endStubY&&d.ty>d.sy)||-1==d.so[b]&&(d.startStubY<d.endStubY&&d.ty<d.startStubY||d.sy<d.endStubY&&d.ty<d.sy)}};return!k&&c[a]()?{x:[(d.sx+d.tx)/2,d.startStubY,(d.sx+d.tx)/2,d.endStubY],y:[d.startStubX,(d.sy+d.ty)/2,d.endStubX,(d.sy+d.ty)/2]}[a]:[d.startStubX,d.startStubY,d.endStubX,d.endStubY]}}[d.anchorOrientation](d.sourceAxis),H="x"==d.sourceAxis?0:1,y="x"==d.sourceAxis?1:0,I=q[H],M=q[y],J=q[H+2],y=q[y+2];m(b,q[0],q[1],d);if(I={perpendicular:function(a,b,c,e,f){var h={x:[[d.startStubX,
d.endStubX],null,[d.endStubX,d.startStubX]],y:[[d.startStubY,d.endStubY],null,[d.endStubY,d.startStubY]]};b={x:[[p,d.startStubY],[p,d.endStubY]],y:[[d.startStubX,n],[d.endStubX,n]]};c={x:[[d.endStubX,d.startStubY]],y:[[d.startStubX,d.endStubY]]};e={x:[[d.startStubX,d.endStubY],[d.endStubX,d.endStubY]],y:[[d.endStubX,d.startStubY],[d.endStubX,d.endStubY]]};f={x:[[d.startStubX,n],[d.endStubX,n],[d.endStubX,d.endStubY]],y:[[p,d.startStubY],[p,d.endStubY],[d.endStubX,d.endStubY]]};var k={x:[d.startStubY,
d.endStubY],y:[d.startStubX,d.endStubX]},l=t[a][1],m=d.so[t[a][0]]+1,k=-1==d.to[l]&&k[a][1]<k[a][0]||1==d.to[l]&&k[a][1]>k[a][0],y=h[a][m][0],h=h[a][m][1],l={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[a][m][d.to[l]+1];if(d.segment==l[3]||d.segment==l[2]&&k)return b[a];if(d.segment==l[2]&&h<y)return c[a];if(d.segment==l[2]&&h>=y||d.segment==l[1]&&!k)return f[a];if(d.segment==l[0]||d.segment==l[1]&&k)return e[a]},orthogonal:function(a,
b,c,e,f){b={x:-1==d.so[0]?Math.min(b,e):Math.max(b,e),y:-1==d.so[1]?Math.min(b,e):Math.max(b,e)}[a];return{x:[[b,c],[b,f],[e,f]],y:[[c,b],[f,b],[f,e]]}[a]},opposite:function(a,b,e,f,h){h={x:"y",y:"x"}[a];var k={x:"height",y:"width"}[a],m=d["is"+a.toUpperCase()+"GreaterThanStubTimes2"];if(l.sourceEndpoint.elementId==l.targetEndpoint.elementId)return e=e+(1-l.sourceEndpoint.anchor[h])*l.sourceInfo[k]+c.maxStub,{x:[[b,e],[f,e]],y:[[e,b],[e,f]]}[a];if(!m||1==d.so[H]&&b>f||-1==d.so[H]&&b<f)return{x:[[b,
n],[f,n]],y:[[p,b],[p,f]]}[a];if(1==d.so[H]&&b<f||-1==d.so[H]&&b>f)return{x:[[p,d.sy],[p,d.ty]],y:[[d.sx,n],[d.tx,n]]}[a]}}[d.anchorOrientation](d.sourceAxis,I,M,J,y))for(M=0;M<I.length;M++)m(b,I[M][0],I[M][1],d);m(b,q[2],q[3],d);m(b,d.tx,d.ty,d);u(this,b,d)}};this.getPath=function(){for(var c=null,d=null,e=[],f=a||b,h=0;h<f.length;h++){var k=f[h],l=k[4],p="v"==l?3:2;if(null!=c&&d===l)c[p]=k[p];else if(k[0]!=k[2]||k[1]!=k[3])e.push({start:[k[0],k[1]],end:[k[2],k[3]]}),c=k,d=k[4]}return e};this.setPath=
function(b){a=[];for(var c=0;c<b.length;c++){var d=b[c].start[0],e=b[c].start[1],f=b[c].end[0],h=b[c].end[1],k=d==f?"v":"h",l=n(f-d),p=n(h-e);a.push([d,e,f,h,k,l,p])}}};jsPlumbUtil.extend(d,jsPlumb.Connectors.AbstractConnector);jsPlumb.registerConnectorType(d,"Flowchart")})();
(function(){jsPlumb.registerConnectorType(function(d){d=d||{};this.type="StateMachine";var q=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),c=d.curviness||10,f=d.margin||5,b=d.proximityLimit||80,k=d.orientation&&"clockwise"===d.orientation,a=d.loopbackRadius||25,e=!1!==d.showLoopback;this._compute=function(d,p){var n=Math.abs(p.sourcePos[0]-p.targetPos[0]),m=Math.abs(p.sourcePos[1]-p.targetPos[1]);Math.min(p.sourcePos[0],p.targetPos[0]);Math.min(p.sourcePos[1],p.targetPos[1]);if(!e||p.sourceEndpoint.elementId!==
p.targetEndpoint.elementId){var l=p.sourcePos[0]<p.targetPos[0]?0:n,t=p.sourcePos[1]<p.targetPos[1]?0:m,n=p.sourcePos[0]<p.targetPos[0]?n:0,m=p.sourcePos[1]<p.targetPos[1]?m:0;0===p.sourcePos[2]&&(l-=f);1===p.sourcePos[2]&&(l+=f);0===p.sourcePos[3]&&(t-=f);1===p.sourcePos[3]&&(t+=f);0===p.targetPos[2]&&(n-=f);1===p.targetPos[2]&&(n+=f);0===p.targetPos[3]&&(m-=f);1===p.targetPos[3]&&(m+=f);var u=(l+n)/2,v=(t+m)/2,x=-1*u/v,A=Math.atan(x);Infinity==x||-Infinity==x||Math.abs(c/2*Math.sin(A));Infinity==
x||-Infinity==x||Math.abs(c/2*Math.cos(A));x=l<=n&&m<=t?1:l<=n&&t<=m?2:n<=l&&m>=t?3:4;A=Math.sqrt(Math.pow(n-l,2)+Math.pow(m-t,2));var s=p.sourcePos,K=p.targetPos,u=A<=b?[u,v]:1===x?0>=s[3]&&1<=K[3]?[u+(0.5>s[2]?-1*c:c),v]:1<=s[2]&&0>=K[2]?[u,v+(0.5>s[3]?-1*c:c)]:[u+-1*c,v+-1*c]:2===x?1<=s[3]&&0>=K[3]?[u+(0.5>s[2]?-1*c:c),v]:1<=s[2]&&0>=K[2]?[u,v+(0.5>s[3]?-1*c:c)]:[u+1*c,v+-1*c]:3===x?1<=s[3]&&0>=K[3]?[u+(0.5>s[2]?-1*c:c),v]:0>=s[2]&&1<=K[2]?[u,v+(0.5>s[3]?-1*c:c)]:[u+-1*c,v+-1*c]:4===x?0>=s[3]&&
1<=K[3]?[u+(0.5>s[2]?-1*c:c),v]:0>=s[2]&&1<=K[2]?[u,v+(0.5>s[3]?-1*c:c)]:[u+1*c,v+-1*c]:void 0;q.addSegment(this,"Bezier",{x1:n,y1:m,x2:l,y2:t,cp1x:u[0],cp1y:u[1],cp2x:u[0],cp2y:u[1]})}else l=p.sourcePos[0],t=p.sourcePos[1]-f,n=t-a,m=2*a,u=2*a,v=l-a,x=n-a,d.points[0]=v,d.points[1]=x,d.points[2]=m,d.points[3]=u,q.addSegment(this,"Arc",{x1:l-v+4,y1:t-x,startAngle:0,endAngle:2*Math.PI,r:a,ac:!k,x2:l-v-4,y2:t-x,cx:l-v,cy:n-x})}},"StateMachine")})();
(function(){jsPlumb.registerConnectorType(function(d){d=d||{};var q=this,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),f=d.curviness||150;this.type="Bezier";this.getCurviness=function(){return f};this._findControlPoint=function(b,c,a,d,h){d=d.anchor.getOrientation(d);h=h.anchor.getOrientation(h);var p=[];d[0]!=h[0]||d[1]==h[1]?(0===h[0]?p.push(a[0]<c[0]?b[0]+10:b[0]-10):p.push(b[0]+f*h[0]),0===h[1]?p.push(a[1]<c[1]?b[1]+10:b[1]-10):p.push(b[1]+f*d[1])):(0===d[0]?p.push(c[0]<a[0]?b[0]+
10:b[0]-10):p.push(b[0]-f*d[0]),0===d[1]?p.push(c[1]<a[1]?b[1]+10:b[1]-10):p.push(b[1]+f*h[1]));return p};this._compute=function(b,d){var a=d.sourcePos,e=d.targetPos,f=Math.abs(a[0]-e[0]),p=Math.abs(a[1]-e[1]),n=a[0]<e[0]?f:0,m=a[1]<e[1]?p:0,f=a[0]<e[0]?0:f,p=a[1]<e[1]?0:p,l=q._findControlPoint([n,m],a,e,d.sourceEndpoint,d.targetEndpoint),a=q._findControlPoint([f,p],e,a,d.targetEndpoint,d.sourceEndpoint);c.addSegment(this,"Bezier",{x1:n,y1:m,x2:f,y2:p,cp1x:l[0],cp1y:l[1],cp2x:a[0],cp2y:a[1]})}},"Bezier")})();
(function(){var d=function(a){return jsPlumb.CurrentLibrary.getOffset(jsPlumb.CurrentLibrary.getElementObject(a))},q=window.CanvasMouseAdapter=function(){var a=this;a.overlayPlacements=[];jsPlumb.jsPlumbUIComponent.apply(this,arguments);jsPlumbUtil.EventGenerator.apply(this,arguments);this._over=function(b){var c=d(jsPlumb.CurrentLibrary.getElementObject(a.canvas)),e=jsPlumb.CurrentLibrary.getPageXY(b);b=e[0]-c.left;c=e[1]-c.top;if(0<b&&0<c&&b<a.canvas.width&&c<a.canvas.height){for(e=0;e<a.overlayPlacements.length;e++){var f=
a.overlayPlacements[e];if(f&&f[0]<=b&&f[1]>=b&&f[2]<=c&&f[3]>=c)return!0}b=a.canvas.getContext("2d").getImageData(parseInt(b,10),parseInt(c,10),1,1);return 0!==b.data[0]||0!==b.data[1]||0!==b.data[2]||0!==b.data[3]}return!1};var b=!1,c=!1,e=!1;this.mousemove=function(c){jsPlumb.CurrentLibrary.getPageXY(c);var d=jsPlumb.CurrentLibrary.getClientXY(c),e=document.elementFromPoint(d[0],d[1]),d=null!==e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_overlay"),e=null!==
e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_endpoint")||null!==e&&jsPlumb.CurrentLibrary.hasClass(jsPlumb.CurrentLibrary.getElementObject(e),"_jsPlumb_connector");if(!b&&e&&a._over(c))return b=!0,a.fire("mouseenter",a,c),!0;if(b&&(!a._over(c)||!e)&&!d)b=!1,a.fire("mouseexit",a,c);a.fire("mousemove",a,c)};this.click=function(c){b&&(a._over(c)&&!e)&&a.fire("click",a,c);e=!1};this.dblclick=function(c){b&&(a._over(c)&&!e)&&a.fire("dblclick",a,c);e=!1};this.mousedown=
function(b){a._over(b)&&!c&&(c=!0,d(jsPlumb.CurrentLibrary.getElementObject(a.canvas)),a.fire("mousedown",a,b))};this.mouseup=function(b){c=!1;a.fire("mouseup",a,b)};this.contextmenu=function(c){b&&(a._over(c)&&!e)&&a.fire("contextmenu",a,c);e=!1}};jsPlumbUtil.extend(q,[jsPlumb.jsPlumbUIComponent,jsPlumbUtil.EventGenerator]);var c=function(a){var b=document.createElement("canvas");a._jsPlumb.instance.appendElement(b,a.parent);b.style.position="absolute";a["class"]&&(b.className=a["class"]);a._jsPlumb.instance.getId(b,
a.uuid);a.tooltip&&b.setAttribute("title",a.tooltip);return b},f=window.CanvasComponent=function(a){q.apply(this,arguments);var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(a){b.push(a)}};jsPlumbUtil.extend(f,q);var b=[null,[1,-1],[1,1],[-1,1],[-1,-1]],k=function(a,b,c){if(b.gradient){c=c();for(var d=0;d<b.gradient.stops.length;d++)c.addColorStop(b.gradient.stops[d][0],b.gradient.stops[d][1]);a.strokeStyle=c}},a=function(a,c,d,e,f){({Straight:function(a,c,d,
e,f){var h=a.params;c.save();k(c,d,function(){return c.createLinearGradient(h.x1,h.y1,h.x2,h.y2)});c.beginPath();c.translate(e,f);if(d.dashstyle&&2===d.dashstyle.split(" ").length){a=d.dashstyle.split(" ");2!==a.length&&(a=[2,2]);d=[a[0]*d.lineWidth,a[1]*d.lineWidth];e=(h.x2-h.x1)/(h.y2-h.y1);a=jsPlumbUtil.segment([h.x1,h.y1],[h.x2,h.y2]);a=b[a];e=Math.atan(e);f=Math.sqrt(Math.pow(h.x2-h.x1,2)+Math.pow(h.y2-h.y1,2));f=Math.floor(f/(d[0]+d[1]));for(var l=[h.x1,h.y1],p=0;p<f;p++){c.moveTo(l[0],l[1]);
var m=l[0]+Math.abs(Math.sin(e)*d[0])*a[0],n=l[1]+Math.abs(Math.cos(e)*d[0])*a[1],w=l[0]+Math.abs(Math.sin(e)*(d[0]+d[1]))*a[0],l=l[1]+Math.abs(Math.cos(e)*(d[0]+d[1]))*a[1];c.lineTo(m,n);l=[w,l]}c.moveTo(l[0],l[1])}else c.moveTo(h.x1,h.y1);c.lineTo(h.x2,h.y2);c.stroke();c.restore()},Bezier:function(a,b,c,d,e){var f=a.params;b.save();k(b,c,function(){return b.createLinearGradient(f.x2+d,f.y2+e,f.x1+d,f.y1+e)});b.beginPath();b.translate(d,e);b.moveTo(f.x1,f.y1);b.bezierCurveTo(f.cp1x,f.cp1y,f.cp2x,
f.cp2y,f.x2,f.y2);b.stroke();b.restore()},Arc:function(a,b,c,d,e){c=a.params;b.save();b.beginPath();b.translate(d,e);b.arc(c.cx,c.cy,c.r,a.startAngle,a.endAngle,c.ac);b.stroke();b.restore()}})[a.type](a,c,d,e,f)},e=jsPlumb.ConnectorRenderers.canvas=function(b){f.apply(this,arguments);var d=function(b,c,d){this.ctx.save();jsPlumb.extend(this.ctx,b);for(var e=this.getSegments(),f=0;f<e.length;f++)a(e[f],this.ctx,b,c,d);this.ctx.restore()}.bind(this);this.canvas=c({"class":this._jsPlumb.instance.connectorClass+
" "+(b.cssClass||""),_jsPlumb:this._jsPlumb,parent:b.parent});this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(a,b,c){if(null!=a){b=[this.x,this.y];var e=[this.w,this.h],f=0,h=0;null!=c&&(0>c.xmin&&(b[0]+=c.xmin,f=-c.xmin),0>c.ymin&&(b[1]+=c.ymin,h=-c.ymin),e[0]=c.xmax+(0>c.xmin?-c.xmin:0),e[1]=c.ymax+(0>c.ymin?-c.ymin:0));this.translateX=f;this.translateY=h;jsPlumbUtil.sizeElement(this.canvas,b[0],b[1],e[0],e[1]);null!=a.outlineColor&&d({strokeStyle:a.outlineColor,
lineWidth:a.lineWidth+2*(a.outlineWidth||1)},f,h);d(a,f,h)}}};jsPlumbUtil.extend(e,f);var h=function(a){f.apply(this,arguments);this.canvas=c({"class":this._jsPlumb.instance.endpointClass+" "+(a.cssClass||""),_jsPlumb:this._jsPlumb,parent:a.parent,tooltip:self.tooltip});this.ctx=this.canvas.getContext("2d");this.appendDisplayElement(this.canvas);this.paint=function(a,b,c){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);this._paint.apply(this,arguments)}};jsPlumbUtil.extend(h,f);jsPlumb.Endpoints.canvas.Dot=
function(a){jsPlumb.Endpoints.Dot.apply(this,arguments);h.apply(this,arguments);var b=this,c=function(a){try{return parseInt(a,10)}catch(b){if("%"==a.substring(a.length-1))return parseInt(a.substring(0,a-1),10)}};this._paint=function(d){if(null!=d){var e=b.canvas.getContext("2d"),f=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(e,d);if(d.gradient){var h;h=d.gradient;var k=b.defaultOffset,p=b.defaultInnerRadius;h.offset&&(k=c(h.offset));h.innerRadius&&(p=c(h.innerRadius));h=[k,p];f=e.createRadialGradient(b.radius,
b.radius,b.radius,b.radius+(1==f[0]?-1*h[0]:h[0]),b.radius+(1==f[1]?-1*h[0]:h[0]),h[1]);for(h=0;h<d.gradient.stops.length;h++)f.addColorStop(d.gradient.stops[h][0],d.gradient.stops[h][1]);e.fillStyle=f}e.beginPath();e.arc(b.radius,b.radius,b.radius,0,2*Math.PI,!0);e.closePath();(d.fillStyle||d.gradient)&&e.fill();d.strokeStyle&&e.stroke()}}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Dot,[jsPlumb.Endpoints.Dot,h]);jsPlumb.Endpoints.canvas.Rectangle=function(a){var b=this;jsPlumb.Endpoints.Rectangle.apply(this,
arguments);h.apply(this,arguments);this._paint=function(c){var d=b.canvas.getContext("2d"),e=a.endpoint.anchor.getOrientation(a.endpoint);jsPlumb.extend(d,c);if(c.gradient){for(var e=d.createLinearGradient(1==e[0]?b.w:0===e[0]?b.w/2:0,1==e[1]?b.h:0===e[1]?b.h/2:0,-1==e[0]?b.w:0===e[0]?b.w/2:0,-1==e[1]?b.h:0===e[1]?b.h/2:0),f=0;f<c.gradient.stops.length;f++)e.addColorStop(c.gradient.stops[f][0],c.gradient.stops[f][1]);d.fillStyle=e}d.beginPath();d.rect(0,0,b.w,b.h);d.closePath();(c.fillStyle||c.gradient)&&
d.fill();c.strokeStyle&&d.stroke()}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Rectangle,[jsPlumb.Endpoints.Rectangle,h]);jsPlumb.Endpoints.canvas.Triangle=function(a){var b=this;jsPlumb.Endpoints.Triangle.apply(this,arguments);h.apply(this,arguments);this._paint=function(c){var d=b.canvas.getContext("2d"),e=0,f=0,h=0,k=a.endpoint.anchor.getOrientation(a.endpoint);1==k[0]&&(e=b.width,f=b.height,h=180);-1==k[1]&&(e=b.width,h=90);1==k[1]&&(f=b.height,h=-90);d.fillStyle=c.fillStyle;d.translate(e,f);
d.rotate(h*Math.PI/180);d.beginPath();d.moveTo(0,0);d.lineTo(b.width/2,b.height/2);d.lineTo(0,b.height);d.closePath();(c.fillStyle||c.gradient)&&d.fill();c.strokeStyle&&d.stroke()}};jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Triangle,[jsPlumb.Endpoints.Triangle,h]);jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom;var p=function(){jsPlumb.jsPlumbUIComponent.apply(this,
arguments)};jsPlumbUtil.extend(p,jsPlumb.jsPlumbUIComponent);var n=function(a,b){a.apply(this,b);p.apply(this,b);this.paint=function(a,b){var c=a.component.ctx,d=a.d;d&&(c.save(),c.lineWidth=a.lineWidth,c.beginPath(),c.translate(a.component.translateX,a.component.translateY),c.moveTo(d.hxy.x,d.hxy.y),c.lineTo(d.tail[0].x,d.tail[0].y),c.lineTo(d.cxy.x,d.cxy.y),c.lineTo(d.tail[1].x,d.tail[1].y),c.lineTo(d.hxy.x,d.hxy.y),c.closePath(),a.strokeStyle&&(c.strokeStyle=a.strokeStyle,c.stroke()),a.fillStyle&&
(c.fillStyle=a.fillStyle,c.fill()),c.restore())}};jsPlumb.Overlays.canvas.Arrow=function(){n.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Arrow,[jsPlumb.Overlays.Arrow,p]);jsPlumb.Overlays.canvas.PlainArrow=function(){n.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.canvas.PlainArrow,[jsPlumb.Overlays.PlainArrow,p]);jsPlumb.Overlays.canvas.Diamond=function(){n.apply(this,[jsPlumb.Overlays.Diamond,arguments])};
jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Diamond,[jsPlumb.Overlays.Diamond,p])})();
(function(){var d={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},q=function(a,b){for(var c in b)a.setAttribute(c,""+b[c])},c=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);b=b||{};b.version="1.1";b.xmlns="http://www.w3.org/1999/xhtml";q(c,b);return c},f=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},b=function(a){for(var b=0;b<a.childNodes.length;b++)("linearGradient"==
a.childNodes[b].tagName||"radialGradient"==a.childNodes[b].tagName)&&a.removeChild(a.childNodes[b])},k=function(a,d,e,f,h){f="jsplumb_gradient_"+h._jsPlumb.instance.idstamp();b(a);var k;k=e.gradient.offset?c("radialGradient",{id:f}):c("linearGradient",{id:f,gradientUnits:"userSpaceOnUse"});a.appendChild(k);for(a=0;a<e.gradient.stops.length;a++){var p=jsPlumbUtil.convertStyle(e.gradient.stops[1==h.segment||2==h.segment?a:e.gradient.stops.length-1-a][1],!0),p=c("stop",{offset:Math.floor(100*e.gradient.stops[a][0])+
"%","stop-color":p});k.appendChild(p)}d.setAttribute("style",(e.strokeStyle?"stroke":"fill")+":url(#"+f+")")},a=function(a,c,e,f,h){e.gradient?k(a,c,e,f,h):(b(a),c.setAttribute("style",""));c.setAttribute("fill",e.fillStyle?jsPlumbUtil.convertStyle(e.fillStyle,!0):"none");c.setAttribute("stroke",e.strokeStyle?jsPlumbUtil.convertStyle(e.strokeStyle,!0):"none");e.lineWidth&&c.setAttribute("stroke-width",e.lineWidth);if(e.dashstyle&&e.lineWidth&&!e["stroke-dasharray"]){var p=-1==e.dashstyle.indexOf(",")?
" ":",",n="";e.dashstyle.split(p).forEach(function(a){n+=Math.floor(a*e.lineWidth)+p});c.setAttribute("stroke-dasharray",n)}else e["stroke-dasharray"]&&c.setAttribute("stroke-dasharray",e["stroke-dasharray"]);for(var q in d)e[q]&&c.setAttribute(d[q],e[q])},e=function(a,b,c){c=c.split(" ");for(var d=a.className.baseVal.split(" "),e=0;e<c.length;e++)if(b)-1==d.indexOf(c[e])&&d.push(c[e]);else{var f=d.indexOf(c[e]);-1!=f&&d.splice(f,1)}a.className.baseVal=d.join(" ")};jsPlumbUtil.svg={addClass:function(a,
b){e(a,!0,b)},removeClass:function(a,b){e(a,!1,b)},node:c,attr:q,pos:f};var h=function(a){var b=a.pointerEventsSpec||"all",d={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs);this.svg=this.path=this.canvas=null;var e=a.cssClass+" "+(a.originalArgs[0].cssClass||"");this.svg=c("svg",{style:"",width:0,height:0,"pointer-events":b,position:"absolute"});a.useDivWrapper?(this.canvas=document.createElement("div"),this.canvas.style.position="absolute",jsPlumbUtil.sizeElement(this.canvas,0,0,1,1),this.canvas.className=
e):(q(this.svg,{"class":e}),this.canvas=this.svg);a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent);a.useDivWrapper&&this.canvas.appendChild(this.svg);var h=[this.canvas];this.getDisplayElements=function(){return h};this.appendDisplayElement=function(a){h.push(a)};this.paint=function(b,c,e){if(null!=b){var h=[this.x,this.y],k=[this.w,this.h];null!=e&&(0>e.xmin&&(h[0]+=e.xmin),0>e.ymin&&(h[1]+=e.ymin),k[0]=e.xmax+(0>e.xmin?-e.xmin:0),k[1]=e.ymax+(0>e.ymin?-e.ymin:0));a.useDivWrapper?(jsPlumbUtil.sizeElement(this.canvas,
h[0],h[1],k[0],k[1]),h[0]=0,h[1]=0,h=f([0,0])):h=f([h[0],h[1]]);d.paint.apply(this,arguments);q(this.svg,{style:h,width:k[0],height:k[1]})}};return{renderer:d}};jsPlumbUtil.extend(h,jsPlumb.jsPlumbUIComponent,{cleanup:function(){jsPlumbUtil.removeElement(this.canvas);this.path=this.canvas=this.svg=null}});jsPlumb.ConnectorRenderers.svg=function(b){var d=this;h.apply(this,[{cssClass:b._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:b._jsPlumb}]).renderer.paint=function(e,
f,h){f=d.getSegments();var k="",p=[0,0];0>h.xmin&&(p[0]=-h.xmin);0>h.ymin&&(p[1]=-h.ymin);for(h=0;h<f.length;h++)k+=jsPlumb.Segments.svg.SegmentRenderer.getPath(f[h]),k+=" ";f={d:k,transform:"translate("+p[0]+","+p[1]+")","pointer-events":b["pointer-events"]||"visibleStroke"};k=null;h=[d.x,d.y,d.w,d.h];if(e.outlineColor){p=e.lineWidth+2*(e.outlineWidth||1);k=jsPlumb.CurrentLibrary.extend({},e);k.strokeStyle=jsPlumbUtil.convertStyle(e.outlineColor);k.lineWidth=p;if(null==d.bgPath){d.bgPath=c("path",
f);var p=d.svg,n=d.bgPath;0<p.childNodes.length?p.insertBefore(n,p.childNodes[0]):p.appendChild(n);d.attachListeners(d.bgPath,d)}else q(d.bgPath,f);a(d.svg,d.bgPath,k,h,d)}null==d.path?(d.path=c("path",f),f=d.svg,k=d.path,p=e.outlineColor?1:0,f.childNodes.length>p?f.insertBefore(k,f.childNodes[p]):f.appendChild(k),d.attachListeners(d.path,d)):q(d.path,f);a(d.svg,d.path,e,h,d)};this.reattachListeners=function(){this.bgPath&&this.reattachListenersForElement(this.bgPath,this);this.path&&this.reattachListenersForElement(this.path,
this)}};jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,h);jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return{Straight:function(){var b=a.getCoordinates();return"M "+b.x1+" "+b.y1+" L "+b.x2+" "+b.y2},Bezier:function(){var b=a.params;return"M "+b.x1+" "+b.y1+" C "+b.cp1x+" "+b.cp1y+" "+b.cp2x+" "+b.cp2y+" "+b.x2+" "+b.y2},Arc:function(){return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+a.params.r+" 0 "+(a.sweep>Math.PI?1:0)+","+(a.anticlockwise?0:1)+" "+a.x2+" "+a.y2}}[a.type]()}}};var p=
window.SvgEndpoint=function(b){h.apply(this,[{cssClass:b._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:b._jsPlumb}]).renderer.paint=function(b){b=jsPlumb.extend({},b);b.outlineColor&&(b.strokeWidth=b.outlineWidth,b.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor,!0));null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node),this.attachListeners(this.node,this)):null!=this.updateNode&&this.updateNode(this.node);a(this.svg,this.node,
b,[this.x,this.y,this.w,this.h],this);f(this.node,[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(p,h,{reattachListeners:function(){this.node&&this.reattachListenersForElement(this.node,this)}});jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);p.apply(this,arguments);this.makeNode=function(a){return c("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(a){q(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,
[jsPlumb.Endpoints.Dot,p]);jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);p.apply(this,arguments);this.makeNode=function(a){return c("rect",{width:this.w,height:this.h})};this.updateNode=function(a){q(a,{width:this.w,height:this.h})}};jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,p]);jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label;
jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var n=function(a,b){a.apply(this,b);jsPlumb.jsPlumbUIComponent.apply(this,b);this.isAppendedAtTopLevel=!1;this.path=null;this.paint=function(a,d){if(a.component.svg&&d){null==this.path&&(this.path=c("path",{"pointer-events":"all"}),a.component.svg.appendChild(this.path),this.attachListeners(this.path,a.component),this.attachListeners(this.path,this));var e=b&&1==b.length?b[0].cssClass||"":"",f=[0,0];0>d.xmin&&(f[0]=-d.xmin);0>d.ymin&&(f[1]=-d.ymin);
q(this.path,{d:"M"+a.d.hxy.x+","+a.d.hxy.y+" L"+a.d.tail[0].x+","+a.d.tail[0].y+" L"+a.d.cxy.x+","+a.d.cxy.y+" L"+a.d.tail[1].x+","+a.d.tail[1].y+" L"+a.d.hxy.x+","+a.d.hxy.y,"class":e,stroke:a.strokeStyle?a.strokeStyle:null,fill:a.fillStyle?a.fillStyle:null,transform:"translate("+f[0]+","+f[1]+")"})}};this.reattachListeners=function(){this.path&&this.reattachListenersForElement(this.path,this)}};jsPlumbUtil.extend(n,jsPlumb.jsPlumbUIComponent,{cleanup:function(){null!=this.path&&jsPlumb.CurrentLibrary.removeElement(this.path)}});
jsPlumb.Overlays.svg.Arrow=function(){n.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,n]);jsPlumb.Overlays.svg.PlainArrow=function(){n.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,n]);jsPlumb.Overlays.svg.Diamond=function(){n.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,
n]);jsPlumb.Overlays.svg.GuideLines=function(){var a=null,b=this,d,e;jsPlumb.Overlays.GuideLines.apply(this,arguments);this.paint=function(h,k){null==a&&(a=c("path"),h.connector.svg.appendChild(a),b.attachListeners(a,h.connector),b.attachListeners(a,b),d=c("path"),h.connector.svg.appendChild(d),b.attachListeners(d,h.connector),b.attachListeners(d,b),e=c("path"),h.connector.svg.appendChild(e),b.attachListeners(e,h.connector),b.attachListeners(e,b));var p=[0,0];0>k.xmin&&(p[0]=-k.xmin);0>k.ymin&&(p[1]=
-k.ymin);q(a,{d:f(h.head,h.tail),stroke:"red",fill:null,transform:"translate("+p[0]+","+p[1]+")"});q(d,{d:f(h.tailLine[0],h.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+p[0]+","+p[1]+")"});q(e,{d:f(h.headLine[0],h.headLine[1]),stroke:"green",fill:null,transform:"translate("+p[0]+","+p[1]+")"})};var f=function(a,b){return"M "+a.x+","+a.y+" L"+b.x+","+b.y}};jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)})();
(function(){var d={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},q=null;if(document.createStyleSheet&&document.namespaces){for(var c=".jsplumb_vml jsplumb\\:textbox jsplumb\\:oval jsplumb\\:rect jsplumb\\:stroke jsplumb\\:shape jsplumb\\:group".split(" "),q=document.createStyleSheet(),f=0;f<c.length;f++)q.addRule(c[f],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var b=
function(a,b){for(var c in b)a[c]=b[c]},k=function(c,d,e,f,h,k){e=e||{};c=document.createElement("jsplumb:"+c);k?h.appendElement(c,f):jsPlumb.CurrentLibrary.appendElement(c,f);c.className=(e["class"]?e["class"]+" ":"")+"jsplumb_vml";a(c,d);b(c,e);return c},a=function(a,b,c){a.style.left=b[0]+"px";a.style.top=b[1]+"px";a.style.width=b[2]+"px";a.style.height=b[3]+"px";a.style.position="absolute";c&&(a.style.zIndex=c)},e=jsPlumb.vml.convertValue=function(a){return Math.floor(1E3*a)},h=function(a,c,d,
e){var f={};if(c.strokeStyle){f.stroked="true";var h=jsPlumbUtil.convertStyle(c.strokeStyle,!0);f.strokecolor=h;"transparent"===h?d.setOpacity("stroke","0.0"):d.setOpacity("stroke","1.0");f.strokeweight=c.lineWidth+"px"}else f.stroked="false";c.fillStyle?(f.filled="true",h=jsPlumbUtil.convertStyle(c.fillStyle,!0),f.fillcolor=h,"transparent"===h?d.setOpacity("fill","0.0"):d.setOpacity("fill","1.0")):f.filled="false";if(c.dashstyle)null==d.strokeNode?d.strokeNode=k("stroke",[0,0,0,0],{dashstyle:c.dashstyle},
a,e):d.strokeNode.dashstyle=c.dashstyle;else if(c["stroke-dasharray"]&&c.lineWidth){for(var h=-1==c["stroke-dasharray"].indexOf(",")?" ":",",p=c["stroke-dasharray"].split(h),n="",m=0;m<p.length;m++)n+=Math.floor(p[m]/c.lineWidth)+h;null==d.strokeNode?d.strokeNode=k("stroke",[0,0,0,0],{dashstyle:n},a,e):d.strokeNode.dashstyle=n}b(a,f)},p=function(){var a=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments);this.opacityNodes={stroke:null,fill:null};this.initOpacityNodes=function(b){a.opacityNodes.stroke=
k("stroke",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance);a.opacityNodes.fill=k("fill",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance)};this.setOpacity=function(b,c){var d=a.opacityNodes[b];d&&(d.opacity=""+c)};var b=[];this.getDisplayElements=function(){return b};this.appendDisplayElement=function(c,d){d||a.canvas.parentNode.appendChild(c);b.push(c)}};jsPlumbUtil.extend(p,jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&jsPlumbUtil.removeElement(this.bgCanvas);jsPlumbUtil.removeElement(this.canvas)}});
q=jsPlumb.ConnectorRenderers.vml=function(c){this.canvas=this.strokeNode=null;p.apply(this,arguments);var e=this._jsPlumb.instance.connectorClass+(c.cssClass?" "+c.cssClass:"");this.paint=function(f){if(null!==f){this.w=Math.max(this.w,1);this.h=Math.max(this.h,1);for(var p=this.getSegments(),n={path:""},m=[this.x,this.y,this.w,this.h],q=0;q<p.length;q++)n.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(p[q]),n.path+=" ";if(f.outlineColor){var p=f.lineWidth+2*(f.outlineWidth||1),p={strokeStyle:jsPlumbUtil.convertStyle(f.outlineColor),
lineWidth:p},K;for(K in d)p[K]=f[K];null==this.bgCanvas?(n["class"]=e,n.coordsize=1E3*m[2]+","+1E3*m[3],this.bgCanvas=k("shape",m,n,c.parent,this._jsPlumb.instance,!0),a(this.bgCanvas,m),this.appendDisplayElement(this.bgCanvas,!0),this.attachListeners(this.bgCanvas,this),this.initOpacityNodes(this.bgCanvas,["stroke"])):(n.coordsize=1E3*m[2]+","+1E3*m[3],a(this.bgCanvas,m),b(this.bgCanvas,n));h(this.bgCanvas,p,this)}null==this.canvas?(n["class"]=e,n.coordsize=1E3*m[2]+","+1E3*m[3],this.canvas=k("shape",
m,n,c.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.attachListeners(this.canvas,this),this.initOpacityNodes(this.canvas,["stroke"])):(n.coordsize=1E3*m[2]+","+1E3*m[3],a(this.canvas,m),b(this.canvas,n));h(this.canvas,f,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(q,p,{reattachListeners:function(){this.canvas&&this.reattachListenersForElement(this.canvas,this)}});var n=window.VmlEndpoint=function(c){p.apply(this,arguments);this._jsPlumb.vml=null;this.canvas=
document.createElement("div");this.canvas.style.position="absolute";this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(c.cssClass?" "+c.cssClass:"");c._jsPlumb.appendElement(this.canvas,c.parent);this.paint=function(c,d){var e={},f=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h);null==this._jsPlumb.vml?(e["class"]=this._jsPlumb.clazz,f=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],e,d,this.canvas,this._jsPlumb.instance),this.attachListeners(f,this),this.appendDisplayElement(f,
!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(f,["fill"])):(a(f,[0,0,this.w,this.h]),b(f,e));h(f,c,this)}};jsPlumbUtil.extend(n,p,{reattachListeners:function(){this._jsPlumb.vml&&this.reattachListenersForElement(this._jsPlumb.vml,this)}});jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return{Straight:function(a){a=a.params;return"m"+e(a.x1)+","+e(a.y1)+" l"+e(a.x2)+","+e(a.y2)+" e"},Bezier:function(a){a=a.params;return"m"+e(a.x1)+","+e(a.y1)+" c"+e(a.cp1x)+","+e(a.cp1y)+
","+e(a.cp2x)+","+e(a.cp2y)+","+e(a.x2)+","+e(a.y2)+" e"},Arc:function(a){var b=a.params,c=Math.min(b.x1,b.x2);Math.max(b.x1,b.x2);var d=Math.min(b.y1,b.y2);Math.max(b.y1,b.y2);var f=a.anticlockwise?1:0;return(a.anticlockwise?"at ":"wa ")+function(){var h=[null,[function(){return[c,d]},function(){return[c-b.r,d-b.r]}],[function(){return[c-b.r,d]},function(){return[c,d-b.r]}],[function(){return[c-b.r,d-b.r]},function(){return[c,d]}],[function(){return[c,d-b.r]},function(){return[c-b.r,d]}]][a.segment][f]();
return e(h[0])+","+e(h[1])+","+e(h[0]+2*b.r)+","+e(h[1]+2*b.r)}()+","+e(b.x1)+","+e(b.y1)+","+e(b.x2)+","+e(b.y2)+" e"}}[a.type](a)}}};jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments);n.apply(this,arguments);this.getVml=function(a,b,c,d,e){return k("oval",a,b,d,e)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,n);jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments);n.apply(this,arguments);this.getVml=function(a,b,c,d,e){return k("rect",
a,b,d,e)}};jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,n);jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image;jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank;jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label;jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;var m=function(c,d){c.apply(this,d);p.apply(this,d);var f=this;f.canvas=null;f.isAppendedAtTopLevel=!0;this.paint=function(c,h){var l={},p=c.d,n=c.component;c.strokeStyle&&(l.stroked="true",l.strokecolor=jsPlumbUtil.convertStyle(c.strokeStyle,
!0));c.lineWidth&&(l.strokeweight=c.lineWidth+"px");c.fillStyle&&(l.filled="true",l.fillcolor=c.fillStyle);var m=Math.min(p.hxy.x,p.tail[0].x,p.tail[1].x,p.cxy.x),q=Math.min(p.hxy.y,p.tail[0].y,p.tail[1].y,p.cxy.y),y=Math.max(p.hxy.x,p.tail[0].x,p.tail[1].x,p.cxy.x),I=Math.max(p.hxy.y,p.tail[0].y,p.tail[1].y,p.cxy.y),y=Math.abs(y-m),I=Math.abs(I-q),m=[m,q,y,I];l.path="m "+e(p.hxy.x)+","+e(p.hxy.y)+" l "+e(p.tail[0].x)+","+e(p.tail[0].y)+" "+e(p.cxy.x)+","+e(p.cxy.y)+" "+e(p.tail[1].x)+","+e(p.tail[1].y)+
" x e";l.coordsize=1E3*n.w+","+1E3*n.h;m[0]=n.x;m[1]=n.y;m[2]=n.w;m[3]=n.h;null==f.canvas?(l["class"]=(d&&1==d.length?d[0].cssClass||"":"")+" "+(n._jsPlumb.overlayClass||""),f.canvas=k("shape",m,l,n.canvas.parentNode,n._jsPlumb.instance,!0),n.appendDisplayElement(f.canvas,!0),f.attachListeners(f.canvas,n),f.attachListeners(f.canvas,f)):(a(f.canvas,m),b(f.canvas,l))};this.reattachListeners=function(){f.canvas&&f.reattachListenersForElement(f.canvas,f)};this.cleanup=function(){null!=f.canvas&&jsPlumb.CurrentLibrary.removeElement(f.canvas)}};
jsPlumbUtil.extend(m,p);jsPlumb.Overlays.vml.Arrow=function(){m.apply(this,[jsPlumb.Overlays.Arrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,m]);jsPlumb.Overlays.vml.PlainArrow=function(){m.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,m]);jsPlumb.Overlays.vml.Diamond=function(){m.apply(this,[jsPlumb.Overlays.Diamond,arguments])};jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,
[jsPlumb.Overlays.Diamond,m])})();
(function(d){var q=function(c){return"string"==typeof c?d("#"+c):d(c)};jsPlumb.CurrentLibrary={addClass:function(c,d){c=q(c);try{c[0].className.constructor==SVGAnimatedString&&jsPlumbUtil.svg.addClass(c[0],d)}catch(b){}try{c.addClass(d)}catch(k){}},animate:function(c,d,b){c.animate(d,b)},appendElement:function(c,d){q(d).append(c)},ajax:function(c){c=c||{};c.type=c.type||"get";d.ajax(c)},bind:function(c,d,b){c=q(c);c.bind(d,b)},destroyDraggable:function(c){d(c).data("draggable")&&d(c).draggable("destroy")},
destroyDroppable:function(c){d(c).data("droppable")&&d(c).droppable("destroy")},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(c,f){return d.extend(c,f)},getClientXY:function(c){return[c.clientX,c.clientY]},getDragObject:function(c){return c[1].draggable||c[1].helper},getDragScope:function(c){return d(c).draggable("option","scope")},getDropEvent:function(c){return c[0]},getDropScope:function(c){return d(c).droppable("option",
"scope")},getDOMElement:function(c){return null==c?null:"string"==typeof c?document.getElementById(c):c.context||null!=c.length?c[0]:c},getElementObject:q,getOffset:function(c){return c.offset()},getOriginalEvent:function(c){return c.originalEvent},getPageXY:function(c){return[c.pageX,c.pageY]},getParent:function(c){return q(c).parent()},getScrollLeft:function(c){return c.scrollLeft()},getScrollTop:function(c){return c.scrollTop()},getSelector:function(c,f){return 2==arguments.length?q(c).find(f):
d(c)},getSize:function(c){c=d(c);return[c.outerWidth(),c.outerHeight()]},getTagName:function(c){c=q(c);return 0<c.length?c[0].tagName:null},getUIPosition:function(c,d){d=d||1;if(1==c.length)ret={left:c[0].pageX,top:c[0].pageY};else{var b=c[1];ret=b.offset||b.absolutePosition;b.position.left/=d;b.position.top/=d}return{left:ret.left/d,top:ret.top/d}},hasClass:function(c,d){return c.hasClass(d)},initDraggable:function(c,f,b,k){f=f||{};c=d(c);f.start=jsPlumbUtil.wrap(f.start,function(){d("body").addClass(k.dragSelectClass)},
!1);f.stop=jsPlumbUtil.wrap(f.stop,function(){d("body").removeClass(k.dragSelectClass)});f.doNotRemoveHelper||(f.helper=null);b&&(f.scope=f.scope||jsPlumb.Defaults.Scope);c.draggable(f)},initDroppable:function(c,f){f.scope=f.scope||jsPlumb.Defaults.Scope;d(c).droppable(f)},isAlreadyDraggable:function(c){return d(c).hasClass("ui-draggable")},isDragSupported:function(c,f){return d(c).draggable},isDropSupported:function(c,f){return d(c).droppable},removeClass:function(c,d){c=q(c);try{if(c[0].className.constructor==
SVGAnimatedString){jsPlumbUtil.svg.removeClass(c[0],d);return}}catch(b){}c.removeClass(d)},removeElement:function(c){q(c).remove()},setDragFilter:function(c,d){jsPlumb.CurrentLibrary.isAlreadyDraggable(c)&&c.draggable("option","cancel",d)},setDraggable:function(c,d){c.draggable("option","disabled",!d)},setDragScope:function(c,d){c.draggable("option","scope",d)},setOffset:function(c,d){q(c).offset(d)},trigger:function(c,d,b){jQuery._data(q(c)[0],"handle")(b)},unbind:function(c,d,b){c=q(c);c.unbind(d,
b)}};d(document).ready(jsPlumb.init)})(jQuery);
(function(d,q){"object"===typeof exports?module.exports=q(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],q):d.URI=q(d.punycode,d.IPv6,d.SecondLevelDomains,d)})(this,function(d,q,c,f){function b(a,c){if(!(this instanceof b))return new b(a,c);void 0===a&&(a="undefined"!==typeof location?location.href+"":"");this.href(a);return void 0!==c?this.absoluteTo(c):this}function k(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,
"\\$1")}function a(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function e(b){return"Array"===a(b)}function h(b,c){var d,f;if(e(c)){d=0;for(f=c.length;d<f;d++)if(!h(b,c[d]))return!1;return!0}var k=a(c);d=0;for(f=b.length;d<f;d++)if("RegExp"===k){if("string"===typeof b[d]&&b[d].match(c))return!0}else if(b[d]===c)return!0;return!1}function p(a,b){if(!e(a)||!e(b)||a.length!==b.length)return!1;a.sort();b.sort();for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;
return!0}function n(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,n).replace(/\*/g,"%2A")}var l=f&&f.URI,t=b.prototype,u=Object.prototype.hasOwnProperty;b._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}};b.duplicateQueryParameters=!1;b.escapeQuerySpace=!0;b.protocol_expression=/^[a-z][a-z0-9-+-]*$/i;
b.idn_expression=/[^a-z0-9\.-]/i;b.punycode_expression=/(xn--)/i;b.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;b.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;
b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/ig;b.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};b.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;b.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",
iframe:"src",embed:"src",source:"src",track:"src",input:"src"};b.getDomAttribute=function(a){if(a&&a.nodeName){var c=a.nodeName.toLowerCase();return"input"===c&&"image"!==a.type?void 0:b.domAttributes[c]}};b.encode=m;b.decode=decodeURIComponent;b.iso8859=function(){b.encode=escape;b.decode=unescape};b.unicode=function(){b.encode=m;b.decode=decodeURIComponent};b.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=",
"%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};b.encodeQuery=function(a,c){var d=b.encode(a+"");return c?d.replace(/%20/g,"+"):d};b.decodeQuery=function(a,c){a+="";try{return b.decode(c?
a.replace(/\+/g,"%20"):a)}catch(d){return a}};b.recodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.encodePathSegment(b.decode(a[c]));return a.join("/")};b.decodePath=function(a){a=(a+"").split("/");for(var c=0,d=a.length;c<d;c++)a[c]=b.decodePathSegment(a[c]);return a.join("/")};var v={encode:"encode",decode:"decode"},x,A=function(a,c){return function(d){return b[c](d+"").replace(b.characters[a][c].expression,function(d){return b.characters[a][c].map[d]})}};for(x in v)b[x+
"PathSegment"]=A("pathname",v[x]);b.encodeReserved=A("reserved","encode");b.parse=function(a,c){var d;c||(c={});d=a.indexOf("#");-1<d&&(c.fragment=a.substring(d+1)||null,a=a.substring(0,d));d=a.indexOf("?");-1<d&&(c.query=a.substring(d+1)||null,a=a.substring(0,d));"//"===a.substring(0,2)?(c.protocol=null,a=a.substring(2),a=b.parseAuthority(a,c)):(d=a.indexOf(":"),-1<d&&(c.protocol=a.substring(0,d)||null,c.protocol&&!c.protocol.match(b.protocol_expression)?c.protocol=void 0:"file"===c.protocol?a=a.substring(d+
3):"//"===a.substring(d+1,d+3)?(a=a.substring(d+3),a=b.parseAuthority(a,c)):(a=a.substring(d+1),c.urn=!0)));c.path=a;return c};b.parseHost=function(a,b){var c=a.indexOf("/"),d;-1===c&&(c=a.length);"["===a.charAt(0)?(d=a.indexOf("]"),b.hostname=a.substring(1,d)||null,b.port=a.substring(d+2,c)||null):a.indexOf(":")!==a.lastIndexOf(":")?(b.hostname=a.substring(0,c)||null,b.port=null):(d=a.substring(0,c).split(":"),b.hostname=d[0]||null,b.port=d[1]||null);b.hostname&&"/"!==a.substring(c).charAt(0)&&(c++,
a="/"+a);return a.substring(c)||"/"};b.parseAuthority=function(a,c){a=b.parseUserinfo(a,c);return b.parseHost(a,c)};b.parseUserinfo=function(a,c){var d=a.indexOf("/"),e=-1<d?a.lastIndexOf("@",d):a.indexOf("@");-1<e&&(-1===d||e<d)?(d=a.substring(0,e).split(":"),c.username=d[0]?b.decode(d[0]):null,d.shift(),c.password=d[0]?b.decode(d.join(":")):null,a=a.substring(e+1)):(c.username=null,c.password=null);return a};b.parseQuery=function(a,c){if(!a)return{};a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,
"");if(!a)return{};for(var d={},e=a.split("&"),f=e.length,h,k,l=0;l<f;l++)h=e[l].split("="),k=b.decodeQuery(h.shift(),c),h=h.length?b.decodeQuery(h.join("="),c):null,d[k]?("string"===typeof d[k]&&(d[k]=[d[k]]),d[k].push(h)):d[k]=h;return d};b.build=function(a){var c="";a.protocol&&(c+=a.protocol+":");if(!a.urn&&(c||a.hostname))c+="//";c+=b.buildAuthority(a)||"";"string"===typeof a.path&&("/"!==a.path.charAt(0)&&"string"===typeof a.hostname&&(c+="/"),c+=a.path);"string"===typeof a.query&&a.query&&
(c+="?"+a.query);"string"===typeof a.fragment&&a.fragment&&(c+="#"+a.fragment);return c};b.buildHost=function(a){var c="";if(a.hostname)b.ip6_expression.test(a.hostname)?c=a.port?c+("["+a.hostname+"]:"+a.port):c+a.hostname:(c+=a.hostname,a.port&&(c+=":"+a.port));else return"";return c};b.buildAuthority=function(a){return b.buildUserinfo(a)+b.buildHost(a)};b.buildUserinfo=function(a){var c="";a.username&&(c+=b.encode(a.username),a.password&&(c+=":"+b.encode(a.password)),c+="@");return c};b.buildQuery=
function(a,c,d){var f="",h,k,l,p;for(k in a)if(u.call(a,k)&&k)if(e(a[k])){h={};l=0;for(p=a[k].length;l<p;l++)void 0!==a[k][l]&&void 0===h[a[k][l]+""]&&(f+="&"+b.buildQueryParameter(k,a[k][l],d),!0!==c&&(h[a[k][l]+""]=!0))}else void 0!==a[k]&&(f+="&"+b.buildQueryParameter(k,a[k],d));return f.substring(1)};b.buildQueryParameter=function(a,c,d){return b.encodeQuery(a,d)+(null!==c?"="+b.encodeQuery(c,d):"")};b.addQuery=function(a,c,d){if("object"===typeof c)for(var f in c)u.call(c,f)&&b.addQuery(a,f,
c[f]);else if("string"===typeof c)void 0===a[c]?a[c]=d:("string"===typeof a[c]&&(a[c]=[a[c]]),e(d)||(d=[d]),a[c]=a[c].concat(d));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};b.removeQuery=function(a,c,d){var f;if(e(c)){d=0;for(f=c.length;d<f;d++)a[c[d]]=void 0}else if("object"===typeof c)for(f in c)u.call(c,f)&&b.removeQuery(a,f,c[f]);else if("string"===typeof c)if(void 0!==d)if(a[c]===d)a[c]=void 0;else{if(e(a[c])){f=a[c];var h={},k,l;if(e(d)){k=0;
for(l=d.length;k<l;k++)h[d[k]]=!0}else h[d]=!0;k=0;for(l=f.length;k<l;k++)void 0!==h[f[k]]&&(f.splice(k,1),l--,k--);a[c]=f}}else a[c]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};b.hasQuery=function(c,d,f,k){if("object"===typeof d){for(var l in d)if(u.call(d,l)&&!b.hasQuery(c,l,d[l]))return!1;return!0}if("string"!==typeof d)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(f)){case "Undefined":return d in
c;case "Boolean":return c=Boolean(e(c[d])?c[d].length:c[d]),f===c;case "Function":return!!f(c[d],d,c);case "Array":return!e(c[d])?!1:(k?h:p)(c[d],f);case "RegExp":return!e(c[d])?Boolean(c[d]&&c[d].match(f)):!k?!1:h(c[d],f);case "Number":f=String(f);case "String":return!e(c[d])?c[d]===f:!k?!1:h(c[d],f);default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};b.commonPath=function(a,b){var c=Math.min(a.length,b.length),d;for(d=
0;d<c;d++)if(a.charAt(d)!==b.charAt(d)){d--;break}if(1>d)return a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"";if("/"!==a.charAt(d)||"/"!==b.charAt(d))d=a.substring(0,d).lastIndexOf("/");return a.substring(0,d+1)};b.withinString=function(a,c){return a.replace(b.find_uri_expression,c)};b.ensureValidHostname=function(a){if(a.match(b.invalid_hostname_characters)){if(!d)throw new TypeError("Hostname '"+a+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(d.toASCII(a).match(b.invalid_hostname_characters))throw new TypeError("Hostname '"+
a+"' contains characters other than [A-Z0-9.-]");}};b.noConflict=function(a){if(a)return a={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(a.URITemplate=URITemplate.noConflict()),q&&"function"==typeof q.noConflict&&(a.IPv6=q.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(a.SecondLevelDomains=SecondLevelDomains.noConflict()),a;f.URI===this&&(f.URI=l);return this};t.build=function(a){if(!0===a)this._deferred_build=!0;else if(void 0===
a||this._deferred_build)this._string=b.build(this._parts),this._deferred_build=!1;return this};t.clone=function(){return new b(this)};t.valueOf=t.toString=function(){return this.build(!1)._string};v={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};A=function(a){return function(b,c){if(void 0===b)return this._parts[a]||"";this._parts[a]=b||null;this.build(!c);return this}};for(x in v)t[x]=A(v[x]);v={query:"?",fragment:"#"};A=function(a,b){return function(c,
d){if(void 0===c)return this._parts[a]||"";null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1)));this._parts[a]=c;this.build(!d);return this}};for(x in v)t[x]=A(x,v[x]);v={search:["?","query"],hash:["#","fragment"]};A=function(a,b){return function(c,d){var e=this[a](c,d);return"string"===typeof e&&e.length?b+e:e}};for(x in v)t[x]=A(v[x][1],v[x][0]);t.pathname=function(a,c){if(void 0===a||!0===a){var d=this._parts.path||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}this._parts.path=a?b.recodePath(a):
"/";this.build(!c);return this};t.path=t.pathname;t.href=function(a,c){var d;if(void 0===a)return this.toString();this._string="";this._parts=b._parts();var e=a instanceof b,f="object"===typeof a&&(a.hostname||a.path||a.pathname);a.nodeName&&(f=b.getDomAttribute(a),a=a[f]||"",f=!1);!e&&(f&&void 0!==a.pathname)&&(a=a.toString());if("string"===typeof a)this._parts=b.parse(a,this._parts);else if(e||f)for(d in e=e?a._parts:a,e)u.call(this._parts,d)&&(this._parts[d]=e[d]);else throw new TypeError("invalid input");
this.build(!c);return this};t.is=function(a){var d=!1,e=!1,f=!1,h=!1,k=!1,l=!1,p=!1,n=!this._parts.urn;this._parts.hostname&&(n=!1,e=b.ip4_expression.test(this._parts.hostname),f=b.ip6_expression.test(this._parts.hostname),d=e||f,k=(h=!d)&&c&&c.has(this._parts.hostname),l=h&&b.idn_expression.test(this._parts.hostname),p=h&&b.punycode_expression.test(this._parts.hostname));switch(a.toLowerCase()){case "relative":return n;case "absolute":return!n;case "domain":case "name":return h;case "sld":return k;
case "ip":return d;case "ip4":case "ipv4":case "inet4":return e;case "ip6":case "ipv6":case "inet6":return f;case "idn":return l;case "url":return!this._parts.urn;case "urn":return!!this._parts.urn;case "punycode":return p}return null};var s=t.protocol,K=t.port,F=t.hostname;t.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),a.match(/[^a-zA-z0-9\.+-]/)))throw new TypeError("Protocol '"+a+"' contains characters other than [A-Z0-9.+-]");return s.call(this,a,b)};t.scheme=t.protocol;
t.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError("Port '"+a+"' contains characters other than [0-9]");return K.call(this,a,b)};t.hostname=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var d={};b.parseHost(a,d);a=d.hostname}return F.call(this,a,c)};t.host=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?
b.buildHost(this._parts):"";b.parseHost(a,this._parts);this.build(!c);return this};t.authority=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?b.buildAuthority(this._parts):"";b.parseAuthority(a,this._parts);this.build(!c);return this};t.userinfo=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var d=b.buildUserinfo(this._parts);return d.substring(0,d.length-1)}"@"!==a[a.length-1]&&(a+=
"@");b.parseUserinfo(a,this._parts);this.build(!c);return this};t.resource=function(a,c){var d;if(void 0===a)return this.path()+this.search()+this.hash();d=b.parse(a);this._parts.path=d.path;this._parts.query=d.query;this._parts.fragment=d.fragment;this.build(!c);return this};t.subdomain=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,
d)||""}d=this._parts.hostname.length-this.domain().length;d=this._parts.hostname.substring(0,d);d=RegExp("^"+k(d));a&&"."!==a.charAt(a.length-1)&&(a+=".");a&&b.ensureValidHostname(a);this._parts.hostname=this._parts.hostname.replace(d,a);this.build(!c);return this};t.domain=function(a,c){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(c=a,a=void 0);if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.match(/\./g);if(d&&2>d.length)return this._parts.hostname;
d=this._parts.hostname.length-this.tld(c).length-1;d=this._parts.hostname.lastIndexOf(".",d-1)+1;return this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");b.ensureValidHostname(a);!this._parts.hostname||this.is("IP")?this._parts.hostname=a:(d=RegExp(k(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a));this.build(!c);return this};t.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;"boolean"===typeof a&&(b=a,a=void 0);if(void 0===
a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),d=this._parts.hostname.substring(d+1);return!0!==b&&c&&c.list[d.toLowerCase()]?c.get(this._parts.hostname)||d:d}if(a)if(a.match(/[^a-zA-Z0-9-]/))if(c&&c.is(a))d=RegExp(k(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(d,a);else throw new TypeError("TLD '"+a+"' contains characters other than [A-Z0-9]");else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");
d=RegExp(k(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(d,a)}else throw new TypeError("cannot set TLD empty");this.build(!b);return this};t.directory=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var d=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,d)||(this._parts.hostname?"/":"");return a?b.decodePath(d):d}d=this._parts.path.length-
this.filename().length;d=this._parts.path.substring(0,d);d=RegExp("^"+k(d));this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a));a&&"/"!==a.charAt(a.length-1)&&(a+="/");a=b.recodePath(a);this._parts.path=this._parts.path.replace(d,a);this.build(!c);return this};t.filename=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(d+1);return a?
b.decodePathSegment(d):d}d=!1;"/"===a.charAt(0)&&(a=a.substring(1));a.match(/\.?\//)&&(d=!0);var e=RegExp(k(this.filename())+"$");a=b.recodePath(a);this._parts.path=this._parts.path.replace(e,a);d?this.normalizePath(c):this.build(!c);return this};t.suffix=function(a,c){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var d=this.filename(),e=d.lastIndexOf(".");if(-1===e)return"";d=d.substring(e+1);d=/^[a-z0-9%]+$/i.test(d)?d:
"";return a?b.decodePathSegment(d):d}"."===a.charAt(0)&&(a=a.substring(1));if(d=this.suffix())e=a?RegExp(k(d)+"$"):RegExp(k("."+d)+"$");else{if(!a)return this;this._parts.path+="."+b.recodePath(a)}e&&(a=b.recodePath(a),this._parts.path=this._parts.path.replace(e,a));this.build(!c);return this};t.segment=function(a,b,c){var d=this._parts.urn?":":"/",f=this.path(),h="/"===f.substring(0,1),f=f.split(d);void 0!==a&&"number"!==typeof a&&(c=b,b=a,a=void 0);if(void 0!==a&&"number"!==typeof a)throw Error("Bad segment '"+
a+"', must be 0-based integer");h&&f.shift();0>a&&(a=Math.max(f.length+a,0));if(void 0===b)return void 0===a?f:f[a];if(null===a||void 0===f[a])if(e(b)){f=[];a=0;for(var k=b.length;a<k;a++)if(b[a].length||f.length&&f[f.length-1].length)f.length&&!f[f.length-1].length&&f.pop(),f.push(b[a])}else{if(b||"string"===typeof b)""===f[f.length-1]?f[f.length-1]=b:f.push(b)}else b||"string"===typeof b&&b.length?f[a]=b:f.splice(a,1);h&&f.unshift("");return this.path(f.join(d),c)};t.segmentCoded=function(a,c,d){var f,
h;"number"!==typeof a&&(d=c,c=a,a=void 0);if(void 0===c){a=this.segment(a,c,d);if(e(a)){f=0;for(h=a.length;f<h;f++)a[f]=b.decode(a[f])}else a=void 0!==a?b.decode(a):void 0;return a}if(e(c)){f=0;for(h=c.length;f<h;f++)c[f]=b.decode(c[f])}else c="string"===typeof c?b.encode(c):c;return this.segment(a,c,d)};var H=t.query;t.query=function(a,c){if(!0===a)return b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof a){var d=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace),
e=a.call(this,d);this._parts.query=b.buildQuery(e||d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!c);return this}return void 0!==a&&"string"!==typeof a?(this._parts.query=b.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!c),this):H.call(this,a,c)};t.setQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"===typeof a)for(var f in a)u.call(a,f)&&(e[f]=a[f]);else if("string"===
typeof a)e[a]=void 0!==c?c:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};t.addQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.addQuery(e,a,void 0===c?null:c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);
"string"!==typeof a&&(d=c);this.build(!d);return this};t.removeQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);b.removeQuery(e,a,c);this._parts.query=b.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof a&&(d=c);this.build(!d);return this};t.hasQuery=function(a,c,d){var e=b.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return b.hasQuery(e,a,c,d)};t.setSearch=t.setQuery;t.addSearch=t.addQuery;t.removeSearch=
t.removeQuery;t.hasSearch=t.hasQuery;t.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};t.normalizeProtocol=function(a){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a));return this};t.normalizeHostname=function(a){this._parts.hostname&&
(this.is("IDN")&&d?this._parts.hostname=d.toASCII(this._parts.hostname):this.is("IPv6")&&q&&(this._parts.hostname=q.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!a));return this};t.normalizePort=function(a){"string"===typeof this._parts.protocol&&this._parts.port===b.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a));return this};t.normalizePath=function(a){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;
var c,d=this._parts.path,e,f;"/"!==d.charAt(0)&&(c=!0,d="/"+d);for(d=d.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");;){e=d.indexOf("/../");if(-1===e)break;else if(0===e){d=d.substring(3);break}f=d.substring(0,e).lastIndexOf("/");-1===f&&(f=e);d=d.substring(0,f)+d.substring(e+3)}c&&this.is("relative")&&(d=d.substring(1));d=b.recodePath(d);this._parts.path=d;this.build(!a);return this};t.normalizePathname=t.normalizePath;t.normalizeQuery=function(a){"string"===typeof this._parts.query&&
(this._parts.query.length?this.query(b.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a));return this};t.normalizeFragment=function(a){this._parts.fragment||(this._parts.fragment=null,this.build(!a));return this};t.normalizeSearch=t.normalizeQuery;t.normalizeHash=t.normalizeFragment;t.iso8859=function(){var a=b.encode,c=b.decode;b.encode=escape;b.decode=decodeURIComponent;this.normalize();b.encode=a;b.decode=c;return this};t.unicode=function(){var a=
b.encode,c=b.decode;b.encode=m;b.decode=unescape;this.normalize();b.encode=a;b.decode=c;return this};t.readable=function(){var a=this.clone();a.username("").password("").normalize();var c="";a._parts.protocol&&(c+=a._parts.protocol+"://");a._parts.hostname&&(a.is("punycode")&&d?(c+=d.toUnicode(a._parts.hostname),a._parts.port&&(c+=":"+a._parts.port)):c+=a.host());a._parts.hostname&&(a._parts.path&&"/"!==a._parts.path.charAt(0))&&(c+="/");c+=a.path(!0);if(a._parts.query){for(var e="",f=0,h=a._parts.query.split("&"),
k=h.length;f<k;f++){var l=(h[f]||"").split("="),e=e+("&"+b.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==l[1]&&(e+="="+b.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+e.substring(1)}return c+=b.decodeQuery(a.hash(),!0)};t.absoluteTo=function(a){var c=this.clone(),d=["protocol","username","password","hostname","port"],e,f;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");a instanceof b||(a=new b(a));
c._parts.protocol||(c._parts.protocol=a._parts.protocol);if(this._parts.hostname)return c;for(e=0;f=d[e];e++)c._parts[f]=a._parts[f];d=["query","path"];for(e=0;f=d[e];e++)!c._parts[f]&&a._parts[f]&&(c._parts[f]=a._parts[f]);"/"!==c.path().charAt(0)&&(a=a.directory(),c._parts.path=(a?a+"/":"")+c._parts.path,c.normalizePath());c.build();return c};t.relativeTo=function(a){var c=this.clone().normalize(),d,e,f,h;if(c._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");
a=(new b(a)).normalize();d=c._parts;e=a._parts;f=c.path();h=a.path();if("/"!==f.charAt(0))throw Error("URI is already relative");if("/"!==h.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");d.protocol===e.protocol&&(d.protocol=null);if(!(d.username!==e.username||d.password!==e.password)&&!(null!==d.protocol||null!==d.username||null!==d.password)&&d.hostname===e.hostname&&d.port===e.port)d.hostname=null,d.port=null;else return c.build();if(f===h)return d.path="",c.build();
a=b.commonPath(c.path(),a.path());if(!a)return c.build();e=e.path.substring(a.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");d.path=e+d.path.substring(a.length);return c.build()};t.equals=function(a){var c=this.clone();a=new b(a);var d={},f={},h={},k;c.normalize();a.normalize();if(c.toString()===a.toString())return!0;d=c.query();f=a.query();c.query("");a.query("");if(c.toString()!==a.toString()||d.length!==f.length)return!1;d=b.parseQuery(d,this._parts.escapeQuerySpace);f=b.parseQuery(f,this._parts.escapeQuerySpace);
for(k in d)if(u.call(d,k)){if(e(d[k])){if(!p(d[k],f[k]))return!1}else if(d[k]!==f[k])return!1;h[k]=!0}for(k in f)if(u.call(f,k)&&!h[k])return!1;return!0};t.duplicateQueryParameters=function(a){this._parts.duplicateQueryParameters=!!a;return this};t.escapeQuerySpace=function(a){this._parts.escapeQuerySpace=!!a;return this};return b});
(function(){var d=this,q=d._,c={},f=Array.prototype,b=Object.prototype,k=f.push,a=f.slice,e=f.concat,h=b.toString,p=b.hasOwnProperty,b=Array.isArray,n=Object.keys,m=Function.prototype.bind,l=function(a){if(a instanceof l)return a;if(!(this instanceof l))return new l(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=l),exports._=l):d._=l;l.VERSION="1.6.0";var t=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,
c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){return null==a?l.identity:l.isFunction(a)?t(a,b,c):l.isObject(a)?l.matches(a):l.property(a)};l.each=l.forEach=function(a,b,d){var e;if(null==a)return a;b=t(b,d);if(a.length===+a.length){d=0;for(e=a.length;d<e&&b(a[d],d,a)!==c;d++);}else{var f=l.keys(a);d=0;for(e=f.length;d<
e&&b(a[f[d]],f[d],a)!==c;d++);}return a};l.map=l.collect=function(a,b,c){var d=[];if(null==a)return d;b=u(b,c);l.each(a,function(a,c,e){d.push(b(a,c,e))});return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);b=t(b,d,4);l.each(a,function(a,d,f){e?c=b(c,a,d,f):(c=a,e=!0)});if(!e)throw TypeError("Reduce of empty array with no initial value");return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);var f=a.length;b=t(b,d,4);if(f!==
+f)var h=l.keys(a),f=h.length;l.each(a,function(d,k,l){k=h?h[--f]:--f;e?c=b(c,a[k],k,l):(c=a[k],e=!0)});if(!e)throw TypeError("Reduce of empty array with no initial value");return c};l.find=l.detect=function(a,b,c){var d;b=u(b,c);l.some(a,function(a,c,e){if(b(a,c,e))return d=a,!0});return d};l.filter=l.select=function(a,b,c){var d=[];if(null==a)return d;b=u(b,c);l.each(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d};l.reject=function(a,b,c){return l.filter(a,l.negate(u(b)),c)};l.every=l.all=function(a,
b,d){var e=!0;if(null==a)return e;b=u(b,d);l.each(a,function(a,d,f){e=b(a,d,f);if(!e)return c});return!!e};l.some=l.any=function(a,b,d){var e=!1;if(null==a)return e;b=u(b,d);l.each(a,function(a,d,f){if(e=b(a,d,f))return c});return!!e};l.contains=l.include=function(a,b){return null==a?!1:a.length===+a.length?0<=l.indexOf(a,b):l.some(a,function(a){return a===b})};l.invoke=function(b,c){var d=a.call(arguments,2),e=l.isFunction(c);return l.map(b,function(a){return(e?c:a[c]).apply(a,d)})};l.pluck=function(a,
b){return l.map(a,l.property(b))};l.where=function(a,b){return l.filter(a,l.matches(b))};l.findWhere=function(a,b){return l.find(a,l.matches(b))};l.max=function(a,b,c){var d=-Infinity,e=-Infinity,f;if(!b&&l.isArray(a))for(var h=0,k=a.length;h<k;h++)c=a[h],c>d&&(d=c);else b=u(b,c),l.each(a,function(a,c,h){f=b(a,c,h);if(f>e||-Infinity===f&&-Infinity===d)d=a,e=f});return d};l.min=function(a,b,c){var d=Infinity,e=Infinity,f;if(!b&&l.isArray(a))for(var h=0,k=a.length;h<k;h++)c=a[h],c<d&&(d=c);else b=u(b,
c),l.each(a,function(a,c,h){f=b(a,c,h);if(f<e||Infinity===f&&Infinity===d)d=a,e=f});return d};l.shuffle=function(a){var b,c=0,d=[];l.each(a,function(a){b=l.random(c++);d[c-1]=d[b];d[b]=a});return d};l.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=l.values(a)),a[l.random(a.length-1)]):l.shuffle(a).slice(0,Math.max(0,b))};l.sortBy=function(a,b,c){b=u(b,c);return l.pluck(l.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;
if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var v=function(a){return function(b,c,d){var e={};c=u(c,d);l.each(b,function(d,f){var h=c(d,f,b);a(e,d,h)});return e}};l.groupBy=v(function(a,b,c){l.has(a,c)?a[c].push(b):a[c]=[b]});l.indexBy=v(function(a,b,c){a[c]=b});l.countBy=v(function(a,b,c){l.has(a,c)?a[c]++:a[c]=1});l.sortedIndex=function(a,b,c,d){c=u(c,d,1);b=c(b);d=0;for(var e=a.length;d<e;){var f=d+e>>>1;c(a[f])<b?d=f+1:e=f}return d};l.toArray=
function(b){return!b?[]:l.isArray(b)?a.call(b):b.length===+b.length?l.map(b,l.identity):l.values(b)};l.size=function(a){return null==a?0:a.length===+a.length?a.length:l.keys(a).length};l.first=l.head=l.take=function(b,c,d){return null==b?void 0:null==c||d?b[0]:0>c?[]:a.call(b,0,c)};l.initial=function(b,c,d){return a.call(b,0,Math.max(0,b.length-(null==c||d?1:c)))};l.last=function(b,c,d){return null==b?void 0:null==c||d?b[b.length-1]:a.call(b,Math.max(b.length-c,0))};l.rest=l.tail=l.drop=function(b,
c,d){return a.call(b,null==c||d?1:c)};l.compact=function(a){return l.filter(a,l.identity)};var x=function(a,b,c,d){if(b&&l.every(a,l.isArray))return e.apply(d,a);for(var f=0,h=a.length;f<h;f++){var p=a[f];!l.isArray(p)&&!l.isArguments(p)?c||d.push(p):b?k.apply(d,p):x(p,b,c,d)}return d};l.flatten=function(a,b){return x(a,b,!1,[])};l.without=function(b){return l.difference(b,a.call(arguments,1))};l.partition=function(a,b,c){b=u(b,c,1);var d=[],e=[];l.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)});
return[d,e]};l.uniq=l.unique=function(a,b,c,d){if(null==a)return[];l.isFunction(b)&&(d=c,c=b,b=!1);c&&(c=u(c,d));d=[];for(var e=[],f=0,h=a.length;f<h;f++){var k=a[f];c&&(k=c(k,f,a));if(b?!f||e!==k:!l.contains(e,k))b?e=k:e.push(k),d.push(a[f])}return d};l.union=function(){return l.uniq(x(arguments,!0,!0,[]))};l.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;d<e;d++){var f=a[d];if(!l.contains(b,f)){for(var h=1;h<c&&l.contains(arguments[h],f);h++);h===c&&
b.push(f)}}return b};l.difference=function(b){var c=x(a.call(arguments,1),!0,!0,[]);return l.filter(b,function(a){return!l.contains(c,a)})};l.zip=function(){for(var a=l.max(l.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=l.pluck(arguments,""+c);return b};l.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};l.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,
e+c):c;else return d=l.sortedIndex(a,b),a[d]===b?d:-1;for(;d<e;d++)if(a[d]===b)return d;return-1};l.lastIndexOf=function(a,b,c){if(null==a)return-1;for(c=null==c?a.length:c;c--;)if(a[c]===b)return c;return-1};l.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};var A=function(){};l.bind=function(b,c){var d,e;if(m&&b.bind===m)return m.apply(b,a.call(arguments,1));if(!l.isFunction(b))throw TypeError("Bind must be called on a function");
d=a.call(arguments,2);return e=function(){if(!(this instanceof e))return b.apply(c,d.concat(a.call(arguments)));A.prototype=b.prototype;var f=new A;A.prototype=null;var h=b.apply(f,d.concat(a.call(arguments)));return Object(h)===h?h:f}};l.partial=function(b){var c=a.call(arguments,1);return function(){for(var a=0,d=c.slice(),e=0,f=d.length;e<f;e++)d[e]===l&&(d[e]=arguments[a++]);for(;a<arguments.length;)d.push(arguments[a++]);return b.apply(this,d)}};l.bindAll=function(a){var b=1,c=arguments.length,
d;if(1>=c)throw Error("bindAll must be passed function names");for(;b<c;b++)d=arguments[b],a[d]=t(a[d],a,Infinity);return a};l.memoize=function(a,b){b||(b=l.identity);var c=function(){var d=c.cache,e=b.apply(this,arguments);l.has(d,e)||(d[e]=a.apply(this,arguments));return d[e]};c.cache={};return c};l.delay=function(b,c){var d=a.call(arguments,2);return setTimeout(function(){return b.apply(null,d)},c)};l.defer=function(b){return l.delay.apply(l,[b,1].concat(a.call(arguments,1)))};l.throttle=function(a,
b,c){var d,e,f,h=null,k=0;c||(c={});var p=function(){k=!1===c.leading?0:l.now();h=null;f=a.apply(d,e);h||(d=e=null)};return function(){var n=l.now();!k&&!1===c.leading&&(k=n);var m=b-(n-k);d=this;e=arguments;0>=m||m>b?(clearTimeout(h),h=null,k=n,f=a.apply(d,e),h||(d=e=null)):!h&&!1!==c.trailing&&(h=setTimeout(p,m));return f}};l.debounce=function(a,b,c){var d,e,f,h,k,p=function(){var n=l.now()-h;n<b&&0<n?d=setTimeout(p,b-n):(d=null,c||(k=a.apply(f,e),d||(f=e=null)))};return function(){f=this;e=arguments;
h=l.now();var n=c&&!d;d||(d=setTimeout(p,b));n&&(k=a.apply(f,e),f=e=null);return k}};l.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};l.wrap=function(a,b){return l.partial(b,a)};l.negate=function(a){return function(){return!a.apply(this,arguments)}};l.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return function(){if(1>--a)return b.apply(this,
arguments)}};l.keys=function(a){if(!l.isObject(a))return[];if(n)return n(a);var b=[],c;for(c in a)l.has(a,c)&&b.push(c);return b};l.values=function(a){for(var b=l.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d};l.pairs=function(a){for(var b=l.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d};l.invert=function(a){for(var b={},c=l.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&
b.push(c);return b.sort()};l.extend=function(a){if(!l.isObject(a))return a;for(var b,c,d=1,e=arguments.length;d<e;d++)for(c in b=arguments[d],b)a[c]=b[c];return a};l.pick=function(b,c,d){var f={},h;if(l.isFunction(c))for(h in b){var k=b[h];c.call(d,k,h,b)&&(f[h]=k)}else for(var k=e.apply([],a.call(arguments,1)),p=0,n=k.length;p<n;p++)h=k[p],h in b&&(f[h]=b[h]);return f};l.omit=function(b,c,d){var f;l.isFunction(c)?c=l.negate(c):(f=l.map(e.apply([],a.call(arguments,1)),String),c=function(a,b){return!l.contains(f,
b)});return l.pick(b,c,d)};l.defaults=function(b){if(!l.isObject(b))return b;l.each(a.call(arguments,1),function(a){for(var c in a)void 0===b[c]&&(b[c]=a[c])});return b};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};var s=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof l&&(a=a._wrapped);b instanceof l&&(b=b._wrapped);var e=h.call(a);if(e!==h.call(b))return!1;switch(e){case "[object RegExp]":case "[object String]":return""+
a===""+b;case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var f=a.constructor,k=b.constructor;if(f!==k&&"constructor"in a&&"constructor"in b&&(!l.isFunction(f)||!(f instanceof f&&l.isFunction(k)&&k instanceof k)))return!1;c.push(a);d.push(b);if("[object Array]"===e){if(e=a.length,k=e===b.length)for(;e--&&(k=s(a[e],b[e],c,d)););
}else if(f=l.keys(a),e=f.length,k=l.keys(b).length==e)for(;e--&&!(k=f[e],!(k=l.has(b,k)&&s(a[k],b[k],c,d))););c.pop();d.pop();return k};l.isEqual=function(a,b){return s(a,b,[],[])};l.isEmpty=function(a){if(null==a)return!0;if(l.isArray(a)||l.isString(a)||l.isArguments(a))return 0===a.length;for(var b in a)if(l.has(a,b))return!1;return!0};l.isElement=function(a){return!!(a&&1===a.nodeType)};l.isArray=b||function(a){return"[object Array]"===h.call(a)};l.isObject=function(a){return a===Object(a)};l.each("Arguments Function String Number Date RegExp".split(" "),
function(a){l["is"+a]=function(b){return h.call(b)==="[object "+a+"]"}});l.isArguments(arguments)||(l.isArguments=function(a){return l.has(a,"callee")});"function"!==typeof/./&&(l.isFunction=function(a){return"function"===typeof a});l.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};l.isNaN=function(a){return l.isNumber(a)&&a!==+a};l.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===h.call(a)};l.isNull=function(a){return null===a};l.isUndefined=function(a){return void 0===
a};l.has=function(a,b){return null!=a&&p.call(a,b)};l.noConflict=function(){d._=q;return this};l.identity=function(a){return a};l.constant=function(a){return function(){return a}};l.noop=function(){};l.property=function(a){return function(b){return b[a]}};l.matches=function(a){return function(b){if(null==b)return l.isEmpty(a);if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};l.times=function(a,b,c){var d=Array(Math.max(0,a));b=t(b,c,1);for(c=0;c<a;c++)d[c]=b(c);return d};l.random=
function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};l.now=Date.now||function(){return(new Date).getTime()};var K={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};K.unescape=l.invert(K.escape);var F={escape:RegExp("["+l.keys(K.escape).join("")+"]","g"),unescape:RegExp("("+l.keys(K.unescape).join("|")+")","g")};l.each(["escape","unescape"],function(a){l[a]=function(b){return null==b?"":(""+b).replace(F[a],function(b){return K[a][b]})}});l.result=function(a,
b){if(null!=a){var c=a[b];return l.isFunction(c)?a[b]():c}};var H=0;l.uniqueId=function(a){var b=++H+"";return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,J=function(a){return"\\"+I[a]};l.template=function(a,b,c){c=l.defaults({},c,l.templateSettings);var d=RegExp([(c.escape||y).source,(c.interpolate||y).source,(c.evaluate||
y).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,h,k){f+=a.slice(e,k).replace(M,J);e=k+b.length;c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":h&&(f+="';\n"+h+"\n__p+='");return b});f+="';\n";c.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var h=Function(c.variable||"obj","_",f)}catch(k){throw k.source=f,k;}if(b)return h(b,
l);b=function(a){return h.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+f+"}";return b};l.chain=function(a){return l(a).chain()};l.mixin=function(a){l.each(l.functions(a),function(b){var c=l[b]=a[b];l.prototype[b]=function(){var a=[this._wrapped];k.apply(a,arguments);a=c.apply(l,a);return this._chain?l(a).chain():a}})};l.mixin(l);l.each("pop push reverse shift sort splice unshift".split(" "),function(a){var b=f[a];l.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);
("shift"===a||"splice"===a)&&0===c.length&&delete c[0];return this._chain?l(c).chain():c}});l.each(["concat","join","slice"],function(a){var b=f[a];l.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?l(a).chain():a}});l.extend(l.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}});"function"===typeof define&&define.amd&&define("underscore",[],function(){return l})}).call(this);
(function(d,q){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,b,k){d.Backbone=q(d,k,c,b)});else if("undefined"!==typeof exports){var c=require("underscore");q(d,exports,c)}else d.Backbone=q(d,{},d._,d.jQuery||d.Zepto||d.ender||d.$)})(this,function(d,q,c,f){var b=d.Backbone,k=[].slice;q.VERSION="1.1.2";q.$=f;q.noConflict=function(){d.Backbone=b;return this};q.emulateHTTP=!1;q.emulateJSON=!1;var a=q.Events={on:function(a,b,c){if(!h(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,d){if(!h(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f);b.apply(this,arguments)});f._callback=b;return this.on(a,f,d)},off:function(a,b,d){if(!this._events||!h(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(var e=a?[a]:c.keys(this._events),f=0,k=e.length;f<k;f++){a=e[f];var l=
this._events[a];if(l)if(!b&&!d)delete this._events[a];else{for(var p=[],n=0,m=l.length;n<m;n++){var q=l[n];(b&&b!==q.callback&&b!==q.callback._callback||d&&d!==q.context)&&p.push(q)}p.length?this._events[a]=p:delete this._events[a]}}return this},trigger:function(a){if(!this._events)return this;var b=k.call(arguments,1);if(!h(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&p(c,b);d&&p(d,arguments);return this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;
var f=!b&&!d;!d&&"object"===typeof b&&(d=this);a&&((e={})[a._listenId]=a);for(var h in e)a=e[h],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[h];return this}},e=/\s+/,h=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(e.test(c)){c=c.split(e);f=0;for(var h=c.length;f<h;f++)a[b].apply(a,[c[f]].concat(d));return!1}return!0},p=function(a,b){var c,d=-1,e=a.length,f=b[0],h=b[1],k=b[2];switch(b.length){case 0:for(;++d<
e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,h);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,h,k);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};c.each({listenTo:"on",listenToOnce:"once"},function(b,d){a[d]=function(a,d,e){var f=this._listeningTo||(this._listeningTo={}),h=a._listenId||(a._listenId=c.uniqueId("l"));f[h]=a;!e&&"object"===typeof d&&(e=this);a[b](d,e,this);return this}});
a.bind=a.on;a.unbind=a.off;c.extend(q,a);var n=q.Model=function(a,b){var d=a||{};b||(b={});this.cid=c.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});d=c.defaults({},d,c.result(this,"defaults"));this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(n.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return q.sync.apply(this,
arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,h,k,l,p,n;if(null==a)return this;"object"===typeof a?(f=a,d=b):(f={})[a]=b;d||(d={});if(!this._validate(f,d))return!1;h=d.unset;k=d.silent;a=[];l=this._changing;this._changing=!0;l||(this._previousAttributes=c.clone(this.attributes),this.changed={});n=this.attributes;p=this._previousAttributes;this.idAttribute in f&&(this.id=
f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(n[e],b)||a.push(e),c.isEqual(p[e],b)?delete this.changed[e]:this.changed[e]=b,h?delete n[e]:n[e]=b;if(!k){a.length&&(this._pending=d);b=0;for(e=a.length;b<e;b++)this.trigger("change:"+a[b],this,n[a[b]],d)}if(l)return this;if(!k)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b=
{},d;for(d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes,f;for(f in a)if(!c.isEqual(e[f],b=a[f]))(d||(d={}))[f]=b;return d},previous:function(a){return null==a||!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return c.clone(this._previousAttributes)},
fetch:function(a){a=a?c.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a);b.trigger("sync",b,c,a)};S(this,a);return this.sync("read",this,a)},save:function(a,b,d){var e,f=this.attributes;null==a||"object"===typeof a?(e=a,d=b):(e={})[a]=b;d=c.extend({validate:!0},d);if(e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},f,e));void 0===d.parse&&(d.parse=
!0);var h=this,k=d.success;d.success=function(a){h.attributes=f;var b=h.parse(a,d);d.wait&&(b=c.extend(e||{},b));if(c.isObject(b)&&!h.set(b,d))return!1;k&&k(h,a,d);h.trigger("sync",h,a,d)};S(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=e);a=this.sync(a,this,d);e&&d.wait&&(this.attributes=f);return a},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(c){(a.wait||b.isNew())&&e();d&&d(b,
c,a);b.isNew()||b.trigger("sync",b,c,a)};if(this.isNew())return a.success(),!1;S(this,a);var f=this.sync("delete",this,a);a.wait||e();return f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||w();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,c.extend(b,{validationError:d}));return!1}});c.each("keys values pairs invert pick omit chain".split(" "),function(a){c[a]&&(n.prototype[a]=function(){var b=k.call(arguments);b.unshift(this.attributes);return c[a].apply(c,b)})});var m=q.Collection=function(a,b){b||(b={});b.model&&(this.model=
b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,c.extend({silent:!0},b))},l={add:!0,remove:!0,merge:!0},t={add:!0,remove:!1};c.extend(m.prototype,a,{model:n,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return q.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,t))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a);
b||(b={});for(var e=0,f=a.length;e<f;e++){var h=a[e]=this.get(a[e]);if(h){delete this._byId[h.id];delete this._byId[h.cid];var k=this.indexOf(h);this.models.splice(k,1);this.length--;b.silent||(b.index=k,h.trigger("remove",h,this,b));this._removeReference(h,b)}}return d?a[0]:a},set:function(a,b){b=c.defaults({},b,l);b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:a.slice();for(var e,f,h,k,p=b.at,n=this.comparator&&null==p&&!1!==b.sort,m=c.isString(this.comparator)?this.comparator:null,
q=[],t=[],s={},u=b.add,v=b.merge,x=b.remove,w=!n&&u&&x?[]:!1,y=0,A=a.length;y<A;y++){h=a[y]||{};e=this._isModel(h)?f=h:h[this.model.prototype.idAttribute||"id"];if(e=this.get(e))x&&(s[e.cid]=!0),v&&(h=h===f?f.attributes:h,b.parse&&(h=e.parse(h,b)),e.set(h,b),n&&(!k&&e.hasChanged(m))&&(k=!0)),a[y]=e;else if(u){f=a[y]=this._prepareModel(h,b);if(!f)continue;q.push(f);this._addReference(f,b)}if(f=e||f)w&&(f.isNew()||!s[f.id])&&w.push(f),s[f.id]=!0}if(x){y=0;for(A=this.length;y<A;y++)s[(f=this.models[y]).cid]||
t.push(f);t.length&&this.remove(t,b)}if(q.length||w&&w.length)if(n&&(k=!0),this.length+=q.length,null!=p){y=0;for(A=q.length;y<A;y++)this.models.splice(p+y,0,q[y])}else{w&&(this.models.length=0);h=w||q;y=0;for(A=h.length;y<A;y++)this.models.push(h[y])}k&&this.sort({silent:!0});if(!b.silent){y=0;for(A=q.length;y<A;y++)(f=q[y]).trigger("add",f,this,b);(k||w&&w.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;d<e;d++)this._removeReference(this.models[d],
b);b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return k.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b(d,c,a);d.trigger("sync",d,c,a)};S(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;b.success=function(a,c){b.wait&&d.add(a,
b);e&&e(a,c,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{};b.collection=this;var d=new this.model(a,b);if(!d.validationError)return d;this.trigger("invalid",this,d.validationError,b);return!1},_isModel:function(a){return a instanceof
n},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"===a||"remove"===a)&&c!==this||("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});c.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample partition".split(" "),
function(a){c[a]&&(m.prototype[a]=function(){var b=k.call(arguments);b.unshift(this.models);return c[a].apply(c,b)})});c.each(["groupBy","countBy","sortBy","indexBy"],function(a){c[a]&&(m.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)})});f=q.View=function(a){this.cid=c.uniqueId("view");a||(a={});c.extend(this,c.pick(a,v));this._ensureElement();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,v="model collection el id attributes className tagName events".split(" ");
c.extend(f.prototype,a,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof q.$?a:q.$(a);this.el=this.$el[0]},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;
this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||(d=this[a[b]]);if(d){var e=b.match(u);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+this.cid,b,c)},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c)},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,
"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id"));this.className&&(a["class"]=c.result(this,"className"));this.setElement(this._createElement(c.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});q.sync=function(a,b,d){var e=x[a];c.defaults(d||(d={}),{emulateHTTP:q.emulateHTTP,emulateJSON:q.emulateJSON});var f={type:e,dataType:"json"};d.url||(f.url=c.result(b,"url")||w());if(null==d.data&&b&&("create"===a||"update"===
a||"patch"===a))f.contentType="application/json",f.data=JSON.stringify(d.attrs||b.toJSON(d));d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{});if(d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST";d.emulateJSON&&(f.data._method=e);var h=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(h)return h.apply(this,arguments)}}"GET"!==f.type&&!d.emulateJSON&&(f.processData=!1);var k=d.error;d.error=function(a,
b,c){d.textStatus=b;d.errorThrown=c;k&&k.apply(this,arguments)};a=d.xhr=q.ajax(c.extend(f,d));b.trigger("request",b,a,d);return a};var x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};q.ajax=function(){return q.$.ajax.apply(q.$,arguments)};var A=q.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},s=/\((.*?)\)/g,K=/(\(\?)?:\w+/g,F=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(A.prototype,a,{initialize:function(){},
route:function(a,b,d){c.isRegExp(a)||(a=this._routeToRegExp(a));c.isFunction(b)&&(d=b,b="");d||(d=this[b]);var e=this;q.history.route(a,function(c){c=e._extractParameters(a,c);!1!==e.execute(d,c,b)&&(e.trigger.apply(e,["route:"+b].concat(c)),e.trigger("route",b,c),q.history.trigger("route",e,b,c))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){q.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,
b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(H,"\\$&").replace(s,"(?:$1)?").replace(K,function(a,b){return b?a:"([^/?]+)"}).replace(F,"([^?]*?)");return RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var y=q.History=function(){this.handlers=[];c.bindAll(this,"checkUrl");"undefined"!==typeof window&&
(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,M=/^\/+|\/+$/g,J=/#.*$/;y.started=!1;c.extend(y.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.location.search},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.location.search),b=this.root.slice(0,-1);a.indexOf(b)||(a=a.slice(b.length));return a.slice(1)},getFragment:function(a){null==
a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(I,"")},start:function(a){if(y.started)throw Error("Backbone.history has already been started");y.started=!0;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);
this.fragment=this.getFragment();a=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};this.root=("/"+this.root+"/").replace(M,"/");if(!this._hasHashChange&&this._wantsHashChange&&(!this._wantsPushState||!this._hasPushState)){var b=document.createElement("iframe");b.src="javascript:0";b.style.display="none";b.tabIndex=-1;var d=document.body;this.iframe=d.insertBefore(b,d.firstChild).contentWindow;this.navigate(this.fragment)}this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&
this._hasHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+
a,b)};this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&(this._hasHashChange&&!this.iframe)&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);y.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe));if(a===this.fragment)return!1;
this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return c.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!y.started)return!1;if(!b||!0===b)b={trigger:!!b};var c=this.root+(a=this.getFragment(a||""));a=decodeURI(a.replace(J,""));if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);
else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe)&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});q.history=new y;n.extend=m.extend=A.extend=f.extend=y.extend=function(a,b){var d=this,e;e=a&&c.has(a,
"constructor")?a.constructor:function(){return d.apply(this,arguments)};c.extend(e,d,b);var f=function(){this.constructor=e};f.prototype=d.prototype;e.prototype=new f;a&&c.extend(e.prototype,a);e.__super__=d.prototype;return e};var w=function(){throw Error('A "url" property or function must be specified');},S=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return q});
(function(d,q,c){(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):jQuery&&!jQuery.fn.qtip&&c(jQuery)})(function(f){function b(a,b,c,d){this.id=c;this.target=a;this.tooltip=S;this.elements={target:a};this._id=P+"-"+c;this.timers={img:{}};this.options=b;this.plugins={};this.cache={event:{},target:f(),disabled:w,attr:d,onTooltip:w,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=w}function k(a){return a===
S||"object"!==f.type(a)}function a(a){return!(f.isFunction(a)||a&&a.attr||a.length||"object"===f.type(a)&&(a.jquery||a.then))}function e(b){var c,d,e,g;if(k(b))return w;k(b.metadata)&&(b.metadata={type:b.metadata});if("content"in b&&(c=b.content,k(c)||c.jquery||c.done?c=b.content={text:d=a(c)?w:c}:d=c.text,"ajax"in c&&(g=(e=c.ajax)&&e.once!==w,delete c.ajax,c.text=function(a,b){var c=d||f(this).attr(b.options.content.attr)||"Loading...",h=f.ajax(f.extend({},e,{context:b})).then(e.success,S,e.error).then(function(a){a&&
g&&b.set("content.text",a);return a},function(a,c,d){b.destroyed||0===a.status||b.set("content.text",c+": "+d)});return!g?(b.set("content.text",c),h):c}),"title"in c&&(k(c.title)||(c.button=c.title.button,c.title=c.title.text),a(c.title||w))))c.title=w;"position"in b&&k(b.position)&&(b.position={my:b.position,at:b.position});"show"in b&&k(b.show)&&(b.show=b.show.jquery?{target:b.show}:b.show===J?{ready:J}:{event:b.show});"hide"in b&&k(b.hide)&&(b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide});
"style"in b&&k(b.style)&&(b.style={classes:b.style});f.each(X,function(){this.sanitize&&this.sanitize(b)});return b}function h(a,b){for(var c=0,d,e=a,f=b.split(".");e=e[f[c++]];)c<f.length&&(d=e);return[d||a,f.pop()]}function p(a,b){var c,d,e;for(c in this.checks)for(d in this.checks[c])if(e=RegExp(d,"i").exec(a))if(b.push(e),"builtin"===c||this.plugins[c])this.checks[c][d].apply(this.plugins[c]||this,b)}function n(a){return wa.concat("").join(a?"-"+a+" ":" ")}function m(a){return a&&{type:a.type,
pageX:a.pageX,pageY:a.pageY,target:a.target,relatedTarget:a.relatedTarget,scrollX:a.scrollX||d.pageXOffset||q.body.scrollLeft||q.documentElement.scrollLeft,scrollY:a.scrollY||d.pageYOffset||q.body.scrollTop||q.documentElement.scrollTop}||{}}function l(a,b){if(0<b)return setTimeout(f.proxy(a,this),b);a.call(this)}function t(a){if(this.tooltip.hasClass(ra))return w;clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this.timers.show=l.call(this,function(){this.toggle(J,a)},this.options.show.delay)}
function u(a){if(this.tooltip.hasClass(ra))return w;var b=f(a.relatedTarget),c=b.closest(xa)[0]===this.tooltip[0],d=b[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==b[0]&&"mouse"===this.options.position.target&&c||this.options.hide.fixed&&/mouse(out|leave|move)/.test(a.type)&&(c||d))try{a.preventDefault(),a.stopImmediatePropagation()}catch(e){}else this.timers.hide=l.call(this,function(){this.toggle(w,a)},this.options.hide.delay,this)}function v(a){if(this.tooltip.hasClass(ra)||
!this.options.hide.inactive)return w;clearTimeout(this.timers.inactive);this.timers.inactive=l.call(this,function(){this.hide(a)},this.options.hide.inactive)}function x(a){this.rendered&&0<this.tooltip[0].offsetWidth&&this.reposition(a)}function A(a,b,c){f(q.body).delegate(a,(b.split?b:b.join(ca+" "))+ca,function(){var a=Y.api[f.attr(this,pa)];a&&!a.disabled&&c.apply(a,arguments)})}function s(a,c,d){var g,h,k,l=f(q.body),z=a[0]===q?l:a;h=a.metadata?a.metadata(d.metadata):S;var p="html5"===d.metadata.type&&
h?h[d.metadata.name]:S,E=a.data(d.metadata.name||"qtipopts");try{E="string"===typeof E?f.parseJSON(E):E}catch(n){}h=f.extend(J,{},Y.defaults,d,"object"===typeof E?e(E):S,e(p||h));d=h.position;h.id=c;if("boolean"===typeof h.content.text)if(g=a.attr(h.content.attr),h.content.attr!==w&&g)h.content.text=g;else return w;d.container.length||(d.container=l);d.target===w&&(d.target=z);h.show.target===w&&(h.show.target=z);h.show.solo===J&&(h.show.solo=d.container.closest("body"));h.hide.target===w&&(h.hide.target=
z);h.position.viewport===J&&(h.position.viewport=d.container);d.container=d.container.eq(0);d.at=new O(d.at,J);d.my=new O(d.my);if(a.data(P))if(h.overwrite)a.qtip("destroy",!0);else if(h.overwrite===w)return w;a.attr(ha,c);h.suppress&&(k=a.attr("title"))&&a.removeAttr("title").attr(r,k).attr("title","");g=new b(a,h,c,!!g);a.data(P,g);a.one("remove.qtip-"+c+" removeqtip.qtip-"+c,function(){var a;(a=f(this).data(P))&&a.destroy(!0)});return g}function K(a){return a.charAt(0).toUpperCase()+a.slice(1)}
function F(a,b){var d=b.charAt(0).toUpperCase()+b.slice(1),d=(b+" "+ba.join(d+" ")+d).split(" "),e,g,f=0;if(Fa[b])return a.css(Fa[b]);for(;e=d[f++];)if((g=a.css(e))!==c)return Fa[b]=e,g}function H(a,b){return Math.ceil(parseFloat(F(a,b)))}function y(a,b){this._ns="tip";this.options=b;this.offset=b.offset;this.size=[b.width,b.height];this.init(this.qtip=a)}function I(a,b){this.options=b;this._ns="-modal";this.init(this.qtip=a)}function M(a,b){this._ns="ie6";this.init(this.qtip=a)}var J=!0,w=!1,S=null,
C="x",B="y",N="width",D="center",ma="flipinvert",V="shift",Y,L,O,R,X={},P="qtip",ha="data-hasqtip",pa="data-qtip-id",wa=["ui-widget","ui-tooltip"],xa="."+P,ta="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),ja=P+"-fixed",na=P+"-default",qa=P+"-focus",oa=P+"-hover",ra=P+"-disabled",r="oldtitle",z,g=function(){for(var a=3,b=q.createElement("div");(b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e")&&b.getElementsByTagName("i")[0];);return 4<a?a:NaN}(),E=parseFloat((""+
(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||w;L=b.prototype;L._when=function(a){return f.when.apply(f,a)};L.render=function(a){if(this.rendered||this.destroyed)return this;var b=this,c=this.options,d=this.cache,e=this.elements,g=c.content.text,h=c.content.title,r=c.content.button,k=c.position,l=[];f.attr(this.target[0],"aria-describedby",this._id);this.tooltip=e.tooltip=f("<div/>",{id:this._id,
"class":[P,na,c.style.classes,P+"-pos-"+c.position.my.abbrev()].join(" "),width:c.style.width||"",height:c.style.height||"",tracking:"mouse"===k.target&&k.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":w,"aria-describedby":this._id+"-content","aria-hidden":J}).toggleClass(ra,this.disabled).attr(pa,this.id).data(P,this).appendTo(k.container).append(e.content=f("<div />",{"class":P+"-content",id:this._id+"-content","aria-atomic":J}));this.rendered=-1;this.positioning=J;h&&(this._createTitle(),
f.isFunction(h)||l.push(this._updateTitle(h,w)));r&&this._createButton();f.isFunction(g)||l.push(this._updateContent(g,w));this.rendered=J;this._setWidget();f.each(X,function(a){var c;if("render"===this.initialize&&(c=this(b)))b.plugins[a]=c});this._unassignEvents();this._assignEvents();this._when(l).then(function(){b._trigger("render");b.positioning=w;!b.hiddenDuringWait&&(c.show.ready||a)&&b.toggle(J,d.event,w);b.hiddenDuringWait=w});Y.api[this.id]=this;return this};L.destroy=function(a){function b(){if(!this.destroyed){this.destroyed=
J;var a=this.target,c=a.attr(r);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();f.each(this.plugins,function(a){this.destroy&&this.destroy()});clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this._unassignEvents();a.removeData(P).removeAttr(pa).removeAttr(ha).removeAttr("aria-describedby");this.options.suppress&&c&&a.attr("title",c).removeAttr(r);this._unbind(a);this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=S;delete Y.api[this.id]}}
if(this.destroyed)return this.target;(a!==J||"hide"===this.triggering)&&this.rendered?(this.tooltip.one("tooltiphidden",f.proxy(b,this)),!this.triggering&&this.hide()):b.call(this);return this.target};R=L.checks={builtin:{"^id$":function(a,b,c,d){c=c===J?Y.nextid:c;var e=P+"-"+c;c!==w&&0<c.length&&!f("#"+e).length?(this._id=e,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):a[b]=d},"^prerender":function(a,b,c){c&&
!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(a,b,c){this._updateContent(c)},"^content.attr$":function(a,b,c,d){this.options.content.text===this.target.attr(d)&&this._updateContent(this.target.attr(c))},"^content.title$":function(a,b,c){if(!c)return this._removeTitle();c&&!this.elements.title&&this._createTitle();this._updateTitle(c)},"^content.button$":function(a,b,c){this._updateButton(c)},"^content.title.(text|button)$":function(a,b,c){this.set("content."+b,c)},
"^position.(my|at)$":function(a,b,c){"string"===typeof c&&(a[b]=new O(c,"at"===b))},"^position.container$":function(a,b,c){this.rendered&&this.tooltip.appendTo(c)},"^show.ready$":function(a,b,c){c&&(!this.rendered&&this.render(J)||this.toggle(J))},"^style.classes$":function(a,b,c,d){this.rendered&&this.tooltip.removeClass(d).addClass(c)},"^style.(width|height)":function(a,b,c){this.rendered&&this.tooltip.css(b,c)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(a,
b,c){this.rendered&&this.tooltip.toggleClass(na,!!c)},"^events.(render|show|move|hide|focus|blur)$":function(a,b,c){this.rendered&&this.tooltip[(f.isFunction(c)?"":"un")+"bind"]("tooltip"+b,c)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var a=this.options.position;this.tooltip.attr("tracking","mouse"===a.target&&a.adjust.mouse);this._unassignEvents();this._assignEvents()}}}};L.get=function(a){if(this.destroyed)return this;a=h(this.options,
a.toLowerCase());a=a[0][a[1]];return a.precedance?a.string():a};var G=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,aa=/^prerender|show\.ready/i;L.set=function(a,b){if(this.destroyed)return this;var c=this.rendered,d=w,g=this.options,r;"string"===typeof a?(r=a,a={},a[r]=b):a=f.extend({},a);f.each(a,function(b,e){if(c&&aa.test(b))delete a[b];else{var r=h(g,b.toLowerCase()),k;k=r[0][r[1]];r[0][r[1]]=e&&e.nodeType?f(e):e;d=G.test(b)||d;a[b]=[r[0],r[1],e,k]}});e(g);
this.positioning=J;f.each(a,f.proxy(p,this));this.positioning=w;this.rendered&&(0<this.tooltip[0].offsetWidth&&d)&&this.reposition("mouse"===g.position.target?S:this.cache.event);return this};L._update=function(a,b,c){var d=this,e=this.cache;if(!this.rendered||!a)return w;f.isFunction(a)&&(a=a.call(this.elements.target,e.event,this)||"");if(f.isFunction(a.then))return e.waiting=J,a.then(function(a){e.waiting=w;return d._update(a,b)},S,function(a){return d._update(a,b)});if(a===w||!a&&""!==a)return w;
a.jquery&&0<a.length?b.empty().append(a.css({display:"block",visibility:"visible"})):b.html(a);return this._waitForContent(b).then(function(a){a.images&&(a.images.length&&d.rendered&&0<d.tooltip[0].offsetWidth)&&d.reposition(e.event,!a.length)})};L._waitForContent=function(a){var b=this.cache;b.waiting=J;return(f.fn.imagesLoaded?a.imagesLoaded():f.Deferred().resolve([])).done(function(){b.waiting=w}).promise()};L._updateContent=function(a,b){this._update(a,this.elements.content,b)};L._updateTitle=
function(a,b){this._update(a,this.elements.title,b)===w&&this._removeTitle(w)};L._createTitle=function(){var a=this.elements,b=this._id+"-title";a.titlebar&&this._removeTitle();a.titlebar=f("<div />",{"class":P+"-titlebar "+(this.options.style.widget?n("header"):"")}).append(a.title=f("<div />",{id:b,"class":P+"-title","aria-atomic":J})).insertBefore(a.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(a){f(this).toggleClass("ui-state-active ui-state-focus","down"===
a.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(a){f(this).toggleClass("ui-state-hover","mouseover"===a.type)});this.options.content.button&&this._createButton()};L._removeTitle=function(a){var b=this.elements;b.title&&(b.titlebar.remove(),b.titlebar=b.title=b.button=S,a!==w&&this.reposition())};L.reposition=function(a,b){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=J;var c=this.cache,e=this.tooltip,h=this.options.position,r=h.target,k=
h.my,l=h.at,z=h.viewport,p=h.container,n=h.adjust,m=n.method.split(" "),G=e.outerWidth(w),ea=e.outerHeight(w),t=0,aa=0,s=e.css("position"),Q={left:0,top:0},u=0<e[0].offsetWidth,ca=a&&"scroll"===a.type,v=f(d),x=p[0].ownerDocument,ia=this.mouse,ba,T;if(f.isArray(r)&&2===r.length)l={x:"left",y:"top"},Q={left:r[0],top:r[1]};else if("mouse"===r){l={x:"left",y:"top"};if(ia&&ia.pageX&&(n.mouse||!a||!a.pageX))a=ia;else if(!a||!a.pageX)if((!n.mouse||this.options.show.distance)&&c.origin&&c.origin.pageX)a=
c.origin;else if(!a||a&&("resize"===a.type||"scroll"===a.type))a=c.event;"static"!==s&&(Q=p.offset());if(x.body.offsetWidth!==(d.innerWidth||x.documentElement.clientWidth))T=f(q.body).offset();Q={left:a.pageX-Q.left+(T&&T.left||0),top:a.pageY-Q.top+(T&&T.top||0)};n.mouse&&(ca&&ia)&&(Q.left-=(ia.scrollX||0)-v.scrollLeft(),Q.top-=(ia.scrollY||0)-v.scrollTop())}else{"event"===r?a&&a.target&&"scroll"!==a.type&&"resize"!==a.type?c.target=f(a.target):a.target||(c.target=this.elements.target):"event"!==
r&&(c.target=f(r.jquery?r:this.elements.target));r=c.target;r=f(r).eq(0);if(0===r.length)return this;r[0]===q||r[0]===d?(t=E?d.innerWidth:r.width(),aa=E?d.innerHeight:r.height(),r[0]===d&&(Q={top:(z||r).scrollTop(),left:(z||r).scrollLeft()})):X.imagemap&&r.is("area")?ba=X.imagemap(this,r,l,X.viewport?m:w):X.svg&&r&&r[0].ownerSVGElement?ba=X.svg(this,r,l,X.viewport?m:w):(t=r.outerWidth(w),aa=r.outerHeight(w),Q=r.offset());ba&&(t=ba.width,aa=ba.height,T=ba.offset,Q=ba.position);Q=this.reposition.offset(r,
Q,p);if(3.1<E&&4.1>E||4.3<=E&&4.33>E||!E&&"fixed"===s)Q.left-=v.scrollLeft(),Q.top-=v.scrollTop();if(!ba||ba&&ba.adjustable!==w)Q.left+="right"===l.x?t:l.x===D?t/2:0,Q.top+="bottom"===l.y?aa:l.y===D?aa/2:0}Q.left+=n.x+("right"===k.x?-G:k.x===D?-G/2:0);Q.top+=n.y+("bottom"===k.y?-ea:k.y===D?-ea/2:0);X.viewport?(Q.adjusted=X.viewport(this,Q,h,t,aa,G,ea),T&&Q.adjusted.left&&(Q.left+=T.left),T&&Q.adjusted.top&&(Q.top+=T.top)):Q.adjusted={left:0,top:0};if(!this._trigger("move",[Q,z.elem||z],a))return this;
delete Q.adjusted;b===w||!u||isNaN(Q.left)||isNaN(Q.top)||"mouse"===r||!f.isFunction(h.effect)?e.css(Q):f.isFunction(h.effect)&&(h.effect.call(e,this,f.extend({},Q)),e.queue(function(a){f(this).css({opacity:"",height:""});g&&this.style.removeAttribute("filter");a()}));this.positioning=w;return this};L.reposition.offset=function(a,b,c){if(!c[0])return b;a=f(a[0].ownerDocument);var d=!!g&&"CSS1Compat"!==q.compatMode;c=c[0];var e,h,r;do if("static"!==(h=f.css(c,"position"))){if("fixed"===h){h=c.getBoundingClientRect();
var k=a;b.left+=-1*k.scrollLeft();b.top+=-1*k.scrollTop()}else h=f(c).position(),h.left+=parseFloat(f.css(c,"borderLeftWidth"))||0,h.top+=parseFloat(f.css(c,"borderTopWidth"))||0;b.left-=h.left+(parseFloat(f.css(c,"marginLeft"))||0);b.top-=h.top+(parseFloat(f.css(c,"marginTop"))||0);if(!e&&"hidden"!==(r=f.css(c,"overflow"))&&"visible"!==r)e=f(c)}while(c=c.offsetParent);if(e&&(e[0]!==a[0]||d))b.left+=1*e.scrollLeft(),b.top+=1*e.scrollTop();return b};var ea=(O=L.reposition.Corner=function(a,b){a=(""+
a).replace(/([A-Z])/," $1").replace(/middle/gi,D).toLowerCase();this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase();this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!b;var c=a.charAt(0);this.precedance="t"===c||"b"===c?B:C}).prototype;ea.invert=function(a,b){this[a]="left"===this[a]?"right":"right"===this[a]?"left":b||this[a]};ea.string=function(){var a=this.x,b=this.y;return a===b?a:this.precedance===B||this.forceY&&"center"!==b?b+" "+
a:a+" "+b};ea.abbrev=function(){var a=this.string().split(" ");return a[0].charAt(0)+(a[1]&&a[1].charAt(0)||"")};ea.clone=function(){return new O(this.string(),this.forceY)};L.toggle=function(a,b,c){var d=this.cache,e=this.options,h=this.tooltip;if(b){if(/over|enter/.test(b.type)&&/out|leave/.test(d.event.type)&&e.show.target.add(b.target).length===e.show.target.length&&h.has(b.relatedTarget).length)return this;d.event=m(b)}this.waiting&&!a&&(this.hiddenDuringWait=J);if(this.rendered){if(this.destroyed||
this.disabled)return this}else return a?this.render(1):this;var e=a?"show":"hide",r=this.options[e],k=this.options.position,l=this.options.content,p=this.tooltip.css("width"),E=this.tooltip.is(":visible"),n=a||1===r.target.length,G=!b||2>r.target.length||d.target[0]===b.target,ea;(typeof a).search("boolean|number")&&(a=!E);E=!h.is(":animated")&&E===a&&G;G=!E?!!this._trigger(e,[90]):S;if(this.destroyed)return this;G!==w&&a&&this.focus(b);if(!G||E)return this;f.attr(h[0],"aria-hidden",!a);a?(d.origin=
m(this.mouse),f.isFunction(l.text)&&this._updateContent(l.text,w),f.isFunction(l.title)&&this._updateTitle(l.title,w),!z&&("mouse"===k.target&&k.adjust.mouse)&&(f(q).bind("mousemove."+P,this._storeMouse),z=J),p||h.css("width",h.outerWidth(w)),this.reposition(b,c),p||h.css("width",""),r.solo&&("string"===typeof r.solo?f(r.solo):f(xa,r.solo)).not(h).not(r.target).qtip("hide",f.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete d.origin,z&&!f(xa+'[tracking="true"]:visible',r.solo).not(h).length&&
(f(q).unbind("mousemove."+P),z=w),this.blur(b));ea=f.proxy(function(){a?(g&&h[0].style.removeAttribute("filter"),h.css("overflow",""),"string"===typeof r.autofocus&&f(this.options.show.autofocus,h).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):h.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(a?"visible":"hidden")},this);r.effect===w||n===w?(h[e](),ea()):f.isFunction(r.effect)?(h.stop(1,1),r.effect.call(h,this),h.queue("fx",function(a){ea();a()})):
h.fadeTo(90,a?1:0,ea);a&&r.target.trigger("qtip-"+this.id+"-inactive");return this};L.show=function(a){return this.toggle(J,a)};L.hide=function(a){return this.toggle(w,a)};L.focus=function(a){if(!this.rendered||this.destroyed)return this;var b=f(xa),c=this.tooltip,d=parseInt(c[0].style.zIndex,10),e=Y.zindex+b.length;!c.hasClass(qa)&&this._trigger("focus",[e],a)&&(d!==e&&(b.each(function(){this.style.zIndex>d&&(this.style.zIndex-=1)}),b.filter("."+qa).qtip("blur",a)),c.addClass(qa)[0].style.zIndex=
e);return this};L.blur=function(a){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass(qa);this._trigger("blur",[this.tooltip.css("zIndex")],a);return this};L.disable=function(a){if(this.destroyed)return this;"toggle"===a?a=!(this.rendered?this.tooltip.hasClass(ra):this.disabled):"boolean"!==typeof a&&(a=J);this.rendered&&this.tooltip.toggleClass(ra,a).attr("aria-disabled",a);this.disabled=!!a;return this};L.enable=function(){return this.disable(w)};L._createButton=function(){var a=
this,b=this.elements,c=b.tooltip,d=this.options.content.button,e="string"===typeof d?d:"Close tooltip";b.button&&b.button.remove();b.button=d.jquery?d:f("<a />",{"class":"qtip-close "+(this.options.style.widget?"":P+"-icon"),title:e,"aria-label":e}).prepend(f("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));b.button.appendTo(b.titlebar||c).attr("role","button").click(function(b){c.hasClass(ra)||a.hide(b);return w})};L._updateButton=function(a){if(!this.rendered)return w;var b=this.elements.button;
a?this._createButton():b.remove()};L._setWidget=function(){var a=this.options.style.widget,b=this.elements,c=b.tooltip,d=c.hasClass(ra);c.removeClass(ra);ra=a?"ui-state-disabled":"qtip-disabled";c.toggleClass(ra,d);c.toggleClass("ui-helper-reset "+n(),a).toggleClass(na,this.options.style.def&&!a);b.content&&b.content.toggleClass(n("content"),a);b.titlebar&&b.titlebar.toggleClass(n("header"),a);b.button&&b.button.toggleClass(P+"-icon",!a)};L._storeMouse=function(a){(this.mouse=m(a)).type="mousemove"};
L._bind=function(a,b,c,d,e){d="."+this._id+(d?"-"+d:"");b.length&&f(a).bind((b.split?b:b.join(d+" "))+d,f.proxy(c,e||this))};L._unbind=function(a,b){f(a).unbind("."+this._id+(b?"-"+b:""))};var ca="."+P;f(function(){A(xa,["mouseenter","mouseleave"],function(a){var b="mouseenter"===a.type,c=f(a.currentTarget),d=f(a.relatedTarget||a.target),e=this.options;b?(this.focus(a),c.hasClass(ja)&&!c.hasClass(ra)&&clearTimeout(this.timers.hide)):"mouse"===e.position.target&&(e.hide.event&&e.show.target&&!d.closest(e.show.target[0]).length)&&
this.hide(a);c.toggleClass(oa,b)});A("["+pa+"]",ta,v)});L._trigger=function(a,b,c){var d=f.Event("tooltip"+a);d.originalEvent=c&&f.extend({},c)||this.cache.event||S;this.triggering=a;this.tooltip.trigger(d,[this].concat(b||[]));this.triggering=w;return!d.isDefaultPrevented()};L._bindEvents=function(a,b,c,d,e,g){if(d.add(c).length===d.length){var h=[];b=f.map(b,function(b){var c=f.inArray(b,a);if(-1<c)h.push(a.splice(c,1)[0]);else return b});h.length&&this._bind(c,h,function(a){(this.rendered&&0<this.tooltip[0].offsetWidth?
g:e).call(this,a)})}this._bind(c,a,e);this._bind(d,b,g)};L._assignInitialEvents=function(a){function b(a){if(this.disabled||this.destroyed)return w;this.cache.event=m(a);this.cache.target=a?f(a.target):[c];clearTimeout(this.timers.show);this.timers.show=l.call(this,function(){this.render("object"===typeof a||d.show.ready)},d.show.delay)}var d=this.options,e=d.show.target,g=d.hide.target,h=d.show.event?f.trim(""+d.show.event).split(" "):[],r=d.hide.event?f.trim(""+d.hide.event).split(" "):[];/mouse(over|enter)/i.test(d.show.event)&&
!/mouse(out|leave)/i.test(d.hide.event)&&r.push("mouseleave");this._bind(e,"mousemove",function(a){this._storeMouse(a);this.cache.onTarget=J});this._bindEvents(h,r,e,g,b,function(){clearTimeout(this.timers.show)});(d.show.ready||d.prerender)&&b.call(this,a)};L._assignEvents=function(){var a=this,b=this.options,c=b.position,e=this.tooltip,g=b.show.target,h=b.hide.target,r=c.container,k=c.viewport,l=f(q);f(q.body);var z=f(d),p=b.show.event?f.trim(""+b.show.event).split(" "):[],E=b.hide.event?f.trim(""+
b.hide.event).split(" "):[];f.each(b.events,function(b,c){a._bind(e,"toggle"===b?["tooltipshow","tooltiphide"]:["tooltip"+b],c,null,e)});/mouse(out|leave)/i.test(b.hide.event)&&"window"===b.hide.leave&&this._bind(l,["mouseout","blur"],function(a){!/select|option/.test(a.target.nodeName)&&!a.relatedTarget&&this.hide(a)});b.hide.fixed?h=h.add(e.addClass(ja)):/mouse(over|enter)/i.test(b.show.event)&&this._bind(h,"mouseleave",function(){clearTimeout(this.timers.show)});-1<(""+b.hide.event).indexOf("unfocus")&&
this._bind(r.closest("html"),["mousedown","touchstart"],function(a){var b=f(a.target),c=this.rendered&&!this.tooltip.hasClass(ra)&&0<this.tooltip[0].offsetWidth,d=0<b.parents(xa).filter(this.tooltip[0]).length;b[0]!==this.target[0]&&(b[0]!==this.tooltip[0]&&!d&&!this.target.has(b[0]).length&&c)&&this.hide(a)});"number"===typeof b.hide.inactive&&(this._bind(g,"qtip-"+this.id+"-inactive",v),this._bind(h.add(e),Y.inactiveEvents,v,"-inactive"));this._bindEvents(p,E,g,h,t,u);this._bind(g.add(e),"mousemove",
function(a){if("number"===typeof b.hide.distance){var c=this.cache.origin||{},d=this.options.hide.distance,e=Math.abs;(e(a.pageX-c.pageX)>=d||e(a.pageY-c.pageY)>=d)&&this.hide(a)}this._storeMouse(a)});"mouse"===c.target&&c.adjust.mouse&&(b.hide.event&&this._bind(g,["mouseenter","mouseleave"],function(a){this.cache.onTarget="mouseenter"===a.type}),this._bind(l,"mousemove",function(a){this.rendered&&(this.cache.onTarget&&!this.tooltip.hasClass(ra)&&0<this.tooltip[0].offsetWidth)&&this.reposition(a)}));
if(c.adjust.resize||k.length)this._bind(f.event.special.resize?k:z,"resize",x);c.adjust.scroll&&this._bind(z.add(c.container),"scroll",x)};L._unassignEvents=function(){var a=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],d,q];this._unbind(f([]).pushStack(f.grep(a,function(a){return"object"===typeof a})))};Y=f.fn.qtip=function(a,b,d){var g=
(""+a).toLowerCase(),h=S,r=f.makeArray(arguments).slice(1),k=r[r.length-1],l=this[0]?f.data(this[0],P):S;if(!arguments.length&&l||"api"===g)return l;if("string"===typeof a)return this.each(function(){var a=f.data(this,P);if(!a)return J;k&&k.timeStamp&&(a.cache.event=k);if(b&&("option"===g||"options"===g))if(d!==c||f.isPlainObject(b))a.set(b,d);else return h=a.get(b),w;else a[g]&&a[g].apply(a,r)}),h!==S?h:this;if("object"===typeof a||!arguments.length)return l=e(f.extend(J,{},a)),this.each(function(a){var b;
a=f.isArray(l.id)?l.id[a]:l.id;a=!a||a===w||1>a.length||Y.api[a]?Y.nextid++:a;b=s(f(this),a,l);if(b===w)return J;Y.api[a]=b;f.each(X,function(){"initialize"===this.initialize&&this(b)});b._assignInitialEvents(k)})};f.qtip=b;Y.api={};f.each({attr:function(a,b){if(this.length){var c=this[0],d=f.data(c,"qtip");if("title"===a&&d&&"object"===typeof d&&d.options.suppress){if(2>arguments.length)return f.attr(c,r);d&&("title"===d.options.content.attr&&d.cache.attr)&&d.set("content.text",b);return this.attr(r,
b)}}return f.fn.attr_replacedByqTip.apply(this,arguments)},clone:function(a){f([]);var b=f.fn.clone_replacedByqTip.apply(this,arguments);a||b.filter("["+r+"]").attr("title",function(){return f.attr(this,r)}).removeAttr(r);return b}},function(a,b){if(!b||f.fn[a+"_replacedByqTip"])return J;var c=f.fn[a+"_replacedByqTip"]=f.fn[a];f.fn[a]=function(){return b.apply(this,arguments)||c.apply(this,arguments)}});f.ui||(f.cleanData_replacedByqTip=f.cleanData,f.cleanData=function(a){for(var b=0,c;(c=f(a[b])).length;b++)if(c.attr(ha))try{c.triggerHandler("removeqtip")}catch(d){}f.cleanData_replacedByqTip.apply(this,
arguments)});Y.version="2.2.0";Y.nextid=0;Y.inactiveEvents=ta;Y.zindex=15E3;Y.defaults={prerender:w,id:w,overwrite:J,suppress:J,content:{text:J,attr:"title",title:w,button:w},position:{my:"top left",at:"bottom right",target:w,container:w,viewport:w,adjust:{x:0,y:0,mouse:J,scroll:J,resize:J,method:"flipinvert flipinvert"},effect:function(a,b,c){f(this).animate(b,{duration:200,queue:w})}},show:{target:w,event:"mouseenter",effect:J,delay:90,solo:w,ready:w,autofocus:w},hide:{target:w,event:"mouseleave",
effect:J,delay:0,fixed:w,inactive:w,leave:"window",distance:w},style:{classes:"",widget:w,width:w,height:w,def:J},events:{render:S,move:S,show:S,hide:S,toggle:S,visible:S,hidden:S,focus:S,blur:S}};var Ta="margin",ia=!!q.createElement("canvas").getContext,Q=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,Fa={},ba=["Webkit","O","Moz","ms"];if(ia){L=d.devicePixelRatio||1;var ea=function(){var a=q.createElement("canvas").getContext("2d");return a.backingStorePixelRatio||a.webkitBackingStorePixelRatio||
a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||1}(),T=L/ea}else var Ba=function(a,b,c){return"<qtipvml:"+a+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(b||"")+' style="behavior: url(#default#VML); '+(c||"")+'" />'};f.extend(y.prototype,{init:function(a){var b,c;c=this.element=a.elements.tip=f("<div />",{"class":P+"-tip"}).prependTo(a.tooltip);ia?(b=f("<canvas />").appendTo(this.element)[0].getContext("2d"),b.lineJoin="miter",b.miterLimit=1E5,b.save()):
(b=Ba("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(b+b),a._bind(f("*",c).add(c),["click","mousedown"],function(a){a.stopPropagation()},this._ns));a._bind(a.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(a){var b=this.qtip.elements.titlebar;return b&&("top"===
a.y||a.y===D&&this.element.position().top+this.size[1]/2+this.options.offset<b.outerHeight(J))},_parseCorner:function(a){var b=this.qtip.options.position.my;a===w||b===w?a=w:a===J?a=new O(b.string()):a.string||(a=new O(a),a.fixed=J);return a},_parseWidth:function(a,b,c){var d=this.qtip.elements;b="border"+K(b)+"Width";return(c?H(c,b):H(d.content,b)||H(this._useTitle(a)&&d.titlebar||d.content,b)||H(d.tooltip,b))||0},_parseRadius:function(a){var b=this.qtip.elements,c="border"+K(a.y)+K(a.x)+"Radius";
return 9>g?0:H(this._useTitle(a)&&b.titlebar||b.content,c)||H(b.tooltip,c)||0},_invalidColour:function(a,b,c){b=a.css(b);return!b||c&&b===a.css(c)||Q.test(b)?w:b},_parseColours:function(a){var b=this.qtip.elements,c=this.element.css("cssText",""),d="border"+K(a[a.precedance])+K("color");a=this._useTitle(a)&&b.titlebar||b.content;var e=this._invalidColour,g=[];g[0]=e(c,"background-color")||e(a,"background-color")||e(b.content,"background-color")||e(b.tooltip,"background-color")||c.css("background-color");
g[1]=e(c,d,"color")||e(a,d,"color")||e(b.content,d,"color")||e(b.tooltip,d,"color")||b.tooltip.css(d);f("*",c).add(c).css("cssText","background-color:transparent !important;border:0 !important;");return g},_calculateSize:function(a){var b=a.precedance===B,c=this.options.width,d=this.options.height,e="c"===a.abbrev(),g=(b?c:d)*(e?0.5:1),f=Math.pow;a=Math.round;var h=Math.sqrt(f(g,2)+f(d,2)),g=[this.border/g*h,this.border/d*h];g[2]=Math.sqrt(f(g[0],2)-f(this.border,2));g[3]=Math.sqrt(f(g[1],2)-f(this.border,
2));e=(h+g[2]+g[3]+(e?0:g[0]))/h;c=[a(e*c),a(e*d)];return b?c:c.reverse()},_calculateTip:function(a,b,c){c=c||1;b=b||this.size;var d=b[0]*c;b=b[1]*c;c=Math.ceil(d/2);var e=Math.ceil(b/2),d={br:[0,0,d,b,d,0],bl:[0,0,d,0,0,b],tr:[0,b,d,0,d,b],tl:[0,0,0,b,d,b],tc:[0,b,c,0,d,b],bc:[0,0,d,0,c,b],rc:[0,0,d,e,0,b],lc:[d,0,d,b,0,e]};d.lt=d.br;d.rt=d.bl;d.lb=d.tr;d.rb=d.tl;return d[a.abbrev()]},_drawCoords:function(a,b){a.beginPath();a.moveTo(b[0],b[1]);a.lineTo(b[2],b[3]);a.lineTo(b[4],b[5]);a.closePath()},
create:function(){var a=this.corner=(ia||g)&&this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())this.qtip.cache.corner=a.clone(),this.update();this.element.toggle(this.enabled);return this.corner},update:function(a,b){if(!this.enabled)return this;var c=this.qtip.elements,e=this.element,h=e.children(),r=this.options,k=this.size,l=r.mimic,z=Math.round,p,E,n,m,G;a||(a=this.qtip.cache.corner||this.corner);l===w?l=a:(l=new O(l),l.precedance=a.precedance,"inherit"===
l.x?l.x=a.x:"inherit"===l.y?l.y=a.y:l.x===l.y&&(l[a.precedance]=a[a.precedance]));E=l.precedance;a.precedance===C?this._swapDimensions():this._resetDimensions();p=this.color=this._parseColours(a);"transparent"!==p[1]?(G=this.border=this._parseWidth(a,a[a.precedance]),r.border&&(1>G&&!Q.test(p[1]))&&(p[0]=p[1]),this.border=G=r.border!==J?r.border:G):this.border=G=0;m=this.size=this._calculateSize(a);e.css({width:m[0],height:m[1],lineHeight:m[1]+"px"});e=a.precedance===B?[z("left"===l.x?G:"right"===
l.x?m[0]-k[0]-G:(m[0]-k[0])/2),z("top"===l.y?m[1]-k[1]:0)]:[z("left"===l.x?m[0]-k[0]:0),z("top"===l.y?G:"bottom"===l.y?m[1]-k[1]-G:(m[1]-k[1])/2)];ia?(E=h[0].getContext("2d"),E.restore(),E.save(),E.clearRect(0,0,6E3,6E3),n=this._calculateTip(l,k,T),k=this._calculateTip(l,this.size,T),h.attr(N,m[0]*T).attr("height",m[1]*T),h.css(N,m[0]).css("height",m[1]),this._drawCoords(E,k),E.fillStyle=p[1],E.fill(),E.translate(e[0]*T,e[1]*T),this._drawCoords(E,n),E.fillStyle=p[0],E.fill()):(n=this._calculateTip(l),
n="m"+n[0]+","+n[1]+" l"+n[2]+","+n[3]+" "+n[4]+","+n[5]+" xe",e[2]=G&&/^(r|b)/i.test(a.string())?8===g?2:1:0,h.css({coordsize:m[0]+G+" "+(m[1]+G),antialias:""+(-1<l.string().indexOf(D)),left:e[0]-e[2]*Number(E===C),top:e[1]-e[2]*Number(E===B),width:m[0]+G,height:m[1]+G}).each(function(a){var b=f(this);b[b.prop?"prop":"attr"]({coordsize:m[0]+G+" "+(m[1]+G),path:n,fillcolor:p[0],filled:!!a,stroked:!a}).toggle(!(!G&&!a));!a&&b.html(Ba("stroke",'weight="'+2*G+'px" color="'+p[1]+'" miterlimit="1000" joinstyle="miter"'))}));
d.opera&&setTimeout(function(){c.tip.css({display:"inline-block",visibility:"visible"})},1);b!==w&&this.calculate(a,m)},calculate:function(a,b){if(!this.enabled)return w;var c=this,d=this.qtip.elements,e=this.element,g=this.options.offset;d.tooltip.hasClass("ui-widget");var h={},r,k;a=a||this.corner;r=a.precedance;b=b||this._calculateSize(a);k=[a.x,a.y];r===C&&k.reverse();f.each(k,function(e,f){var k,l,z;f===D?(k=r===B?"left":"top",h[k]="50%",h[Ta+"-"+k]=-Math.round(b[r===B?0:1]/2)+g):(k=c._parseWidth(a,
f,d.tooltip),l=c._parseWidth(a,f,d.content),z=c._parseRadius(a),h[f]=Math.max(-c.border,e?l:g+(z>k?z:-k)))});h[a[r]]-=b[r===C?0:1];e.css({margin:"",top:"",bottom:"",left:"",right:""}).css(h);return h},reposition:function(a,b,d,e){function g(a,b,c,d,e){a===V&&h.precedance===b&&r[d]&&h[c]!==D?h.precedance=h.precedance===C?B:C:a!==V&&r[d]&&(h[b]=h[b]===D?0<r[d]?d:e:h[b]===d?e:d)}function f(a,b,e){if(h[a]===D)z[Ta+"-"+b]=k[a]=l[Ta+"-"+b]-r[b];else{p=l[e]!==c?[r[b],-l[b]]:[-r[b],l[b]];if((k[a]=Math.max(p[0],
p[1]))>p[0])d[b]-=r[b],k[b]=w;z[l[e]!==c?e:b]=k[a]}}if(this.enabled){a=b.cache;var h=this.corner.clone(),r=d.adjusted;e=b.options.position.adjust.method.split(" ");b=e[0];e=e[1]||e[0];var k={left:w,top:w,x:0,y:0},l,z={},p;this.corner.fixed!==J&&(g(b,C,B,"left","right"),g(e,B,C,"top","bottom"),h.string()!==a.corner.string()&&(a.cornerTop!==r.top||a.cornerLeft!==r.left)&&this.update(h,w));l=this.calculate(h);l.right!==c&&(l.left=-l.right);l.bottom!==c&&(l.top=-l.bottom);l.user=this.offset;(k.left=b===
V&&!!r.left)&&f(C,"left","right");(k.top=e===V&&!!r.top)&&f(B,"top","bottom");this.element.css(z).toggle(!(k.x&&k.y||h.x===D&&k.y||h.y===D&&k.x));d.left-=l.left.charAt?l.user:b!==V||k.top||!k.left&&!k.top?l.left+this.border:0;d.top-=l.top.charAt?l.user:e!==V||k.left||!k.left&&!k.top?l.top+this.border:0;a.cornerLeft=r.left;a.cornerTop=r.top;a.corner=h.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});
L=X.tip=function(a){return new y(a,a.options.style.tip)};L.initialize="render";L.sanitize=function(a){if(a.style&&"tip"in a.style){var b=a.style.tip;"object"!==typeof b&&(b=a.style.tip={corner:b});/string|boolean/i.test(typeof b.corner)||(b.corner=J)}};R.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(a){this.size=[a.width,a.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};
f.extend(J,Y.defaults,{style:{tip:{corner:J,mimic:w,width:6,height:6,border:J,offset:0}}});var Da;Da=function(){function a(b){if(f.expr[":"].focusable)return f.expr[":"].focusable;var c=!isNaN(f.attr(b,"tabindex")),d=b.nodeName&&b.nodeName.toLowerCase();if("area"===d){c=b.parentNode;d=c.name;if(!b.href||!d||"map"!==c.nodeName.toLowerCase())return!1;b=f("img[usemap=#"+d+"]")[0];return!!b&&b.is(":visible")}return/input|select|textarea|button|object/.test(d)?!b.disabled:"a"===d?b.href||c:c}function b(a){1>
e.length&&a.length?a.not("body").blur():e.first().focus()}function c(a){if(r.is(":visible")){a=f(a.target);var d=g.tooltip,e=a.closest(xa);!(1>e.length?w:parseInt(e[0].style.zIndex,10)>parseInt(d[0].style.zIndex,10))&&a.closest(xa)[0]!==d[0]&&b(a)}}var d=this,e={},g,h,r;f.extend(d,{init:function(){r=d.elem=f("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return w}}).hide();f(q.body).bind("focusin.qtip-modal",c);f(q).bind("keydown.qtip-modal",function(a){g&&(g.options.show.modal.escape&&
27===a.keyCode)&&g.hide(a)});r.bind("click.qtip-modal",function(a){g&&g.options.show.modal.blur&&g.hide(a)});return d},update:function(b){g=b;e=b.options.show.modal.stealfocus!==w?b.tooltip.find("*").filter(function(){return a(this)}):[]},toggle:function(a,c,e){f(q.body);var k=a.tooltip,l=a.options.show.modal,z=l.effect,p=c?"show":"hide",E=r.is(":visible"),k=f(".qtip-modal").filter(":visible:not(:animated)").not(k);d.update(a);c&&l.stealfocus!==w&&b(f(":focus"));r.toggleClass("blurs",l.blur);c&&r.appendTo(q.body);
if(r.is(":animated")&&E===c&&h!==w||!c&&k.length)return d;r.stop(J,w);if(f.isFunction(z))z.call(r,c);else if(z===w)r[p]();else r.fadeTo(parseInt(e,10)||90,c?1:0,function(){c||r.hide()});c||r.queue(function(a){r.css({left:"",top:""});f(".qtip-modal").length||r.detach();a()});h=c;g.destroyed&&(g=S);return d}});d.init()};Da=new Da;f.extend(I.prototype,{init:function(a){var b=a.tooltip;if(!this.options.on)return this;a.elements.overlay=Da.elem;b.addClass("qtip-modal").css("z-index",Y.modal_zindex+f(".qtip-modal").length);
a._bind(b,["tooltipshow","tooltiphide"],function(a,c,d){c=a.originalEvent;if(a.target===b[0])if(c&&"tooltiphide"===a.type&&/mouse(leave|enter)/.test(c.type)&&f(c.relatedTarget).closest(Da.elem[0]).length)try{a.preventDefault()}catch(e){}else(!c||c&&"tooltipsolo"!==c.type)&&this.toggle(a,"tooltipshow"===a.type,d)},this._ns,this);a._bind(b,"tooltipfocus",function(a,c){if(!(a.isDefaultPrevented()||a.target!==b[0])){var d=f(".qtip-modal"),e=Y.modal_zindex+d.length,g=parseInt(b[0].style.zIndex,10);Da.elem[0].style.zIndex=
e-1;d.each(function(){this.style.zIndex>g&&(this.style.zIndex-=1)});d.filter("."+qa).qtip("blur",a.originalEvent);b.addClass(qa)[0].style.zIndex=e;Da.update(c);try{a.preventDefault()}catch(h){}}},this._ns,this);a._bind(b,"tooltiphide",function(a){a.target===b[0]&&f(".qtip-modal").filter(":visible").not(b).last().qtip("focus",a)},this._ns,this)},toggle:function(a,b,c){if(a&&a.isDefaultPrevented())return this;Da.toggle(this.qtip,!!b,c)},destroy:function(){this.qtip.tooltip.removeClass("qtip-modal");
this.qtip._unbind(this.qtip.tooltip,this._ns);Da.toggle(this.qtip,w);delete this.qtip.elements.overlay}});L=X.modal=function(a){return new I(a,a.options.show.modal)};L.sanitize=function(a){a.show&&("object"!==typeof a.show.modal?a.show.modal={on:!!a.show.modal}:"undefined"===typeof a.show.modal.on&&(a.show.modal.on=J))};Y.modal_zindex=Y.zindex-200;L.initialize="render";R.modal={"^show.modal.(on|blur)$":function(){this.destroy();this.init();this.qtip.elems.overlay.toggle(0<this.qtip.tooltip[0].offsetWidth)}};
f.extend(J,Y.defaults,{show:{modal:{on:w,effect:J,blur:J,stealfocus:J,escape:J}}});X.viewport=function(a,b,c,e,g,f,h){function r(a,c,d,e,g,f,h,k,l){var E=b[g],n=z[a],m=p[a],G=n===g?l:n===f?-l:-l/2,q=x[g]+ia[g]-(u?0:s[g]),ea=q-E;l=E+l-(h===N?ca:v)-q;c=G-(z.precedance===a||n===z[c]?m===g?k:m===f?-k:-k/2:0)-(m===D?k/2:0);if(d===V)c=(n===g?1:-1)*G,b[g]+=0<ea?ea:0<l?-l:0,b[g]=Math.max(-s[g]+ia[g],E-c,Math.min(Math.max(-s[g]+ia[g]+(h===N?ca:v),E+c),b[g],"center"===n?E-G:1E9));else{e*=d===ma?2:0;if(0<ea&&
(n!==g||0<l))b[g]-=c+e,Q.invert(a,g);else if(0<l&&(n!==f||0<ea))b[g]-=(n===D?-c:c)+e,Q.invert(a,f);b[g]<x&&-b[g]>l&&(b[g]=E,Q=z.clone())}return b[g]-E}var k=c.target,l=a.elements.tooltip,z=c.my,p=c.at,E=c.adjust,n=E.method.split(" "),m=n[0],n=n[1]||n[0],G=c.viewport,ea=c.container;c=a.cache;var t={left:0,top:0},Q,aa,s,u,ca,v,x,ia;if(!G.jquery||k[0]===d||k[0]===q.body||"none"===E.method)return t;s=ea.offset()||t;u="static"===ea.css("position");k="fixed"===l.css("position");ca=G[0]===d?G.width():G.outerWidth(w);
v=G[0]===d?G.height():G.outerHeight(w);x={left:k?0:G.scrollLeft(),top:k?0:G.scrollTop()};ia=G.offset()||t;if("shift"!==m||"shift"!==n)Q=z.clone();t={left:"none"!==m?r(C,B,m,E.x,"left","right",N,e,f):0,top:"none"!==n?r(B,C,n,E.y,"top","bottom","height",g,h):0};if(Q&&c.lastClass!==(aa=P+"-pos-"+Q.abbrev()))l.removeClass(a.cache.lastClass).addClass(a.cache.lastClass=aa);return t};X.polys={polygon:function(a,b){for(var c={width:0,height:0,position:{top:1E10,right:0,bottom:0,left:1E10},adjustable:w},d=
0,e,g=[],f=1,h=1,r=e=0,k,l,d=a.length;d--;)e=[parseInt(a[--d],10),parseInt(a[d+1],10)],e[0]>c.position.right&&(c.position.right=e[0]),e[0]<c.position.left&&(c.position.left=e[0]),e[1]>c.position.bottom&&(c.position.bottom=e[1]),e[1]<c.position.top&&(c.position.top=e[1]),g.push(e);k=c.width=Math.abs(c.position.right-c.position.left);l=c.height=Math.abs(c.position.bottom-c.position.top);if("c"===b.abbrev())c.position={left:c.position.left+c.width/2,top:c.position.top+c.height/2};else{for(;0<k&&0<l&&
0<f&&0<h;){k=Math.floor(k/2);l=Math.floor(l/2);f="left"===b.x?k:"right"===b.x?c.width-k:f+Math.floor(k/2);h="top"===b.y?l:"bottom"===b.y?c.height-l:h+Math.floor(l/2);for(d=g.length;d--&&!(2>g.length);)e=g[d][0]-c.position.left,r=g[d][1]-c.position.top,("left"===b.x&&e>=f||"right"===b.x&&e<=f||b.x===D&&(e<f||e>c.width-f)||"top"===b.y&&r>=h||"bottom"===b.y&&r<=h||b.y===D&&(r<h||r>c.height-h))&&g.splice(d,1)}c.position={left:g[0][0],top:g[0][1]}}return c},rect:function(a,b,c,d){return{width:Math.abs(c-
a),height:Math.abs(d-b),position:{left:Math.min(a,c),top:Math.min(b,d)}}},_angles:{tc:1.5,tr:1.75,tl:1.25,bc:0.5,br:0.25,bl:0.75,rc:2,lc:1,c:0},ellipse:function(a,b,c,d,e){var g=X.polys._angles[e.abbrev()];e=0===g?0:c*Math.cos(g*Math.PI);g=d*Math.sin(g*Math.PI);return{width:2*c-Math.abs(e),height:2*d-Math.abs(g),position:{left:a+e,top:b+g},adjustable:w}},circle:function(a,b,c,d){return X.polys.ellipse(a,b,c,c,d)}};X.svg=function(a,b,c){a=f(q);for(var d=b[0],e=f(d.ownerSVGElement),g=!0,h,r,k,l;!d.getBBox;)d=
d.parentNode;if(!d.getBBox||!d.parentNode)return w;e.attr("width")||e.width()||parseInt(e.css("width"),10);e.attr("height")||e.height()||parseInt(e.css("height"),10);b=(parseInt(b.css("stroke-width"),10)||0)/2;switch(d.nodeName){case "ellipse":case "circle":b=X.polys.ellipse(d.cx.baseVal.value,d.cy.baseVal.value,(d.rx||d.r).baseVal.value+b,(d.ry||d.r).baseVal.value+b,c);break;case "line":case "polygon":case "polyline":l=d.points||[{x:d.x1.baseVal.value,y:d.y1.baseVal.value},{x:d.x2.baseVal.value,
y:d.y2.baseVal.value}];b=[];k=-1;for(h=l.numberOfItems||l.length;++k<h;)r=l.getItem?l.getItem(k):l[k],b.push.apply(b,[r.x,r.y]);b=X.polys.polygon(b,c);break;default:b=d.getBoundingClientRect(),b={width:b.width,height:b.height,position:{left:b.left,top:b.top}},g=!1}c=b.position;e=e[0];g&&e.createSVGPoint&&(d=d.getScreenCTM(),l=e.createSVGPoint(),l.x=c.left,l.y=c.top,e=l.matrixTransform(d),c.left=e.x,c.top=e.y);c.left+=a.scrollLeft();c.top+=a.scrollTop();return b};X.imagemap=function(a,b,c,d){b.jquery||
(b=f(b));d=b.attr("shape").toLowerCase().replace("poly","polygon");a=f('img[usemap="#'+b.parent("map").attr("name")+'"]');b=f.trim(b.attr("coords")).replace(/,$/,"").split(",");var e,g,h;if(!a.length)return w;if("polygon"===d)d=X.polys.polygon(b,c);else if(X.polys[d]){g=-1;h=b.length;for(e=[];++g<h;)e.push(parseInt(b[g],10));d=X.polys[d].apply(this,e.concat(c))}else return w;c=a.offset();c.left+=Math.ceil((a.outerWidth(w)-a.width())/2);c.top+=Math.ceil((a.outerHeight(w)-a.height())/2);d.position.left+=
c.left;d.position.top+=c.top;return d};f.extend(M.prototype,{_scroll:function(){var a=this.qtip.elements.overlay;a&&(a[0].style.top=f(d).scrollTop()+"px")},init:function(a){var b=a.tooltip;1>f("select, object").length&&(this.bgiframe=a.elements.bgiframe=f('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(b),
a._bind(b,"tooltipmove",this.adjustBGIFrame,this._ns,this));this.redrawContainer=f("<div/>",{id:P+"-rcontainer"}).appendTo(q.body);a.elements.overlay&&a.elements.overlay.addClass("qtipmodal-ie6fix")&&(a._bind(d,["scroll","resize"],this._scroll,this._ns,this),a._bind(b,["tooltipshow"],this._scroll,this._ns,this));this.redraw()},adjustBGIFrame:function(){var a=this.qtip.tooltip,b={height:a.outerHeight(w),width:a.outerWidth(w)},c=this.qtip.plugins.tip,d=this.qtip.elements.tip,a=parseInt(a.css("borderLeftWidth"),
10)||0,a={left:-a,top:-a};c&&d&&(c="x"===c.corner.precedance?[N,"left"]:["height","top"],a[c[1]]-=d[c[0]]());this.bgiframe.css(a).css(b)},redraw:function(){if(1>this.qtip.rendered||this.drawing)return this;var a=this.qtip.tooltip,b=this.qtip.options.style,c=this.qtip.options.position.container,d,e,g;this.qtip.drawing=1;b.height&&a.css("height",b.height);b.width?a.css(N,b.width):(a.css(N,"").appendTo(this.redrawContainer),d=a.width(),1>d%2&&(d+=1),e=a.css("maxWidth")||"",g=a.css("minWidth")||"",b=
-1<(e+g).indexOf("%")?c.width()/100:0,e=(-1<e.indexOf("%")?b:1)*parseInt(e,10)||d,g=(-1<g.indexOf("%")?b:1)*parseInt(g,10)||0,d=e+g?Math.min(Math.max(d,g),e):d,a.css(N,Math.round(d)).appendTo(c));this.drawing=0;return this},destroy:function(){this.bgiframe&&this.bgiframe.remove();this.qtip._unbind([d,this.qtip.tooltip],this._ns)}});(X.ie6=function(a){return 6===g?new M(a):w}).initialize="render";R.ie6={"^content|style$":function(){this.redraw()}}})})(window,document);
(function(){var d,q,c,f,b={}.hasOwnProperty,k=function(a,c){function d(){this.constructor=a}for(var f in c)b.call(c,f)&&(a[f]=c[f]);d.prototype=c.prototype;a.prototype=new d;a.__super__=c.prototype;return a},a=function(a,b){return function(){return a.apply(b,arguments)}};window.Tourist=window.Tourist||{};Tourist.Model=function(a){function b(){return d=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype._module="Tourist";return b}(Backbone.Model);window.Tourist.Tip=window.Tourist.Tip||
{};Tourist.Tip.Base=function(){function b(c){this.options=null!=c?c:{};this.onClickNext=a(this.onClickNext,this);this.onClickClose=a(this.onClickClose,this);this.el=$("<div/>");this.initialize(c);this._bindClickEvents();Tourist.Tip.Base._cacheTip(this)}b.prototype._module="Tourist";_.extend(b.prototype,Backbone.Events);b.prototype.skipButtonTemplate='<button class="btn btn-default btn-sm pull-right tour-next">Skip this step \u2192</button>';b.prototype.nextButtonTemplate='<button class="btn btn-primary btn-sm pull-right tour-next">Next step \u2192</button>';
b.prototype.finalButtonTemplate='<button class="btn btn-primary btn-sm pull-right tour-next">Finish up</button>';b.prototype.closeButtonTemplate='<a class="btn btn-close tour-close" href="#"><i class="icon icon-remove"></i></a>';b.prototype.okButtonTemplate='<button class="btn btn-sm tour-close btn-primary">Okay</button>';b.prototype.actionLabelTemplate=_.template('<h4 class="action-label"><%= label %></h4>');b.prototype.actionLabels=["Do this:","Then this:","Next this:"];b.prototype.highlightClass=
"tour-highlight";b.prototype.template=_.template('<div>\n  <div class="tour-container">\n    <%= close_button %>\n    <%= content %>\n    <p class="tour-counter <%= counter_class %>"><%= counter%></p>\n  </div>\n  <div class="tour-buttons">\n    <%= buttons %>\n  </div>\n</div>');b.prototype.destroy=function(){return this.el.remove()};b.prototype.render=function(a){this.hide();a&&(this._setTarget(a.target||!1,a),this._setZIndex(""),this._renderContent(a,this._buildContentElement(a)),a.target&&this.show(),
a.zIndex&&this._setZIndex(a.zIndex,a));return this};b.prototype.show=function(){};b.prototype.hide=function(){};b.prototype.setTarget=function(a,b){return this._setTarget(a,b)};b.prototype.cleanupCurrentTarget=function(){this.target&&this.target.removeClass&&this.target.removeClass(this.highlightClass);return this.target=null};b.prototype.onClickClose=function(a){this.trigger("click:close",this,a);return!1};b.prototype.onClickNext=function(a){this.trigger("click:next",this,a);return!1};b.prototype._getTipElement=
function(){};b.prototype._renderContent=function(a,b){};b.prototype._bindClickEvents=function(){var a;a=this._getTipElement();a.delegate(".tour-close","click",this.onClickClose);return a.delegate(".tour-next","click",this.onClickNext)};b.prototype._setTarget=function(a,b){this.cleanupCurrentTarget();a&&(b&&b.highlightTarget)&&a.addClass(this.highlightClass);return this.target=a};b.prototype._setZIndex=function(a){return this._getTipElement().css("z-index",a||"")};b.prototype._buildContentElement=
function(a){var b;b=this._buildButtons(a);a=$($.parseHTML(this.template({content:a.content,buttons:b,close_button:this._buildCloseButton(a),counter:a.final?"":"step "+(a.index+1)+" of "+a.total,counter_class:a.final?"final":""})));b||a.find(".tour-buttons").addClass("no-buttons");this._renderActionLabels(a);return a};b.prototype._buildButtons=function(a){var b;b="";a.okButton&&(b+=this.okButtonTemplate);a.skipButton&&(b+=this.skipButtonTemplate);a.nextButton&&(b+=a.final?this.finalButtonTemplate:
this.nextButtonTemplate);return b};b.prototype._buildCloseButton=function(a){return a.closeButton?this.closeButtonTemplate:""};b.prototype._renderActionLabels=function(a){var b,c,d,e,f,k;c=a.find(".action");b=0;k=[];e=0;for(f=c.length;e<f;e++)a=c[e],d=$($.parseHTML(this.actionLabelTemplate({label:this.actionLabels[b]}))),d.insertBefore(a),k.push(b++);return k};b._cacheTip=function(a){Tourist.Tip.Base._cachedTips||(Tourist.Tip.Base._cachedTips=[]);return Tourist.Tip.Base._cachedTips.push(a)};b.destroy=
function(){var a,b,c,d;if(Tourist.Tip.Base._cachedTips){d=Tourist.Tip.Base._cachedTips;b=0;for(c=d.length;b<c;b++)a=d[b],a.destroy();return Tourist.Tip.Base._cachedTips=null}};return b}();Tourist.Tip.Bootstrap=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.initialize=function(a){this.options=_.extend({showEffect:null,hideEffect:null},a);return this.tip=new Tourist.Tip.BootstrapTip(this.options)};b.prototype.destroy=function(){this.tip.destroy();
return b.__super__.destroy.call(this)};b.prototype.show=function(){var a;return this.options.showEffect?(a=Tourist.Tip.Bootstrap.effects[this.options.showEffect],a.call(this,this.tip,this.tip.el)):this.tip.show()};b.prototype.hide=function(){var a;return this.options.hideEffect?(a=Tourist.Tip.Bootstrap.effects[this.options.hideEffect],a.call(this,this.tip,this.tip.el)):this.tip.hide()};b.prototype._getTipElement=function(){return this.tip.el};b.prototype._setTarget=function(a,c){b.__super__._setTarget.call(this,
a,c);return this.tip.setTarget(a)};b.prototype._renderContent=function(a,b){var c,d;d=a.my||"left center";c=a.at||"right center";this.tip.setContainer(a.container||$("body"));this.tip.setContent(b);return this.tip.setPosition(a.target||!1,d,c)};return b}(Tourist.Tip.Base);Tourist.Tip.Bootstrap.effects={slidein:function(a,b){var c,d,f,k,q;k=(k=a.my.split(" ")[0])||"top";f={top:80,left:80,right:-80,bottom:-80}[k];"bottom"===k&&(k="top");"right"===k&&(k="left");q=parseInt(b.css(k));b.stop();c={};c[k]=
q+f;b.css(c);b.show();c[k]=q;f=["easeOutCubic","swing","linear"];k=0;for(q=f.length;k<q&&!(d=f[k],$.easing[d]);k++);b.animate(c,300,d);return null}};Tourist.Tip.BootstrapTip=function(){function a(b){this.options=_.extend({offset:10,tipOffset:10},b);this.el=$($.parseHTML(this.template));this.hide()}a.prototype.template='<div class="popover">\n  <div class="arrow"></div>\n  <div class="popover-content"></div>\n</div>';a.prototype.FLIP_POSITION={bottom:"top",top:"bottom",left:"right",right:"left"};a.prototype.destroy=
function(){return this.el.remove()};a.prototype.show=function(){return this.el.show().addClass("visible")};a.prototype.hide=function(){return this.el.hide().removeClass("visible")};a.prototype.setTarget=function(a){this.target=a;return this._setPosition(this.target,this.my,this.at)};a.prototype.setPosition=function(a,b,c){this.target=a;this.my=b;this.at=c;return this._setPosition(this.target,this.my,this.at)};a.prototype.setContainer=function(a){return a.append(this.el)};a.prototype.setContent=function(a){return this._getContentElement().html(a)};
a.prototype._getContentElement=function(){return this.el.find(".popover-content")};a.prototype._getTipElement=function(){return this.el.find(".arrow")};a.prototype._setPosition=function(a,b,c){var d,e,f,k,q;null==b&&(b="left center");null==c&&(c="right center");if(a&&(e=b.split(" "),d=e[0],f=e[1],e=this.el.css("display"),this.el.css({top:0,left:0,margin:0,display:"block"}).removeClass("top").removeClass("bottom").removeClass("left").removeClass("right").addClass(this.FLIP_POSITION[d]),a))return k=
this._getTipElement().css({left:"",right:"",top:"",bottom:""}),"center"!==f&&(q={left:k[0].offsetWidth/2,right:0,top:k[0].offsetHeight/2,bottom:0},d={},d[f]=q[f]+this.options.tipOffset,d[this.FLIP_POSITION[f]]="auto",k.css(d)),a=this._caculateTargetPosition(c,a),a=this._caculateTipPosition(b,a),b=this._adjustForArrow(b,a),this.el.css(b),this.el.css({display:e})};a.prototype._caculateTargetPosition=function(a,b){var c,d;if("[object Array]"===Object.prototype.toString.call(b))return{left:b[0],top:b[1]};
c=this._getTargetBounds(b);d=this._lookupPosition(a,c.width,c.height);return{left:c.left+d[0],top:c.top+d[1]}};a.prototype._caculateTipPosition=function(a,b){var c;c=this._lookupPosition(a,this.el[0].offsetWidth,this.el[0].offsetHeight);return{left:b.left-c[0],top:b.top-c[1]}};a.prototype._adjustForArrow=function(a,b){var c,d,e,f,k;f=a.split(" ");c=f[0];f=f[1];d=this._getTipElement();k=d[0].offsetWidth;d=d[0].offsetHeight;e={top:b.top,left:b.left};switch(c){case "top":e.top+=d+this.options.offset;
break;case "bottom":e.top-=d+this.options.offset;break;case "left":e.left+=k+this.options.offset;break;case "right":e.left-=k+this.options.offset}switch(f){case "left":e.left-=k/2+this.options.tipOffset;break;case "right":e.left+=k/2+this.options.tipOffset;break;case "top":e.top-=d/2+this.options.tipOffset;break;case "bottom":e.top+=d/2+this.options.tipOffset}return e};a.prototype._lookupPosition=function(a,b,c){var d,e;e=b/2;d=c/2;return{"top left":[0,0],"left top":[0,0],"top right":[b,0],"right top":[b,
0],"bottom left":[0,c],"left bottom":[0,c],"bottom right":[b,c],"right bottom":[b,c],"top center":[e,0],"left center":[0,d],"right center":[b,d],"bottom center":[e,c]}[a]};a.prototype._getTargetBounds=function(a){var b;b=a[0];b="function"===typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight};return $.extend({},b,a.offset())};return a}();Tourist.Tip.QTip=function(b){function d(){this._renderTipBackground=a(this._renderTipBackground,this);return c=d.__super__.constructor.apply(this,
arguments)}var f;k(d,b);f={top:80,left:80,right:-80,bottom:-80};d.prototype.QTIP_DEFAULTS={content:{text:" "},show:{ready:!1,delay:0,effect:function(a){var b,c,d,e;b=$(this);(d=a.options.position.my)&&(d=d[d.precedance]);d=d||"top";c=f[d];"bottom"===d&&(d="top");"right"===d&&(d="left");e=parseInt(b.css(d));a={};a[d]=e+c;b.css(a);b.show();a[d]=e;b.animate(a,300,"easeOutCubic");return null},autofocus:!1},hide:{event:null,delay:0,effect:!1},position:{adjust:{method:"shift shift",scroll:!1}},style:{classes:"ui-tour-tip",
tip:{height:6,width:14}},events:{},zindex:2E3};d.prototype.initialize=function(a){a=$.extend(!0,{},this.QTIP_DEFAULTS,a);this.el.qtip(a);this.qtip=this.el.qtip("api");return this.qtip.render()};d.prototype.destroy=function(){this.qtip&&this.qtip.destroy();return d.__super__.destroy.call(this)};d.prototype.show=function(){return this.qtip.show()};d.prototype.hide=function(){return this.qtip.hide()};d.prototype._getTipElement=function(){return $("#qtip-"+this.qtip.id)};d.prototype._setTarget=function(a,
b){d.__super__._setTarget.call(this,a,b);return this.qtip.set("position.target",a||!1)};d.prototype._renderContent=function(a,b){var c,d,e=this;d=a.my||"left center";c=a.at||"right center";this._adjustPlacement(d,c);this.qtip.set("content.text",b);this.qtip.set("position.container",a.container||$("body"));this.qtip.set("position.my",d);this.qtip.set("position.at",c);this.qtip.set("position.viewport",a.viewport||!1);this.qtip.set("position.target",a.target||!1);return setTimeout(function(){return e._renderTipBackground(d.split(" ")[0])},
10)};d.prototype._adjustPlacement=function(a,b){return 0===a.indexOf("top")?this._adjust(0,10):0===a.indexOf("bottom")?this._adjust(0,-10):0===a.indexOf("right")?this._adjust(-10,0):this._adjust(10,0)};d.prototype._adjust=function(a,b){this.qtip.set("position.adjust.x",a);return this.qtip.set("position.adjust.y",b)};d.prototype._renderTipBackground=function(a){var b,c;c=$("#qtip-"+this.qtip.id+" .qtip-tip");b=c.find(".qtip-tip-bg");b.length||(b=$("<div/>",{"class":"icon icon-tip qtip-tip-bg"}),c.append(b));
b.removeClass("top left right bottom");return b.addClass(a)};return d}(Tourist.Tip.Base);Tourist.Tip.Simple=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}k(b,a);b.prototype.initialize=function(a){return $("body").append(this.el)};b.prototype.show=function(){return this.el.show()};b.prototype.hide=function(){return this.el.hide()};b.prototype._getTipElement=function(){return this.el};b.prototype._renderContent=function(a,b){return this.el.html(b)};return b}(Tourist.Tip.Base);
Tourist.Tour=function(){function b(c){this.options=null!=c?c:{};this.onChangeCurrentStep=a(this.onChangeCurrentStep,this);this.next=a(this.next,this);this.options=_.extend({tipClass:"Bootstrap"},this.options);this.model=new Tourist.Model({current_step:null});c=_.extend({model:this.model},this.options.tipOptions);this.view=new Tourist.Tip[this.options.tipClass](c);this.view.bind("click:close",_.bind(this.stop,this,!0));this.view.bind("click:next",this.next);this.model.bind("change:current_step",this.onChangeCurrentStep)}
_.extend(b.prototype,Backbone.Events);b.prototype.start=function(){this.trigger("start",this);return this.next()};b.prototype.stop=function(a){return a?this._showCancelFinalStep():this._stop()};b.prototype.next=function(){var a,b;a=this._teardownCurrentStep();b=0;a&&(b=a.index+1);return b<this.options.steps.length?this._showStep(this.options.steps[b],b):b===this.options.steps.length?this._showSuccessFinalStep():this._stop()};b.prototype.setStepOptions=function(a){return this.options.stepOptions=a};
b.prototype.onChangeCurrentStep=function(a,b){return this.view.render(b)};b.prototype._showCancelFinalStep=function(){return this._showFinalStep(!1)};b.prototype._showSuccessFinalStep=function(){return this._showFinalStep(!0)};b.prototype._teardownCurrentStep=function(){var a;a=this.model.get("current_step");this._teardownStep(a);return a};b.prototype._stop=function(){this._teardownCurrentStep();this.model.set({current_step:null});return this.trigger("stop",this)};b.prototype._showFinalStep=function(a){var b;
b=this._teardownCurrentStep();a=a?this.options.successStep:this.options.cancelStep;_.isFunction(a)&&(a.call(this,this,this.options.stepOptions),a=null);if(!a||b&&b.final)return this._stop();a.final=!0;return this._showStep(a,this.options.steps.length)};b.prototype._showStep=function(a,b){if(a)return a=_.clone(a),a.index=b,a.total=this.options.steps.length,a.final||(a.final=this.options.steps.length===b+1&&!this.options.successStep),a=_.extend(a,this._setupStep(a)),this.model.set({current_step:a})};
b.prototype._setupStep=function(a){var b,c,d,e;if(!a||!a.setup)return{};if(a.bind){e=a.bind;c=0;for(d=e.length;c<d;c++)b=e[c],a[b]=_.bind(a[b],a,this,this.options.stepOptions)}return a.setup.call(a,this,this.options.stepOptions)||{}};b.prototype._teardownStep=function(a){a&&a.teardown&&a.teardown.call(a,this,this.options.stepOptions);return this.view.cleanupCurrentTarget()};return b}()}).call(this);
(function(){function d(a,b){a.prototype=q(b.prototype);a.prototype.constructor=a;a.parent=b.prototype}function q(a){function b(){}b.prototype=a;return new b}function c(a,b,c){"millisecond"===c?a.setMilliseconds(a.getMilliseconds()+1*b):"second"===c?a.setSeconds(a.getSeconds()+1*b):"minute"===c?a.setMinutes(a.getMinutes()+1*b):"hour"===c?a.setHours(a.getHours()+1*b):"day"===c?a.setDate(a.getDate()+1*b):"week"===c?a.setDate(a.getDate()+7*b):"month"===c?a.setMonth(a.getMonth()+1*b):"year"===c&&a.setFullYear(a.getFullYear()+
1*b);return a}function f(a,b){return O[b+"Duration"]*a}function b(a,b){var c=!1;0>a&&(c=!0,a*=-1);a=""+a;for(b=!b?1:b;a.length<b;)a="0"+a;return c?"-"+a:a}function k(a){if(!a)return a;a=a.replace(/^\s\s*/,"");for(var b=/\s/,c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)}function a(a){a.roundRect=function(a,b,c,d,e,f,r,h){r&&(this.fillStyle=r);h&&(this.strokeStyle=h);"undefined"===typeof e&&(e=5);this.lineWidth=f;this.beginPath();this.moveTo(a+e,b);this.lineTo(a+c-e,b);this.quadraticCurveTo(a+
c,b,a+c,b+e);this.lineTo(a+c,b+d-e);this.quadraticCurveTo(a+c,b+d,a+c-e,b+d);this.lineTo(a+e,b+d);this.quadraticCurveTo(a,b+d,a,b+d-e);this.lineTo(a,b+e);this.quadraticCurveTo(a,b,a+e,b);this.closePath();r&&this.fill();h&&0<f&&this.stroke()}}function e(a,b){return a-b}function h(a,b){return a.x-b.x}function p(a){var b=((a&16711680)>>16).toString(16),c=((a&65280)>>8).toString(16);a=((a&255)>>0).toString(16);b=2>b.length?"0"+b:b;c=2>c.length?"0"+c:c;a=2>a.length?"0"+a:a;return"#"+b+c+a}function n(a,
b,c){c=c||"normal";var d=a+"_"+b+"_"+c,e=R[d];if(isNaN(e)){try{a="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+a+"; font-size:"+b+"px; font-weight:"+c+";";if(!X){var f=document.body;X=document.createElement("span");X.innerHTML="";var h=document.createTextNode("Mpgyi");X.appendChild(h);f.appendChild(X)}X.style.display="";X.setAttribute("style",a);e=Math.round(X.offsetHeight);X.style.display="none"}catch(k){e=Math.ceil(1.1*
b)}e=Math.max(e,b);R[d]=e}return e}function m(a,b,c,d){if(a.addEventListener)a.addEventListener(b,c,d||!1);else if(a.attachEvent)a.attachEvent("on"+b,function(b){b=b||window.event;b.preventDefault=b.preventDefault||function(){b.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0};c.call(a,b)});else return!1}function l(a,b,c){a*=ja;b*=ja;a=c.getImageData(a,b,2,2).data;b=!0;for(c=0;4>c;c++)if(a[c]!==a[c+4]|a[c]!==a[c+8]|a[c]!==a[c+12]){b=!1;break}return b?a[0]<<16|a[1]<<
8|a[2]:0}function t(a,b,c){var d;d=a?a+"FontStyle":"fontStyle";var e=a?a+"FontWeight":"fontWeight",f=a?a+"FontSize":"fontSize";a=a?a+"FontFamily":"fontFamily";d=""+(b[d]?b[d]+" ":c&&c[d]?c[d]+" ":"");d+=b[e]?b[e]+" ":c&&c[e]?c[e]+" ":"";d+=b[f]?b[f]+"px ":c&&c[f]?c[f]+"px ":"";b=b[a]?b[a]+"":c&&c[a]?c[a]+"":"";!D&&b&&(b=b.split(",")[0],"'"!==b[0]&&'"'!==b[0]&&(b="'"+b+"'"));return d+=b}function u(a,b,c){return a in b?b[a]:c[a]}function v(a,b,c){if(D&&wa){var d=a.getContext("2d");ta=d.webkitBackingStorePixelRatio||
d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;ja=xa/ta;a.width=b*ja;a.height=c*ja;xa!==ta&&(a.style.width=b+"px",a.style.height=c+"px",d.scale(ja,ja))}else a.width=b,a.height=c}function x(a,b){var c=document.createElement("canvas");c.setAttribute("class","canvasjs-chart-canvas");v(c,a,b);!D&&"undefined"!==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(c);return c}function A(a,b,c){this._defaultsKey=a;var d={};c&&(L[c]&&L[c][a])&&
(d=L[c][a]);this._options=b?b:{};this.setOptions(this._options,d)}function s(b,c){c=c||{};s.parent.constructor.call(this,"Chart",c,c.theme?c.theme:"theme1");var d=this;this._containerId=b;this._objectsInitialized=!1;this.overlaidCanvasCtx=this.ctx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this._lastTouchData=null;this.panEnabled=!1;this._defaultCursor="default";this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0};this._dataInRenderedOrder=[];if(this._container=
document.getElementById(this._containerId)){this._container.innerHTML="";var e=0,f=0,e=this._options.width?this.width:0<this._container.clientWidth?this._container.clientWidth:this.width,f=this._options.height?this.height:0<this._container.clientHeight?this._container.clientHeight:this.height;this.width=e;this.height=f;this._selectedColorSet="undefined"!==typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1;this._canvasJSContainer=document.createElement("div");this._canvasJSContainer.setAttribute("class",
"canvasjs-chart-container");this._canvasJSContainer.style.position="relative";this._canvasJSContainer.style.textAlign="left";this._canvasJSContainer.style.cursor="auto";D||(this._canvasJSContainer.style.height="0px");this._container.appendChild(this._canvasJSContainer);this.canvas=x(e,f);this.canvas.style.position="absolute";if(this.canvas.getContext){try{this.canvas.style.background=this.backgroundColor}catch(h){}this._canvasJSContainer.appendChild(this.canvas);this.ctx=this.canvas.getContext("2d");
this.ctx.textBaseline="top";a(this.ctx);D?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=x(e,f),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d"));this.overlaidCanvas=x(e,f);this.overlaidCanvas.style.position="absolute";this._canvasJSContainer.appendChild(this.overlaidCanvas);this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d");
this.overlaidCanvasCtx.textBaseline="top";this._eventManager=new B(this);m(window,"resize",function(){d._updateSize()&&d.render()});this._toolBar=document.createElement("div");this._toolBar.setAttribute("class","canvasjs-chart-toolbar");this._toolBar.style.position="absolute";this._toolBar.style.top="0px";this._toolBar.style.right="0px";this._canvasJSContainer.appendChild(this._toolBar);this._toolBar.style.display="none";this.bounds={x1:0,y1:0,x2:this.width,y2:this.height};m(this.overlaidCanvas,"click",
function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mousemove",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mouseup",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mousedown",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,"mouseout",function(a){d._mouseEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?
"MSPointerMove":"touchmove",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){d._touchEventHandler(a)});m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){d._touchEventHandler(a)});this._creditLink||(this._creditLink=document.createElement("a"),this._creditLink.setAttribute("class","canvasjs-chart-credit"),this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+
(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),this._creditLink.setAttribute("tabIndex",-1),this._creditLink.setAttribute("target","_blank"));this._toolTip=new C(this,this._options.toolTip,this.theme);this.layoutManager=new F(this);this.axisY2=this.axisY=this.axisX=this.data=null;this.renderCount=0;this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},
axisY2:{internalMinimum:null,internalMaximum:null}}}}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function K(a,b){for(var c=[],d=0;d<a.length;d++)if(0==d)c.push(a[0]);else{var e,f,h;h=d-1;e=0===h?0:h-1;f=h===a.length-1?h:h+1;c[c.length]={x:a[h].x+(a[f].x-a[e].x)/b/3,y:a[h].y+(a[f].y-a[e].y)/b/3};h=d;e=0===h?0:h-1;f=h===a.length-1?h:h+1;c[c.length]={x:a[h].x-(a[f].x-a[e].x)/b/3,y:a[h].y-(a[f].y-a[e].y)/b/3};c[c.length]=a[d]}return c}
function F(a){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=0;this.chart=a}function H(a,b){H.parent.constructor.call(this,"TextBlock",b);this.ctx=a;this._isDirty=!0;this._wrappedText=null;this._lineHeight=n(this.fontFamily,this.fontSize,this.fontWeight)}function y(a,b){y.parent.constructor.call(this,"Title",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));
this.height=this.width=null;this.bounds={x1:null,y1:null,x2:null,y2:null}}function I(a,b,c){I.parent.constructor.call(this,"Legend",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.ghostCtx=this.chart._eventManager.ghostCtx;this.items=[];this.height=this.width=0;this.orientation=null;this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null};"undefined"===typeof this._options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize));this.lineHeight=
n(this.fontFamily,this.fontSize,this.fontWeight)}function M(a,b){M.parent.constructor.call(this,b);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}function J(a,b,c,d,e){J.parent.constructor.call(this,"DataSeries",b,c);this.chart=a;this.canvas=a.canvas;this._ctx=a.canvas.ctx;this.index=d;this.maxWidthInX=this.noDataPointsInPlotArea=0;this.id=e;this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:d};this.dataPointIds=[];this.axisY=this.axisX=null;this.axisPlacement=
this.getDefaultAxisPlacement();"undefined"===typeof this._options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function w(a,b,c,d){w.parent.constructor.call(this,"Axis",b,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=a.ctx;this.intervalStartPosition=this.maxHeight=this.maxWidth=0;this.labels=[];this._labels=null;this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};"axisX"===c?(this.sessionVariables=
this.chart.sessionVariables[c],this._options.interval||(this.intervalType=null)):this.sessionVariables="left"===d||"top"===d?this.chart.sessionVariables.axisY:this.chart.sessionVariables.axisY2;"undefined"===typeof this._options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize));"undefined"===typeof this._options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize));this.type=c;if("axisX"===c&&(!b||"undefined"===typeof b.gridThickness))this.gridThickness=
0;this._position=d;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};this.labelAngle=(this.labelAngle%360+360)%360;90<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:180<this.labelAngle&&270>=this.labelAngle?this.labelAngle-=180:270<this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360);if(this._options.stripLines&&0<this._options.stripLines.length){this.stripLines=[];for(b=0;b<this._options.stripLines.length;b++)this.stripLines.push(new S(this.chart,this._options.stripLines[b],
a.theme,++this.chart._eventManager.lastObjectId))}this._absoluteMaximum=this._absoluteMinimum=this._titleTextBlock=null;this.hasOptionChanged("minimum")&&(this.sessionVariables.internalMinimum=this.minimum);this.hasOptionChanged("maximum")&&(this.sessionVariables.internalMaximum=this.maximum);this.trackChanges("minimum");this.trackChanges("maximum")}function S(a,b,c,d){S.parent.constructor.call(this,"StripLine",b,c);this._thicknessType="pixel";this.id=d;null!==this.startValue&&null!==this.endValue&&
(this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this.thickness=Math.max(this.endValue-this.startValue),this._thicknessType="value")}function C(a,b,c){C.parent.constructor.call(this,"ToolTip",b,c);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx;this.currentDataPointIndex=this.currentSeriesIndex=-1;this._timerId=0;this._prevY=this._prevX=NaN;this._initialize()}function B(a){this.chart=a;this.lastObjectId=
0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=x(this.chart.width,this.chart.height);this.ghostCtx=this.ghostCanvas.getContext("2d");this.mouseoveredObjectMaps=[]}function N(a,b){var c;b&&V[b]&&(c=V[b]);y.parent.constructor.call(this,"CultureInfo",c,a.theme);this.chart=a;this.canvas=a.canvas;this.ctx=this.chart.ctx}var D=!!document.createElement("canvas").getContext,ma={Chart:{width:500,height:400,zoomEnabled:!1,backgroundColor:"white",
theme:"theme1",animationEnabled:D?!0:!1,colorSet:"colorSet1",culture:"en",creditHref:"http://canvasjs.com/",creditText:"CanvasJS.com",interactivityEnabled:!0},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",
fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:!0,borderColor:null,shared:!1,animationEnabled:!0,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",
labelFontStyle:"normal",labelAutoFit:!1,labelWrap:!0,labelMaxWidth:null,prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},
DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:!0,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",
xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}},V={en:{}},Y={colorSet1:"#369EAD #C24642 #7F6084 #86B402 #A2D1CF #C8B631 #6DBCEB #52514E #4F81BC #A064A1 #F79647".split(" "),
colorSet2:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #33558B".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},L={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":
"calibri",labelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,
indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:D?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:D?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",
lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:D?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:D?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",
verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:D?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:D?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:D?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:!0,
indexLabelFontColor:"grey",indexLabelFontFamily:D?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}},O={numberDuration:1,yearDuration:314496E5,monthDuration:2592E6,weekDuration:6048E5,dayDuration:864E5,hourDuration:36E5,minuteDuration:6E4,secondDuration:1E3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")},R={},X=null,P=function(){var a=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,
c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="Sun Mon Tue Wed Thu Fri Sat".split(" "),e="January February March April May June July August September October November December".split(" "),f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,k=/[^-+\dA-Z]/g;return function(l,p,n){var m=n?n.days:c,q=n?n.months:e,s=n?n.shortDays:
d,t=n?n.shortMonths:f;n="";var u=!1;l=l&&l.getTime?l:l?new Date(l):new Date;if(isNaN(l))throw SyntaxError("invalid date");"UTC:"===p.slice(0,4)&&(p=p.slice(4),u=!0);n=u?"getUTC":"get";var v=l[n+"Date"](),x=l[n+"Day"](),w=l[n+"Month"](),y=l[n+"FullYear"](),A=l[n+"Hours"](),D=l[n+"Minutes"](),C=l[n+"Seconds"](),B=l[n+"Milliseconds"](),F=u?0:l.getTimezoneOffset();return n=p.replace(a,function(a){switch(a){case "D":return v;case "DD":return b(v,2);case "DDD":return s[x];case "DDDD":return m[x];case "M":return w+
1;case "MM":return b(w+1,2);case "MMM":return t[w];case "MMMM":return q[w];case "Y":return parseInt(String(y).slice(-2));case "YY":return b(String(y).slice(-2),2);case "YYY":return b(String(y).slice(-3),3);case "YYYY":return b(y,4);case "h":return A%12||12;case "hh":return b(A%12||12,2);case "H":return A;case "HH":return b(A,2);case "m":return D;case "mm":return b(D,2);case "s":return C;case "ss":return b(C,2);case "f":return String(B).slice(0,1);case "ff":return b(String(B).slice(0,2),2);case "fff":return b(String(B).slice(0,
3),3);case "t":return 12>A?"a":"p";case "tt":return 12>A?"am":"pm";case "T":return 12>A?"A":"P";case "TT":return 12>A?"AM":"PM";case "K":return u?"UTC":(String(l).match(h)||[""]).pop().replace(k,"");case "z":return(0<F?"-":"+")+Math.floor(Math.abs(F)/60);case "zz":return(0<F?"-":"+")+b(Math.floor(Math.abs(F)/60),2);case "zzz":return(0<F?"-":"+")+b(Math.floor(Math.abs(F)/60),2)+b(Math.abs(F)%60,2);default:return a.slice(1,a.length-1)}})}}(),ha=function(a,c,d){if(null===a)return"";a=Number(a);var e=
0>a?!0:!1;e&&(a*=-1);var f=d?d.decimalSeparator:".",h=d?d.digitGroupSeparator:",",k="";c=String(c);var k=1,l=d="",p=-1,n=[],m=[],q=0,s=0,t=0,u=!1,v=0,l=c.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);c=null;for(var x=0;l&&x<l.length;x++)if(c=l[x],"."===c&&0>p)p=x;else{if("%"===c)k*=100;else if("\u2030"===c){k*=1E3;continue}else if(","===c[0]&&"."===c[c.length-1]){k/=Math.pow(1E3,c.length-1);p=x+c.length-1;continue}else if(("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1])u=!0;0>p?(n.push(c),
"#"===c||"0"===c?q++:","===c&&t++):(m.push(c),("#"===c||"0"===c)&&s++)}u&&(c=Math.floor(a),v=(0===c?"":String(c)).length-q,k/=Math.pow(10,v));0>p&&(p=x);k=(a*k).toFixed(s);c=k.split(".");k=(c[0]+"").split("");a=(c[1]+"").split("");k&&"0"===k[0]&&k.shift();for(x=u=l=s=p=0;0<n.length;)if(c=n.pop(),"#"===c||"0"===c)if(p++,p===q){var w=k,k=[];if("0"===c)for(c=q-s-(w?w.length:0);0<c;)w.unshift("0"),c--;for(;0<w.length;)d=w.pop()+d,x++,0===x%u&&(l===t&&0<w.length)&&(d=h+d);e&&(d="-"+d)}else 0<k.length?
(d=k.pop()+d,s++,x++):"0"===c&&(d="0"+d,s++,x++),0===x%u&&(l===t&&0<k.length)&&(d=h+d);else("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1]&&/[eE][+-]*[0]+/.test(c)?(c=0>v?c.replace("+","").replace("-",""):c.replace("-",""),d+=c.replace(/[0]+/,function(a){return b(v,a.length)})):","===c?(l++,u=x,x=0,0<k.length&&(d=h+d)):d=1<c.length&&('"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1])?c.slice(1,c.length-1)+d:c+d;e="";for(h=!1;0<m.length;)c=m.shift(),"#"===c||"0"===c?0<a.length&&0!==Number(a.join(""))?
(e+=a.shift(),h=!0):"0"===c&&(e+="0",h=!0):1<c.length&&('"'===c[0]&&'"'===c[c.length-1]||"'"===c[0]&&"'"===c[c.length-1])?e+=c.slice(1,c.length-1):("E"===c[0]||"e"===c[0])&&"0"===c[c.length-1]&&/[eE][+-]*[0]+/.test(c)?(c=0>v?c.replace("+","").replace("-",""):c.replace("-",""),e+=c.replace(/[0]+/,function(a){return b(v,a.length)})):e+=c;return d+((h?f:"")+e)},pa=function(a){var b=0,c=0;a=a||window.event;a.offsetX||0===a.offsetX?(b=a.offsetX,c=a.offsetY):a.layerX||0==a.layerX?(b=a.layerX,c=a.layerY):
(b=a.pageX-a.target.offsetLeft,c=a.pageY-a.target.offsetTop);return{x:b,y:c}},wa=!0,xa=window.devicePixelRatio||1,ta=1,ja=wa?xa/ta:1;A.prototype.setOptions=function(a,b){if(ma[this._defaultsKey]){var c=ma[this._defaultsKey],d;for(d in c)this[d]=a&&d in a?a[d]:b&&d in b?b[d]:c[d]}};A.prototype.updateOption=function(a){var b=ma[this._defaultsKey],c=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1",d={},e=this[a];c&&(L[c]&&L[c][this._defaultsKey])&&
(d=L[c][this._defaultsKey]);a in b&&(e=a in this._options?this._options[a]:d&&a in d?d[a]:b[a]);if(e===this[a])return!1;this[a]=e;return!0};A.prototype.trackChanges=function(a){this._options._oldOptions||(this._options._oldOptions={});this._options._oldOptions[a]=this._options[a]};A.prototype.isBeingTracked=function(a){this._options._oldOptions||(this._options._oldOptions={});return this._options._oldOptions[a]?!0:!1};A.prototype.hasOptionChanged=function(a){this._options._oldOptions||(this._options._oldOptions=
{});return this._options._oldOptions[a]!==this._options[a]};d(s,A);s.prototype._updateOptions=function(){var a=this;this.updateOption("width");this.updateOption("height");this.updateOption("theme");this.updateOption("colorSet")&&(this._selectedColorSet="undefined"!==typeof Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1);if(this.updateOption("backgroundColor"))try{this.canvas.style.background!==this.backgroundColor&&(this.canvas.style.background=this.backgroundColor)}catch(b){}this.updateOption("animationEnabled");
this._options.zoomEnabled?(this._zoomButton||(this._zoomButton=document.createElement("button"),this._zoomButton.appendChild(document.createTextNode("Pan")),this._toolBar.appendChild(this._zoomButton),m(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,a._zoomButton.innerHTML=a._cultureInfo.zoomText):(a.zoomEnabled=!0,a.panEnabled=!1,a._zoomButton.innerHTML=a._cultureInfo.panText);a.render()})),this._resetButton||(this._resetButton=document.createElement("button"),
this._resetButton.appendChild(document.createTextNode("Reset")),this._toolBar.appendChild(this._resetButton),m(this._resetButton,"click",function(){a._toolTip.hide();a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,a._zoomButton.innerHTML=a._cultureInfo.panText,a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1);a.sessionVariables.axisX.internalMinimum=a._options.axisX&&a._options.axisX.minimum?a._options.axisX.minimum:null;a.sessionVariables.axisX.internalMaximum=
a._options.axisX&&a._options.axisX.maximum?a._options.axisX.maximum:null;a.resetOverlayedCanvas();a._toolBar.style.display="none";a.render()}),this.overlaidCanvas.style.cursor=a._defaultCursor),!this.zoomEnabled&&!this.panEnabled&&(this._zoomButton?(a._zoomButton.innerHTML===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),a._toolBar.style.display="inline"):(this.zoomEnabled=!0,this.panEnabled=!1))):this.panEnabled=this.zoomEnabled=!1;this.updateOption("culture");
this._cultureInfo=new N(this,this._options.culture);if("none"!==this._toolBar.style.display){var c=this.panEnabled?a._cultureInfo.zoomText:a._cultureInfo.panText;a._zoomButton.innerHTML!==c&&(a._zoomButton.innerHTML=c);a._resetButton.innerHTML!==a._cultureInfo.resetText&&(a._resetButton.innerHTML=a._cultureInfo.resetText)}var c=this.updateOption("creditText"),d=this.updateOption("creditHref");if(0===this.renderCount||c||d)this._creditLink.setAttribute("href",this.creditHref),this._creditLink.innerHTML=
this.creditText;this.creditHref&&this.creditText?this._creditLink.parentElement||this._canvasJSContainer.appendChild(this._creditLink):this._creditLink.parentElement&&this._canvasJSContainer.removeChild(this._creditLink);this._options.toolTip&&this._toolTip._options!==this._options.toolTip&&(this._toolTip._options=this._options.toolTip);this._toolTip.updateOption("enabled");this._toolTip.updateOption("shared");this._toolTip.updateOption("animationEnabled");this._toolTip.updateOption("borderColor");
this._toolTip.updateOption("content")};s.prototype._updateSize=function(){var a=0,b=0;this._options.width?a=this.width:this.width=a=0<this._container.clientWidth?this._container.clientWidth:this.width;this._options.height?b=this.height:this.height=b=0<this._container.clientHeight?this._container.clientHeight:this.height;return this.canvas.width!==a*ja||this.canvas.height!==b*ja?(v(this.canvas,a,b),v(this.overlaidCanvas,a,b),v(this._eventManager.ghostCanvas,a,b),!0):!1};s.prototype._initialize=function(){this.pieDoughnutClickHandler=
null;this.animationRequestId&&this.cancelRequestAnimFrame.call(window,this.animationRequestId);this._updateOptions();this._updateSize();this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.axisY2=this.axisY=this.axisX=null;this._indexLabels=[];this._dataInRenderedOrder=[];this._events=[];this._eventManager&&this._eventManager.reset();this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this.data=[];for(var a=0,b=0;b<this._options.data.length;b++)if(a++,
!this._options.data[b].type||0<=s._supportedChartTypes.indexOf(this._options.data[b].type)){var c=new J(this,this._options.data[b],this.theme,a-1,++this._eventManager.lastObjectId);null===c.name&&(c.name="DataSeries "+a);null===c.color?1<this._options.data.length?(c._colorSet=[this._selectedColorSet[c.index%this._selectedColorSet.length]],c.color=this._selectedColorSet[c.index%this._selectedColorSet.length]):c._colorSet="line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===
c.type||"splineArea"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type?[this._selectedColorSet[0]]:this._selectedColorSet:c._colorSet=[c.color];if(null===c.markerSize&&(("line"===c.type||"stepLine"===c.type||"spline"===c.type)&&c.dataPoints&&c.dataPoints.length<this.width/16||"scatter"===c.type))c.markerSize=8;("bubble"===c.type||"scatter"===c.type)&&c.dataPoints&&c.dataPoints.sort(h);this.data.push(c);var d=c.axisPlacement,e;"normal"===d?"xySwapped"===this.plotInfo.axisPlacement?e='You cannot combine "'+
c.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===d?"normal"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"==d&&("normal"===
this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?e='You cannot combine "'+c.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"));if(e&&window.console){window.console.log(e);return}}this._objectsInitialized=!0};s._supportedChartTypes="line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 pie doughnut".split(" ");
s._supportedChartTypes.indexOf||(s._supportedChartTypes.indexOf=function(a,b){var c=this.length>>>0,d=Number(b)||0,d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=c);d<c;d++)if(d in this&&this[d]===a)return d;return-1});s.prototype.render=function(a){a&&(this._options=a);this._initialize();for(a=0;a<this.data.length;a++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)!this.data[a].axisYType||"primary"===this.data[a].axisYType?(this.axisY||("normal"===this.plotInfo.axisPlacement?
this.axisY=new w(this,this._options.axisY,"axisY","left"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY=new w(this,this._options.axisY,"axisY","bottom"))),this.data[a].axisY=this.axisY):"secondary"===this.data[a].axisYType&&(this.axisY2||("normal"===this.plotInfo.axisPlacement?this.axisY2=new w(this,this._options.axisY2,"axisY","right"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisY2=new w(this,this._options.axisY2,"axisY","top"))),this.data[a].axisY=this.axisY2),this.axisX||("normal"===
this.plotInfo.axisPlacement?this.axisX=new w(this,this._options.axisX,"axisX","bottom"):"xySwapped"===this.plotInfo.axisPlacement&&(this.axisX=new w(this,this._options.axisX,"axisX","left"))),this.data[a].axisX=this.axisX;this._processData();this._options.title&&(this._title=new y(this,this._options.title),this._title.render());this.legend=new I(this,this._options.legend,this.theme);for(a=0;a<this.data.length;a++)this.data[a].showInLegend&&this.legend.dataSeries.push(this.data[a]);this.legend.render();
if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)this.layoutManager.getFreeSpace(),w.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace());else if("none"===this.plotInfo.axisPlacement)this.preparePlotArea();else return;for(a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type?this.renderLine(d):"stepLine"===d.type?
this.renderStepLine(d):"spline"===d.type?this.renderSpline(d):"column"===d.type?this.renderColumn(d):"bar"===d.type?this.renderBar(d):"area"===d.type?this.renderArea(d):"stepArea"===d.type?this.renderStepArea(d):"splineArea"===d.type?this.renderSplineArea(d):"stackedColumn"===d.type?this.renderStackedColumn(d):"stackedColumn100"===d.type?this.renderStackedColumn100(d):"stackedBar"===d.type?this.renderStackedBar(d):"stackedBar100"===d.type?this.renderStackedBar100(d):"stackedArea"===d.type?this.renderStackedArea(d):
"stackedArea100"===d.type?this.renderStackedArea100(d):"bubble"===d.type?this.renderBubble(d):"scatter"===d.type?this.renderScatter(d):"pie"===d.type?this.renderPie(d):"doughnut"===d.type&&this.renderPie(d);for(var e=0;e<d.dataSeriesIndexes.length;e++)this._dataInRenderedOrder.push(this.data[d.dataSeriesIndexes[e]])}0<this._indexLabels.length&&this.renderIndexLabels();this.attachPlotAreaEventHandlers();!this.zoomEnabled&&(!this.panEnabled&&"none"!==this._toolBar.style.display)&&(this._toolBar.style.display=
"none");this._toolTip._updateToolTip();this.renderCount++};s.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})};s.prototype.categoriseDataSeries=function(){for(var a="",b=0;b<this.data.length;b++)if(a=this.data[b],a.dataPoints&&(0!==a.dataPoints.length&&
a.visible)&&0<=s._supportedChartTypes.indexOf(a.type)){for(var c=null,d=!1,e=null,f=!1,h=0;h<this.plotInfo.plotTypes.length;h++)if(this.plotInfo.plotTypes[h].type===a.type){d=!0;c=this.plotInfo.plotTypes[h];break}d||(c={type:a.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(c));for(h=0;h<c.plotUnits.length;h++)if(c.plotUnits[h].axisYType===a.axisYType){f=!0;e=c.plotUnits[h];break}f||(e={type:a.type,previousDataSeriesCount:0,index:c.plotUnits.length,plotType:c,axisYType:a.axisYType,
axisY:"primary"===a.axisYType?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]},c.plotUnits.push(e));c.totalDataSeries++;e.dataSeriesIndexes.push(b)}for(b=0;b<this.plotInfo.plotTypes.length;b++){c=this.plotInfo.plotTypes[b];for(h=a=0;h<c.plotUnits.length;h++)c.plotUnits[h].previousDataSeriesCount=a,a+=c.plotUnits[h].dataSeriesIndexes.length}};s.prototype.assignIdToDataPoints=function(){for(var a=0;a<this.data.length;a++){var b=this.data[a];if(b.dataPoints)for(var c=b.dataPoints.length,
d=0;d<c;d++)b.dataPointIds[d]=++this._eventManager.lastObjectId}};s.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var a=0;a<this.plotInfo.plotTypes.length;a++)for(var b=this.plotInfo.plotTypes[a],c=0;c<b.plotUnits.length;c++){var d=b.plotUnits[c];"line"===d.type||"stepLine"===d.type||"spline"===d.type||"column"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===d.type||"bar"===d.type||"bubble"===d.type||"scatter"===d.type?this._processMultiseriesPlotUnit(d):
"stackedColumn"===d.type||"stackedBar"===d.type||"stackedArea"===d.type?this._processStackedPlotUnit(d):("stackedColumn100"===d.type||"stackedBar100"===d.type||"stackedArea100"===d.type)&&this._processStacked100PlotUnit(d)}};s.prototype._processMultiseriesPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length))for(var b=a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,h=0;h<a.dataSeriesIndexes.length;h++){var k=this.data[a.dataSeriesIndexes[h]],l=0,p=!1,n=!1;if("normal"===k.axisPlacement||
"xySwapped"===k.axisPlacement)var m=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,q=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(k.dataPoints[l].x&&k.dataPoints[l].x.getTime||"dateTime"===k.xValueType)f=!0;for(l=0;l<k.dataPoints.length;l++){"undefined"===
typeof k.dataPoints[l].x&&(k.dataPoints[l].x=l);k.dataPoints[l].x.getTime?(f=!0,d=k.dataPoints[l].x.getTime()):d=k.dataPoints[l].x;e=k.dataPoints[l].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);e<b.min&&(b.min=e);e>b.max&&(b.max=e);if(0<l){var s=d-k.dataPoints[l-1].x;0>s&&(s*=-1);c.minDiff>s&&0!==s&&(c.minDiff=s)}if(!(d<m)||p){if(!p&&(p=!0,0<l)){l-=2;continue}if(d>q&&!n)n=!0;else if(d>q&&n)continue;k.dataPoints[l].label&&(a.axisX.labels[d]=k.dataPoints[l].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&
(c.viewPortMax=d);null!==e&&(e<b.viewPortMin&&(b.viewPortMin=e),e>b.viewPortMax&&(b.viewPortMax=e))}}this.plotInfo.axisXValueType=k.xValueType=f?"dateTime":"number"}};s.prototype._processStackedPlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b=a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,h=[],k=[],l=0;l<a.dataSeriesIndexes.length;l++){var p=this.data[a.dataSeriesIndexes[l]],n=0,m=!1,q=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var s=this.sessionVariables.axisX.internalMinimum?
this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,t=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(p.dataPoints[n].x&&p.dataPoints[n].x.getTime||"dateTime"===p.xValueType)f=!0;for(n=0;n<p.dataPoints.length;n++){"undefined"===typeof p.dataPoints[n].x&&(p.dataPoints[n].x=n);p.dataPoints[n].x.getTime?
(f=!0,d=p.dataPoints[n].x.getTime()):d=p.dataPoints[n].x;e=p.dataPoints[n].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);if(0<n){var u=d-p.dataPoints[n-1].x;0>u&&(u*=-1);c.minDiff>u&&0!==u&&(c.minDiff=u)}if(!(d<s)||m){if(!m&&(m=!0,0<n)){n-=2;continue}if(d>t&&!q)q=!0;else if(d>t&&q)continue;p.dataPoints[n].label&&(a.axisX.labels[d]=p.dataPoints[n].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&(c.viewPortMax=d);null!==e&&(0<=e?h[d]=h[d]?h[d]+e:e:k[d]=k[d]?k[d]+e:e)}}this.plotInfo.axisXValueType=
p.xValueType=f?"dateTime":"number"}for(n in h)isNaN(n)||(a=h[n],a<b.min&&(b.min=a),a>b.max&&(b.max=a),n<c.viewPortMin||n>c.viewPortMax||(a<b.viewPortMin&&(b.viewPortMin=a),a>b.viewPortMax&&(b.viewPortMax=a)));for(n in k)isNaN(n)||(a=k[n],a<b.min&&(b.min=a),a>b.max&&(b.max=a),n<c.viewPortMin||n>c.viewPortMax||(a<b.viewPortMin&&(b.viewPortMin=a),a>b.viewPortMax&&(b.viewPortMax=a)))}};s.prototype._processStacked100PlotUnit=function(a){if(a.dataSeriesIndexes&&!(1>a.dataSeriesIndexes.length)){for(var b=
a.axisY.dataInfo,c=a.axisX.dataInfo,d,e,f=!1,h=!1,k=!1,l=[],p=0;p<a.dataSeriesIndexes.length;p++){var n=this.data[a.dataSeriesIndexes[p]],m=0,q=!1,s=!1;if("normal"===n.axisPlacement||"xySwapped"===n.axisPlacement)var t=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity,u=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&
this._options.axisX.maximum?this._options.axisX.maximum:Infinity;if(n.dataPoints[m].x&&n.dataPoints[m].x.getTime||"dateTime"===n.xValueType)f=!0;for(m=0;m<n.dataPoints.length;m++){"undefined"===typeof n.dataPoints[m].x&&(n.dataPoints[m].x=m);n.dataPoints[m].x.getTime?(f=!0,d=n.dataPoints[m].x.getTime()):d=n.dataPoints[m].x;e=n.dataPoints[m].y;d<c.min&&(c.min=d);d>c.max&&(c.max=d);if(0<m){var v=d-n.dataPoints[m-1].x;0>v&&(v*=-1);c.minDiff>v&&0!==v&&(c.minDiff=v)}if(!(d<t)||q){if(!q&&(q=!0,0<m)){m-=
2;continue}if(d>u&&!s)s=!0;else if(d>u&&s)continue;n.dataPoints[m].label&&(a.axisX.labels[d]=n.dataPoints[m].label);d<c.viewPortMin&&(c.viewPortMin=d);d>c.viewPortMax&&(c.viewPortMax=d);null!==e&&(0<=e?h=!0:k=!0,l[d]=l[d]?l[d]+Math.abs(e):Math.abs(e))}}this.plotInfo.axisXValueType=n.xValueType=f?"dateTime":"number"}h&&!k?(b.max=99,b.min=1):h&&k?(b.max=99,b.min=-99):!h&&k&&(b.max=-1,b.min=-99);b.viewPortMin=b.min;b.viewPortMax=b.max;a.dataPointYSums=l}};s.prototype.getDataPointAtXY=function(a,b,c){c=
c||!1;for(var d=[],e=this._dataInRenderedOrder.length-1;0<=e;e--){var f=null;(f=this._dataInRenderedOrder[e].getDataPointAtXY(a,b,c))&&d.push(f)}a=null;b=!1;for(c=0;c<d.length;c++)if("line"===d[c].dataSeries.type||"stepLine"===d[c].dataSeries.type||"area"===d[c].dataSeries.type||"stepArea"===d[c].dataSeries.type)if(e=u("markerSize",d[c].dataPoint,d[c].dataSeries)||8,d[c].distance<=e/2){b=!0;break}for(c=0;c<d.length;c++)if(!b||!("line"!==d[c].dataSeries.type&&"stepLine"!==d[c].dataSeries.type&&"area"!==
d[c].dataSeries.type&&"stepArea"!==d[c].dataSeries.type))a?d[c].distance<=a.distance&&(a=d[c]):a=d[c];return a};s.prototype.getObjectAtXY=function(a,b,c){var d=null;if(c=this.getDataPointAtXY(a,b,c||!1))d=c.dataSeries.dataPointIds[c.dataPointIndex];else if(D)d=l(a,b,this._eventManager.ghostCtx);else for(c=0;c<this.legend.items.length;c++){var e=this.legend.items[c];a>=e.x1&&(a<=e.x2&&b>=e.y1&&b<=e.y2)&&(d=e.id)}return d};s.prototype.getAutoFontSize=function(a,b,c){return Math.round(Math.min(this.width,
this.height)*(a/400))};s.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)};s.prototype.attachEvent=function(a){this._events.push(a)};s.prototype._touchEventHandler=function(a){if(a.changedTouches&&this.interactivityEnabled){var b=[],c=a.changedTouches,d=c?c[0]:a,e=null;switch(a.type){case "touchstart":case "MSPointerDown":b=["mousemove","mousedown"];this._lastTouchData=pa(d);this._lastTouchData.time=new Date;break;case "touchmove":case "MSPointerMove":b=
["mousemove"];break;case "touchend":case "MSPointerUp":b="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType?["mouseup","click"]:["mouseup"];break;default:return}if(!(c&&1<c.length)){e=pa(d);e.time=new Date;try{var f=e.y-this._lastTouchData.y,h=e.time-this._lastTouchData.time;if(15<Math.abs(f)&&(this._lastTouchData.scroll||200>h)){this._lastTouchData.scroll=!0;var k=window.parent||window;k&&k.scrollBy&&k.scrollBy(0,-f)}}catch(l){}this._lastTouchEventType=a.type;if(this._lastTouchData.scroll&&
this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(c=0;c<b.length;c++)e=b[c],f=document.createEvent("MouseEvent"),f.initMouseEvent(e,!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),d.target.dispatchEvent(f),a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()}}};s.prototype._mouseEventHandler=function(a){if(this.interactivityEnabled){a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault();
"undefined"===typeof a.target&&a.srcElement&&(a.target=a.srcElement);var b=pa(a),c=a.type,d,e;a.which?e=3==a.which:a.button&&(e=2==a.button);if(!e){if(s.capturedEventParam)d=s.capturedEventParam,"mouseup"===c&&(s.capturedEventParam=null,d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",d.chart._mouseEventHandler,!1)),d.hasOwnProperty(c)&&d[c].call(d.context,b.x,b.y);else if(this._events){for(e=0;e<this._events.length;e++)if(this._events[e].hasOwnProperty(c)){d=
this._events[e];var f=d.bounds;if(b.x>=f.x1&&b.x<=f.x2&&b.y>=f.y1&&b.y<=f.y2){d[c].call(d.context,b.x,b.y);"mousedown"===c&&!0===d.capture?(s.capturedEventParam=d,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.body.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===c&&(d.chart.overlaidCanvas.releaseCapture?d.chart.overlaidCanvas.releaseCapture():document.body.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else d=null}a.target.style.cursor=
d&&d.cursor?d.cursor:this._defaultCursor}this._toolTip&&this._toolTip.enabled&&(c=this.plotArea,(b.x<c.x1||b.x>c.x2||b.y<c.y1||b.y>c.y2)&&this._toolTip.hide());(!this.isDrag||!this.zoomEnabled)&&this._eventManager&&this._eventManager.mouseEventHandler(a)}}};s.prototype._plotAreaMouseDown=function(a,b){this.isDrag=!0;this.dragStartPoint="none"!==this.plotInfo.axisPlacement?{x:a,y:b,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}:{x:a,y:b}};s.prototype._plotAreaMouseUp=function(a,b){var c,
d;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var e=0,e=this.axisX.lineCoordinates,e="xySwapped"===this.plotInfo.axisPlacement?b-this.dragStartPoint.y:this.dragStartPoint.x-a;Math.abs(this.axisX.maximum-this.axisX.minimum);if(2<Math.abs(e)){if(this.panEnabled)e=!1,d=0,this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum?(d=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=
d,this.axisX.sessionVariables.internalMaximum+=d,e=!0):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum&&(d=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum,this.axisX.sessionVariables.internalMaximum-=d,this.axisX.sessionVariables.internalMinimum-=d,e=!0),e&&this.render();else if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint)return;"xySwapped"===this.plotInfo.axisPlacement?(c=Math.min(this.dragStartPoint.y,b),d=Math.max(this.dragStartPoint.y,
b),1<Math.abs(c-d)&&(e=this.axisX.lineCoordinates,d=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(d-e.y1),e=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/e.height*(c-e.y1),d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.008*this.height&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=e,this.render()))):"normal"===this.plotInfo.axisPlacement&&(d=
Math.min(this.dragStartPoint.x,a),c=Math.max(this.dragStartPoint.x,a),1<Math.abs(d-c)&&(e=this.axisX.lineCoordinates,d=(this.axisX.maximum-this.axisX.minimum)/e.width*(d-e.x1)+this.axisX.minimum,e=(this.axisX.maximum-this.axisX.minimum)/e.width*(c-e.x1)+this.axisX.minimum,d=Math.max(d,this.axisX.dataInfo.min),e=Math.min(e,this.axisX.dataInfo.max),Math.abs((e-d)/this.axisX.dataInfo.minDiff)>=0.01*this.width&&(this.axisX.sessionVariables.internalMinimum=d,this.axisX.sessionVariables.internalMaximum=
e,this.render())))}this.zoomEnabled&&"none"===this._toolBar.style.display&&(this._toolBar.style.display="inline",this._zoomButton.innerHTML=this._cultureInfo.panText,this._resetButton.innerHTML=this._cultureInfo.resetText)}}this.isDrag=!1};s.prototype._plotAreaMouseMove=function(a,b){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var c=0,d=0,d=this.axisX.lineCoordinates;"xySwapped"===this.plotInfo.axisPlacement?(c=b-this.dragStartPoint.y,d=Math.abs(this.axisX.maximum-this.axisX.minimum)/d.height*
c):(c=this.dragStartPoint.x-a,d=Math.abs(this.axisX.maximum-this.axisX.minimum)/d.width*c);2<Math.abs(c)&&8>Math.abs(c)&&(this.panEnabled||this.zoomEnabled)?this._toolTip.hide():this._toolTip.enabled&&(!this.panEnabled&&!this.zoomEnabled)&&this._toolTip.mouseMoveHandler(a,b);if(2<Math.abs(c)&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+d;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+d;c=
0;this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-f(this.axisX.interval,this.axisX.intervalType)?(c=this.axisX._absoluteMinimum-f(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum,this.axisX.sessionVariables.internalMinimum+=c,this.axisX.sessionVariables.internalMaximum+=c):this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+f(this.axisX.interval,this.axisX.intervalType)&&(c=this.axisX.sessionVariables.internalMaximum-
(this.axisX._absoluteMaximum+f(this.axisX.interval,this.axisX.intervalType)),this.axisX.sessionVariables.internalMaximum-=c,this.axisX.sessionVariables.internalMinimum-=c);var e=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){e.render()},0)}else this.zoomEnabled&&(c=this.plotArea,this.resetOverlayedCanvas(),d=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.globalAlpha=0.7,this.overlaidCanvasCtx.fillStyle="#A0ABB8","xySwapped"===this.plotInfo.axisPlacement?this.overlaidCanvasCtx.fillRect(c.x1,
this.dragStartPoint.y,c.x2-c.x1,b-this.dragStartPoint.y):"normal"===this.plotInfo.axisPlacement&&this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,c.y1,a-this.dragStartPoint.x,c.y2-c.y1),this.overlaidCanvasCtx.globalAlpha=d)}else this._toolTip.enabled&&this._toolTip.mouseMoveHandler(a,b)};s.prototype.preparePlotArea=function(){var a=this.plotArea,b=this.axisY?this.axisY:this.axisY2;!D&&(0<a.x1||0<a.y1)&&a.ctx.translate(a.x1,a.y1);this.axisX&&b?(a.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?
this.axisX.lineCoordinates.x1:b.lineCoordinates.x1,a.y1=this.axisX.lineCoordinates.y1<b.lineCoordinates.y1?this.axisX.lineCoordinates.y1:b.lineCoordinates.y1,a.x2=this.axisX.lineCoordinates.x2>b.lineCoordinates.x2?this.axisX.lineCoordinates.x2:b.lineCoordinates.x2,a.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:b.lineCoordinates.y2,a.width=a.x2-a.x1,a.height=a.y2-a.y1):(b=this.layoutManager.getFreeSpace(),a.x1=b.x1,a.x2=b.x2,a.y1=b.y1,a.y2=b.y2,a.width=
b.width,a.height=b.height);D||(a.canvas.width=a.width,a.canvas.height=a.height,a.canvas.style.left=a.x1+"px",a.canvas.style.top=a.y1+"px",(0<a.x1||0<a.y1)&&a.ctx.translate(-a.x1,-a.y1))};s.prototype.getPixelCoordinatesOnPlotArea=function(a,b){return{x:this.axisX.getPixelCoordinatesOnAxis(a).x,y:this.axisY.getPixelCoordinatesOnAxis(b).y}};s.prototype.renderIndexLabels=function(){var a=this.plotArea.ctx;a.textBaseline="middle";for(var b=this.plotArea,c=0;c<this._indexLabels.length;c++){var d=this._indexLabels[c],
e,f,h;a.fillStyle=u("indexLabelFontColor",d.dataPoint,d.dataSeries);a.font=t("indexLabel",d.dataPoint,d.dataSeries);var k=this.replaceKeywordsWithValue(u("indexLabel",d.dataPoint,d.dataSeries),d.dataPoint,d.dataSeries),l=a.measureText(k).width,p=u("indexLabelFontSize",d.dataPoint,d.dataSeries),n=u("indexLabelPlacement",d.dataPoint,d.dataSeries),m=u("indexLabelOrientation",d.dataPoint,d.dataSeries),q=h=0,s=0,v=0,x=0;d.point.x<b.x1||(d.point.x>b.x2||d.point.y<b.y1||d.point.y>b.y2)||("column"===d.chartType||
"stackedColumn"===d.chartType||"stackedColumn100"===d.chartType||"bar"===d.chartType||"stackedBar"===d.chartType||"stackedBar100"===d.chartType?(Math.abs(d.bounds.x1,d.bounds.x2),Math.abs(d.bounds.y1,d.bounds.y2),"normal"===this.plotInfo.axisPlacement?("outside"===n?(q=b.y1,s=b.y2):"inside"===n&&(q=d.bounds.y1,s=d.bounds.y2),"horizontal"===m?(e=d.point.x-l/2,f=0<=d.dataPoint.y?Math.min(Math.max(d.point.y-p/2-5,q+p/2+5),s-p/2-5):Math.max(Math.min(d.point.y+p/2+5,s-p/2),q+p/2+5)):"vertical"===m&&(e=
d.point.x,f=0<=d.dataPoint.y?Math.min(Math.max(d.point.y-5,q+l+5),s):Math.max(Math.min(d.point.y+l+5,s-5),q),h=-90)):"xySwapped"===this.plotInfo.axisPlacement&&("outside"===n?(v=b.x1,x=b.x2):"inside"===n&&(v=d.bounds.x1,x=d.bounds.x2),"horizontal"===m?(f=d.point.y,e=0<=d.dataPoint.y?Math.max(Math.min(d.point.x+5,x-l),v):Math.min(Math.max(d.point.x-l-5,v),x)):"vertical"===m&&(f=d.point.y+l/2,e=0<=d.dataPoint.y?Math.max(Math.min(d.point.x+p/2+5,x-p/2),v):Math.min(Math.max(d.point.x-p/2-5,v+p/2),x+p/
2),h=-90))):"horizontal"===m?(e=d.point.x-l/2,f=0<=d.dataPoint.y?Math.max(d.point.y-p/2-5,b.y1+p/2):Math.min(d.point.y+p/2+5,b.y2-p/2)):"vertical"===m&&(e=d.point.x,f=0<=d.dataPoint.y?Math.max(d.point.y-5,b.y1+l):Math.min(d.point.y+l+5,b.y2),h=-90),a.save(),a.translate(e,f),a.rotate(Math.PI/180*h),a.fillText(k,0,0),a.restore())}};s.prototype.renderLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath();
b.rect(d.x1,d.y1,d.width,d.height);b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],h=this.data[f];b.lineWidth=h.lineThickness;var k=h.dataPoints,l=h.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:f};l=p(l);c.strokeStyle=l;c.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;l=h._colorSet[0];b.strokeStyle=l;var n=!0,m=0,q,s;b.beginPath();if(0<k.length){for(var t=!1,m=0;m<k.length;m++)if(q=k[m].x.getTime?k[m].x.getTime():k[m].x,
!(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax))if("number"!==typeof k[m].y)0<m&&(b.stroke(),D&&c.stroke()),t=!0;else{q=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[m].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=h.dataPointIds[m];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:f,
dataPointIndex:m,x1:q,y1:s};n||t?(b.beginPath(),b.moveTo(q,s),D&&(c.beginPath(),c.moveTo(q,s)),t=n=!1):(b.lineTo(q,s),D&&c.lineTo(q,s),0==m%500&&(b.stroke(),b.beginPath(),b.moveTo(q,s),D&&(c.stroke(),c.beginPath(),c.moveTo(q,s))));if(0<k[m].markerSize||0<h.markerSize){var v=h.getMarkerProperties(m,q,s,b);d.push(v);if(!h.maxWidthInX||v.size>h.maxWidthInX)h.maxWidthInX=v.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
u=p(u);D&&d.push({x:q,y:s,ctx:c,type:v.type,size:v.size,color:u,borderColor:u,borderThickness:v.borderThickness})}(k[m].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"line",dataPoint:k[m],dataSeries:h,point:{x:q,y:s},color:l})}b.stroke();D&&c.stroke()}}oa.drawMarkers(d);b.restore();b.beginPath();D&&c.beginPath()}};s.prototype.renderStepLine=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=this._eventManager.ghostCtx;b.save();var d=this.plotArea;b.beginPath();
b.rect(d.x1,d.y1,d.width,d.height);b.clip();for(var d=[],e=0;e<a.dataSeriesIndexes.length;e++){var f=a.dataSeriesIndexes[e],h=this.data[f];b.lineWidth=h.lineThickness;var k=h.dataPoints,l=h.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:f};l=p(l);c.strokeStyle=l;c.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;l=h._colorSet[0];b.strokeStyle=l;var n=!0,m=0,q,s;b.beginPath();if(0<k.length){for(var t=!1,m=0;m<k.length;m++)if(q=k[m].getTime?k[m].x.getTime():k[m].x,
!(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax))if("number"!==typeof k[m].y)0<m&&(b.stroke(),D&&c.stroke()),t=!0;else{var u=s;q=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(k[m].y-a.axisY.conversionParameters.minimum)+0.5<<0;var v=h.dataPointIds[m];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:f,
dataPointIndex:m,x1:q,y1:s};n||t?(b.beginPath(),b.moveTo(q,s),D&&(c.beginPath(),c.moveTo(q,s)),t=n=!1):(b.lineTo(q,u),D&&c.lineTo(q,u),b.lineTo(q,s),D&&c.lineTo(q,s),0==m%500&&(b.stroke(),b.beginPath(),b.moveTo(q,s),D&&(c.stroke(),c.beginPath(),c.moveTo(q,s))));if(0<k[m].markerSize||0<h.markerSize){u=h.getMarkerProperties(m,q,s,b);d.push(u);if(!h.maxWidthInX||u.size>h.maxWidthInX)h.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
v=p(v);D&&d.push({x:q,y:s,ctx:c,type:u.type,size:u.size,color:v,borderColor:v,borderThickness:u.borderThickness})}(k[m].indexLabel||h.indexLabel)&&this._indexLabels.push({chartType:"stepLine",dataPoint:k[m],dataSeries:h,point:{x:q,y:s},color:l})}b.stroke();D&&c.stroke()}}oa.drawMarkers(d);b.restore();b.beginPath();D&&c.beginPath()}};s.prototype.renderSpline=function(a){function b(a){a=K(a,2);if(0<a.length){c.beginPath();D&&d.beginPath();c.moveTo(a[0].x,a[0].y);D&&d.moveTo(a[0].x,a[0].y);for(var e=
0;e<a.length-3;e+=3)c.bezierCurveTo(a[e+1].x,a[e+1].y,a[e+2].x,a[e+2].y,a[e+3].x,a[e+3].y),D&&d.bezierCurveTo(a[e+1].x,a[e+1].y,a[e+2].x,a[e+2].y,a[e+3].x,a[e+3].y),0<e&&0===e%3E3&&(c.stroke(),c.beginPath(),c.moveTo(a[e+3].x,a[e+3].y),D&&(d.stroke(),d.beginPath(),d.moveTo(a[e+3].x,a[e+3].y)));c.stroke();D&&d.stroke()}}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx;c.save();var e=this.plotArea;c.beginPath();c.rect(e.x1,e.y1,e.width,e.height);c.clip();
for(var e=[],f=0;f<a.dataSeriesIndexes.length;f++){var h=a.dataSeriesIndexes[f],k=this.data[h];c.lineWidth=k.lineThickness;var l=k.dataPoints,n=k.id;this._eventManager.objectMap[n]={objectType:"dataSeries",dataSeriesIndex:h};n=p(n);d.strokeStyle=n;d.lineWidth=0<k.lineThickness?Math.max(k.lineThickness,4):0;n=k._colorSet[0];c.strokeStyle=n;var m=0,q,s,t=[];c.beginPath();if(0<l.length)for(m=0;m<l.length;m++)if(q=l[m].getTime?l[m].x.getTime():l[m].x,!(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax))if("number"!==
typeof l[m].y)0<m&&(b(t),t=[]);else{q=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+0.5<<0;s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(l[m].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=k.dataPointIds[m];this._eventManager.objectMap[u]={id:u,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:m,x1:q,y1:s};t[t.length]={x:q,y:s};if(0<l[m].markerSize||0<k.markerSize){var v=k.getMarkerProperties(m,
q,s,c);e.push(v);if(!k.maxWidthInX||v.size>k.maxWidthInX)k.maxWidthInX=v.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);u=p(u);D&&e.push({x:q,y:s,ctx:d,type:v.type,size:v.size,color:u,borderColor:u,borderThickness:v.borderThickness})}(l[m].indexLabel||k.indexLabel)&&this._indexLabels.push({chartType:"spline",dataPoint:l[m],dataSeries:k,point:{x:q,y:s},color:n})}b(t)}oa.drawMarkers(e);c.restore();c.beginPath();
D&&d.beginPath()}};var na=function(a,b,c,d,e,f,h,k,l,p){var n=15<d-b&&15<e-c?8:0.35*Math.min(d-b,e-c);a.beginPath();a.moveTo(b,c);a.save();a.fillStyle=f;a.fillRect(b,c,d-b,e-c);a.restore();!0===h&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(d-n,c+n),a.lineTo(d,c),a.closePath(),h=a.createLinearGradient((d+b)/2,c+n,(d+b)/2,c),h.addColorStop(0,f),h.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=h,a.fill(),a.restore());!0===k&&(a.save(),a.beginPath(),a.moveTo(b,e),a.lineTo(b+
n,e-n),a.lineTo(d-n,e-n),a.lineTo(d,e),a.closePath(),h=a.createLinearGradient((d+b)/2,e-n,(d+b)/2,e),h.addColorStop(0,f),h.addColorStop(1,"rgba(255, 255, 255, .4)"),a.fillStyle=h,a.fill(),a.restore());!0===l&&(a.save(),a.beginPath(),a.moveTo(b,c),a.lineTo(b+n,c+n),a.lineTo(b+n,e-n),a.lineTo(b,e),a.closePath(),h=a.createLinearGradient(b+n,(e+c)/2,b,(e+c)/2),h.addColorStop(0,f),h.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=h,a.fill(),a.restore());!0===p&&(a.save(),a.beginPath(),a.moveTo(d,
c),a.lineTo(d-n,c+n),a.lineTo(d-n,e-n),a.lineTo(d,e),h=a.createLinearGradient(d-n,(e+c)/2,d,(e+c)/2),h.addColorStop(0,f),h.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=h,h.addColorStop(0,f),h.addColorStop(1,"rgba(255, 255, 255, 0.1)"),a.fillStyle=h,a.fill(),a.closePath(),a.restore())};s.prototype.renderColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=0,f,h,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(0-a.axisY.conversionParameters.minimum)<<0,e=Math.min(0.15*this.width,0.9*(this.plotArea.width/a.plotType.totalDataSeries))<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(n)/a.plotType.totalDataSeries)<<0;m>e?m=e:Infinity===n?m=e:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(d=
0;d<a.dataSeriesIndexes.length;d++){var n=a.dataSeriesIndexes[d],q=this.data[n],s=q.dataPoints;q.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<s.length)for(var t=5<m&&q.bevelEnabled?!0:!1,e=0;e<s.length;e++)if(s[e].getTime?k=s[e].x.getTime():k=s[e].x,!(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax)&&"number"===typeof s[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(k-a.axisX.conversionParameters.minimum)+0.5<<0;h=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(s[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;f=f-a.plotType.totalDataSeries*m/2+(a.previousDataSeriesCount+d)*m<<0;var u=f+m<<0,v;0<=s[e].y?v=l:(v=h,h=l);h>v&&(v=h=v);c=s[e].color?s[e].color:q._colorSet[e%q._colorSet.length];na(b,f,h,u,v,c,t&&0<=s[e].y,0>s[e].y&&t,!1,!1);c=q.dataPointIds[e];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:n,
dataPointIndex:e,x1:f,y1:h,x2:u,y2:v};c=p(c);D&&na(this._eventManager.ghostCtx,f,h,u,v,c,!1,!1,!1,!1);if(s[e].indexLabel||q.indexLabel)this._indexLabels.push({chartType:"column",dataPoint:s[e],dataSeries:q,point:{x:f+(u-f)/2,y:0<=s[e].y?h:v},bounds:{x1:f,y1:Math.min(h,v),x2:u,y2:Math.max(h,v)},color:c})}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedColumn=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],
h=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=0.15*this.width<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(n)/a.plotType.plotUnits.length)<<0;m>h?m=h:Infinity===n?m=h:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());
for(n=0;n<a.dataSeriesIndexes.length;n++){var q=a.dataSeriesIndexes[n],s=this.data[q],t=s.dataPoints;s.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length){var u=5<m&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(h=0;h<t.length;h++)if(c=t[h].x.getTime?t[h].x.getTime():t[h].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[h].y){d=a.axisX.conversionParameters.reference+
a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[h].y-a.axisY.conversionParameters.minimum)+0.5<<0;var v=d-a.plotType.plotUnits.length*m/2+a.index*m<<0,x=v+m<<0,w;if(0<=t[h].y){var y=e[c]?e[c]:0;k-=y;w=l-y;e[c]=y+(w-k)}else y=f[c]?f[c]:0,w=k+y,k=l+y,f[c]=y+(w-k);c=t[h].color?t[h].color:s._colorSet[h%s._colorSet.length];na(b,v,k,x,w,c,u&&0<=t[h].y,0>t[h].y&&u,!1,!1);c=s.dataPointIds[h];
this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:h,x1:v,y1:k,x2:x,y2:w};c=p(c);D&&na(this._eventManager.ghostCtx,v,k,x,w,c,!1,!1,!1,!1);if(t[h].indexLabel||s.indexLabel)this._indexLabels.push({chartType:"stackedColumn",dataPoint:t[h],dataSeries:s,point:{x:d,y:0<=t[h].y?k:w},bounds:{x1:v,y1:Math.min(k,w),x2:x,y2:Math.max(k,w)},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedColumn100=function(a){var b=this.plotArea.ctx;
if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],h=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=0.15*this.width<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(n)/a.plotType.plotUnits.length)<<0;m>h?m=h:Infinity===n?m=h:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,
d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(n=0;n<a.dataSeriesIndexes.length;n++){var q=a.dataSeriesIndexes[n],s=this.data[q],t=s.dataPoints;s.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length)for(var v=5<m&&s.bevelEnabled?!0:!1,h=0;h<t.length;h++)if(c=t[h].x.getTime?t[h].x.getTime():t[h].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[h].y){d=
a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(t[h].y/a.dataPointYSums[c]):0)-a.axisY.conversionParameters.minimum)+0.5<<0;var u=d-a.plotType.plotUnits.length*m/2+a.index*m<<0,x=u+m<<0,w;if(0<=t[h].y){var y=e[c]?e[c]:0;k-=y;w=l-y;e[c]=y+(w-k)}else y=f[c]?f[c]:0,w=k+y,k=l+y,f[c]=y+(w-k);c=t[h].color?t[h].color:
s._colorSet[h%s._colorSet.length];na(b,u,k,x,w,c,v&&0<=t[h].y,0>t[h].y&&v,!1,!1);c=s.dataPointIds[h];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:h,x1:u,y1:k,x2:x,y2:w};c=p(c);D&&na(this._eventManager.ghostCtx,u,k,x,w,c,!1,!1,!1,!1);if(t[h].indexLabel||s.indexLabel)this._indexLabels.push({chartType:"stackedColumn100",dataPoint:t[h],dataSeries:s,point:{x:d,y:0<=t[h].y?k:w},bounds:{x1:u,y1:Math.min(k,w),x2:x,y2:Math.max(k,w)},color:c})}}b.restore();D&&
this._eventManager.ghostCtx.restore()}};s.prototype.renderBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=0,f,h,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,e=Math.min(0.15*this.height,0.9*(this.plotArea.height/a.plotType.totalDataSeries))<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(n)/a.plotType.totalDataSeries)<<
0;m>e?m=e:Infinity===n?m=e:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(d=0;d<a.dataSeriesIndexes.length;d++){var n=a.dataSeriesIndexes[d],q=this.data[n],s=q.dataPoints;q.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<s.length){var t=
5<m&&q.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(e=0;e<s.length;e++)if(s[e].getTime?k=s[e].x.getTime():k=s[e].x,!(k<a.axisX.dataInfo.viewPortMin||k>a.axisX.dataInfo.viewPortMax)&&"number"===typeof s[e].y){h=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(k-a.axisX.conversionParameters.minimum)+0.5<<0;f=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(s[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;h=h-a.plotType.totalDataSeries*
m/2+(a.previousDataSeriesCount+d)*m<<0;var u=h+m<<0,v;0<=s[e].y?v=l:(v=f,f=l);c=s[e].color?s[e].color:q._colorSet[e%q._colorSet.length];na(b,v,h,f,u,c,t,!1,!1,!1);c=q.dataPointIds[e];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:e,x1:v,y1:h,x2:f,y2:u};c=p(c);D&&na(this._eventManager.ghostCtx,v,h,f,u,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"bar",dataPoint:s[e],dataSeries:q,point:{x:0<=s[e].y?f:v,y:h+(u-h)/2},bounds:{x1:Math.min(v,f),y1:h,x2:Math.max(v,
f),y2:u},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedBar=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],h=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=0.15*this.width<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(n)/a.plotType.plotUnits.length)<<0;m>h?
m=h:Infinity===n?m=h:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(n=0;n<a.dataSeriesIndexes.length;n++){var q=a.dataSeriesIndexes[n],s=this.data[q],t=s.dataPoints;s.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);if(0<t.length){var v=
5<m&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(h=0;h<t.length;h++)if(c=t[h].x.getTime?t[h].x.getTime():t[h].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[h].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[h].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=d-a.plotType.plotUnits.length*
m/2+a.index*m<<0,x=u+m<<0,w;if(0<=t[h].y){var y=e[c]?e[c]:0;w=l+y;k+=y;e[c]=y+(k-w)}else y=f[c]?f[c]:0,w=k-y,k=l-y,f[c]=y+(k-w);c=t[h].color?t[h].color:s._colorSet[h%s._colorSet.length];na(b,w,u,k,x,c,v,!1,!1,!1);c=s.dataPointIds[h];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:h,x1:w,y1:u,x2:k,y2:x};c=p(c);D&&na(this._eventManager.ghostCtx,w,u,k,x,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar",dataPoint:t[h],dataSeries:s,point:{x:0<=
t[h].y?k:w,y:d},bounds:{x1:Math.min(w,k),y1:u,x2:Math.max(w,k),y2:x},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedBar100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,e=[],f=[],h=0,k,l=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,h=0.15*this.width<<0,n=a.axisX.dataInfo.minDiff,m=0.9*(d.height/Math.abs(a.axisX.maximum-a.axisX.minimum)*
Math.abs(n)/a.plotType.plotUnits.length)<<0;m>h?m=h:Infinity===n?m=h:1>m&&(m=1);b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(n=0;n<a.dataSeriesIndexes.length;n++){var q=a.dataSeriesIndexes[n],s=this.data[q],t=s.dataPoints;s.maxWidthInX=m/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
if(0<t.length){var u=5<m&&s.bevelEnabled?!0:!1;b.strokeStyle="#4572A7 ";for(h=0;h<t.length;h++)if(c=t[h].x.getTime?t[h].x.getTime():t[h].x,!(c<a.axisX.dataInfo.viewPortMin||c>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[h].y){d=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(c-a.axisX.conversionParameters.minimum)+0.5<<0;k=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*((0!==a.dataPointYSums[c]?100*(t[h].y/a.dataPointYSums[c]):
0)-a.axisY.conversionParameters.minimum)+0.5<<0;var v=d-a.plotType.plotUnits.length*m/2+a.index*m<<0,x=v+m<<0,w;if(0<=t[h].y){var y=e[c]?e[c]:0;w=l+y;k+=y;e[c]=y+(k-w)}else y=f[c]?f[c]:0,w=k-y,k=l-y,f[c]=y+(k-w);c=t[h].color?t[h].color:s._colorSet[h%s._colorSet.length];na(b,w,v,k,x,c,u,!1,!1,!1);c=s.dataPointIds[h];this._eventManager.objectMap[c]={id:c,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:h,x1:w,y1:v,x2:k,y2:x};c=p(c);D&&na(this._eventManager.ghostCtx,w,v,k,x,c,!1,!1,!1,!1);this._indexLabels.push({chartType:"stackedBar100",
dataPoint:t[h],dataSeries:s,point:{x:0<=t[h].y?k:w,y:d},bounds:{x1:Math.min(w,k),y1:v,x2:Math.max(w,k),y2:x},color:c})}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderArea=function(a){function b(){y&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?w=x:0>a.axisY.maximum?w=f.y1:0<a.axisY.minimum&&(w=e.y2),c.lineTo(t,w),c.lineTo(y.x,w),c.closePath(),c.fill(),D&&(d.lineTo(t,w),d.lineTo(y.x,w),d.closePath(),d.fill()),c.beginPath(),c.moveTo(t,v),d.beginPath(),d.moveTo(t,v),y={x:t,y:v})}
var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,h=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],n=this.data[l],m=n.dataPoints,h=n.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:l};h=p(h);
d.fillStyle=h;var h=[],q=!0,s=0,t,v,u,x=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+0.5<<0,w,y=null;if(0<m.length){var A=n._colorSet[s%n._colorSet.length];c.fillStyle=A;for(var C=!0;s<m.length;s++)if(u=m[s].x.getTime?m[s].x.getTime():m[s].x,!(u<a.axisX.dataInfo.viewPortMin||u>a.axisX.dataInfo.viewPortMax))if("number"!==typeof m[s].y)b(),C=!0;else{t=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(u-a.axisX.conversionParameters.minimum)+0.5<<0;v=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[s].y-a.axisY.conversionParameters.minimum)+0.5<<0;q||C?(c.beginPath(),c.moveTo(t,v),y={x:t,y:v},D&&(d.beginPath(),d.moveTo(t,v)),C=q=!1):(c.lineTo(t,v),D&&d.lineTo(t,v),0==s%250&&b());var B=n.dataPointIds[s];this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:s,x1:t,y1:v};if(0!==m[s].markerSize&&(0<m[s].markerSize||0<n.markerSize)){u=
n.getMarkerProperties(s,t,v,c);h.push(u);if(!n.maxWidthInX||u.size>n.maxWidthInX)n.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);B=p(B);D&&h.push({x:t,y:v,ctx:d,type:u.type,size:u.size,color:B,borderColor:B,borderThickness:u.borderThickness})}(m[s].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"area",dataPoint:m[s],dataSeries:n,point:{x:t,y:v},color:A})}b();oa.drawMarkers(h)}}c.restore();
D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderSplineArea=function(a){function b(){var h=K(w,2);if(0<h.length){c.beginPath();c.moveTo(h[0].x,h[0].y);D&&(d.beginPath(),d.moveTo(h[0].x,h[0].y));for(var k=0;k<h.length-3;k+=3)c.bezierCurveTo(h[k+1].x,h[k+1].y,h[k+2].x,h[k+2].y,h[k+3].x,h[k+3].y),D&&d.bezierCurveTo(h[k+1].x,h[k+1].y,h[k+2].x,h[k+2].y,h[k+3].x,h[k+3].y);0>=a.axisY.minimum&&0<=a.axisY.maximum?u=v:0>a.axisY.maximum?u=f.y1:0<a.axisY.minimum&&(u=e.y2);x={x:h[0].x,y:h[0].y};c.lineTo(h[h.length-
1].x,u);c.lineTo(x.x,u);c.closePath();c.fill();D&&(d.lineTo(h[h.length-1].x,u),d.lineTo(x.x,u),d.closePath(),d.fill())}}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,h=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],
n=this.data[l],m=n.dataPoints,h=n.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:l};h=p(h);d.fillStyle=h;var h=[],q=0,s,t,v=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)+0.5<<0,u,x=null,w=[];if(0<m.length){color=n._colorSet[q%n._colorSet.length];for(c.fillStyle=color;q<m.length;q++)if(s=m[q].x.getTime?m[q].x.getTime():m[q].x,!(s<a.axisX.dataInfo.viewPortMin||s>a.axisX.dataInfo.viewPortMax))if("number"!==
typeof m[q].y)0<q&&(b(),w=[]);else{s=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(s-a.axisX.conversionParameters.minimum)+0.5<<0;t=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m[q].y-a.axisY.conversionParameters.minimum)+0.5<<0;var y=n.dataPointIds[q];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:q,x1:s,y1:t};w[w.length]={x:s,y:t};if(0!==m[q].markerSize&&(0<m[q].markerSize||0<
n.markerSize)){var A=n.getMarkerProperties(q,s,t,c);h.push(A);if(!n.maxWidthInX||A.size>n.maxWidthInX)n.maxWidthInX=A.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);y=p(y);D&&h.push({x:s,y:t,ctx:d,type:A.type,size:A.size,color:y,borderColor:y,borderThickness:A.borderThickness})}(m[q].indexLabel||n.indexLabel)&&this._indexLabels.push({chartType:"splineArea",dataPoint:m[q],dataSeries:n,point:{x:s,y:t},color:color})}b();
oa.drawMarkers(h)}}c.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStepArea=function(a){function b(){y&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?w=x:0>a.axisY.maximum?w=f.y1:0<a.axisY.minimum&&(w=e.y2),c.lineTo(t,w),c.lineTo(y.x,w),c.closePath(),c.fill(),D&&(d.lineTo(t,w),d.lineTo(y.x,w),d.closePath(),d.fill()),c.beginPath(),c.moveTo(t,u),d.beginPath(),d.moveTo(t,u),y={x:t,y:u})}var c=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,
e=a.axisX.lineCoordinates,f=a.axisY.lineCoordinates,h=[],k=this.plotArea;c.save();D&&d.save();c.beginPath();c.rect(k.x1,k.y1,k.width,k.height);c.clip();D&&(d.beginPath(),d.rect(k.x1,k.y1,k.width,k.height),d.clip());for(k=0;k<a.dataSeriesIndexes.length;k++){var l=a.dataSeriesIndexes[k],n=this.data[l],m=n.dataPoints,h=n.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:l};h=p(h);d.fillStyle=h;var h=[],q=!0,s=0,t,u,v,x=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(0-a.axisY.conversionParameters.minimum)+0.5<<0,w,y=null,A=!1;if(0<m.length){var C=n._colorSet[s%n._colorSet.length];for(c.fillStyle=C;s<m.length;s++)if(v=m[s].x.getTime?m[s].x.getTime():m[s].x,!(v<a.axisX.dataInfo.viewPortMin||v>a.axisX.dataInfo.viewPortMax)){var B=u;if("number"!==typeof m[s].y)b(),A=!0;else{t=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(v-a.axisX.conversionParameters.minimum)+0.5<<0;u=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*
(m[s].y-a.axisY.conversionParameters.minimum)+0.5<<0;q||A?(c.beginPath(),c.moveTo(t,u),y={x:t,y:u},D&&(d.beginPath(),d.moveTo(t,u)),A=q=!1):(c.lineTo(t,B),D&&d.lineTo(t,B),c.lineTo(t,u),D&&d.lineTo(t,u),0==s%250&&(0>=a.axisY.minimum&&0<=a.axisY.maximum?w=x:0>a.axisY.maximum?w=f.y1:0<a.axisY.minimum&&(w=e.y2),c.lineTo(t,w),c.lineTo(y.x,w),c.closePath(),c.fill(),c.beginPath(),c.moveTo(t,u),D&&(d.lineTo(t,w),d.lineTo(y.x,w),d.closePath(),d.fill(),d.beginPath(),d.moveTo(t,u)),y={x:t,y:u}));B=n.dataPointIds[s];
this._eventManager.objectMap[B]={id:B,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:s,x1:t,y1:u};if(0!==m[s].markerSize&&(0<m[s].markerSize||0<n.markerSize)){v=n.getMarkerProperties(s,t,u,c);h.push(v);if(!n.maxWidthInX||v.size>n.maxWidthInX)n.maxWidthInX=v.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);B=p(B);D&&h.push({x:t,y:u,ctx:d,type:v.type,size:v.size,color:B,borderColor:B,borderThickness:v.borderThickness})}(m[s].indexLabel||
n.indexLabel)&&this._indexLabels.push({chartType:"stepArea",dataPoint:m[s],dataSeries:n,point:{x:t,y:u},color:C})}}b();oa.drawMarkers(h)}}c.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderStackedArea=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=[],f=this.plotArea,h=[],k=[],l=0,n,m,q,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,t=this._eventManager.ghostCtx;
D&&t.beginPath();b.save();D&&t.save();b.beginPath();b.rect(f.x1,f.y1,f.width,f.height);b.clip();D&&(t.beginPath(),t.rect(f.x1,f.y1,f.width,f.height),t.clip());xValuePresent=[];for(f=0;f<a.dataSeriesIndexes.length;f++){var u=a.dataSeriesIndexes[f],v=this.data[u],w=v.dataPoints;v.dataPointIndexes=[];for(l=0;l<w.length;l++)u=w[l].x.getTime?w[l].x.getTime():w[l].x,v.dataPointIndexes[u]=l,xValuePresent[u]||(k.push(u),xValuePresent[u]=!0);k.sort(e)}for(f=0;f<a.dataSeriesIndexes.length;f++){var u=a.dataSeriesIndexes[f],
v=this.data[u],w=v.dataPoints,x=!0,y=[],l=v.id;this._eventManager.objectMap[l]={objectType:"dataSeries",dataSeriesIndex:u};l=p(l);t.fillStyle=l;if(0<k.length){c=v._colorSet[0];b.fillStyle=c;for(l=0;l<k.length;l++){q=k[l];var A=null,A=0<=v.dataPointIndexes[q]?w[v.dataPointIndexes[q]]:{x:q,y:0};if(!(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)&&"number"===typeof A.y){n=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(q-a.axisX.conversionParameters.minimum)+
0.5<<0;m=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(A.y-a.axisY.conversionParameters.minimum)+0.5<<0;var C=h[q]?h[q]:0;m-=C;y.push({x:n,y:s-C});h[q]=s-m;if(x)b.beginPath(),b.moveTo(n,m),D&&(t.beginPath(),t.moveTo(n,m)),x=!1;else if(b.lineTo(n,m),D&&t.lineTo(n,m),0==l%250){for(;0<y.length;){var B=y.pop();b.lineTo(B.x,B.y);D&&t.lineTo(B.x,B.y)}b.closePath();b.fill();b.beginPath();b.moveTo(n,m);D&&(t.closePath(),t.fill(),t.beginPath(),t.moveTo(n,m));y.push({x:n,
y:s-C})}if(0<=v.dataPointIndexes[q]){var F=v.dataPointIds[v.dataPointIndexes[q]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:v.dataPointIndexes[q],x1:n,y1:m}}if(0<=v.dataPointIndexes[q]&&0!==A.markerSize&&(0<A.markerSize||0<v.markerSize)){q=v.getMarkerProperties(l,n,m,b);d.push(q);if(!v.maxWidthInX||q.size>v.maxWidthInX)v.maxWidthInX=q.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);
markerColor=p(F);D&&d.push({x:n,y:m,ctx:t,type:q.type,size:q.size,color:markerColor,borderColor:markerColor,borderThickness:q.borderThickness})}(A.indexLabel||v.indexLabel)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:A,dataSeries:v,point:{x:n,y:m},color:c})}}for(;0<y.length;)B=y.pop(),b.lineTo(B.x,B.y),D&&t.lineTo(B.x,B.y);b.closePath();b.fill();b.beginPath();b.moveTo(n,m);D&&(t.closePath(),t.fill(),t.beginPath(),t.moveTo(n,m))}delete v.dataPointIndexes}oa.drawMarkers(d);b.restore();
D&&t.restore()}};s.prototype.renderStackedArea100=function(a){var b=this.plotArea.ctx;if(!(0>=a.dataSeriesIndexes.length)){var c=null,d=this.plotArea,f=[],h=[],k=[],l=0,n,m,q,s=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(0-a.axisY.conversionParameters.minimum)<<0,t=0.15*this.width<<0,v=a.axisX.dataInfo.minDiff,v=0.9*d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(v)<<0,u=this._eventManager.ghostCtx;b.save();D&&u.save();b.beginPath();b.rect(d.x1,d.y1,
d.width,d.height);b.clip();D&&(u.beginPath(),u.rect(d.x1,d.y1,d.width,d.height),u.clip());xValuePresent=[];for(d=0;d<a.dataSeriesIndexes.length;d++){var w=a.dataSeriesIndexes[d],x=this.data[w],y=x.dataPoints;x.dataPointIndexes=[];for(l=0;l<y.length;l++)w=y[l].x.getTime?y[l].x.getTime():y[l].x,x.dataPointIndexes[w]=l,xValuePresent[w]||(k.push(w),xValuePresent[w]=!0);k.sort(e)}for(d=0;d<a.dataSeriesIndexes.length;d++){var w=a.dataSeriesIndexes[d],x=this.data[w],y=x.dataPoints,A=!0,c=x.id;this._eventManager.objectMap[c]=
{objectType:"dataSeries",dataSeriesIndex:w};c=p(c);u.fillStyle=c;1==y.length&&(v=t);1>v?v=1:v>t&&(v=t);var C=[];if(0<k.length){c=x._colorSet[l%x._colorSet.length];b.fillStyle=c;for(l=0;l<k.length;l++){q=k[l];var B=null,B=0<=x.dataPointIndexes[q]?y[x.dataPointIndexes[q]]:{x:q,y:0};if(!(q<a.axisX.dataInfo.viewPortMin||q>a.axisX.dataInfo.viewPortMax)&&"number"===typeof B.y){m=0!==a.dataPointYSums[q]?100*(B.y/a.dataPointYSums[q]):0;n=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*
(q-a.axisX.conversionParameters.minimum)+0.5<<0;m=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(m-a.axisY.conversionParameters.minimum)+0.5<<0;var F=h[q]?h[q]:0;m-=F;C.push({x:n,y:s-F});h[q]=s-m;if(A)b.beginPath(),b.moveTo(n,m),D&&(u.beginPath(),u.moveTo(n,m)),A=!1;else if(b.lineTo(n,m),D&&u.lineTo(n,m),0==l%250){for(;0<C.length;){var H=C.pop();b.lineTo(H.x,H.y);D&&u.lineTo(H.x,H.y)}b.closePath();b.fill();b.beginPath();b.moveTo(n,m);D&&(u.closePath(),u.fill(),u.beginPath(),
u.moveTo(n,m));C.push({x:n,y:s-F})}if(0<=x.dataPointIndexes[q]){var I=x.dataPointIds[x.dataPointIndexes[q]];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:x.dataPointIndexes[q],x1:n,y1:m}}if(0<=x.dataPointIndexes[q]&&0!==B.markerSize&&(0<B.markerSize||0<x.markerSize)){q=x.getMarkerProperties(l,n,m,b);f.push(q);if(!x.maxWidthInX||q.size>x.maxWidthInX)x.maxWidthInX=q.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-
1:a.axisX.conversionParameters.pixelPerUnit);markerColor=p(I);D&&f.push({x:n,y:m,ctx:u,type:q.type,size:q.size,color:markerColor,borderColor:markerColor,borderThickness:q.borderThickness})}(B.indexLabel||x.indexLabel)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:B,dataSeries:x,point:{x:n,y:m},color:c})}}for(;0<C.length;)H=C.pop(),b.lineTo(H.x,H.y),D&&u.lineTo(H.x,H.y);b.closePath();b.fill();b.beginPath();b.moveTo(n,m);D&&(u.closePath(),u.fill(),u.beginPath(),u.moveTo(n,m))}delete x.dataPointIndexes}oa.drawMarkers(f);
b.restore();D&&u.restore()}};s.prototype.renderBubble=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d=this.plotArea,e=0,f,h,k=0.15*this.width<<0,e=a.axisX.dataInfo.minDiff,c=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(e)/c)<<0;b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var l=-Infinity,
n=Infinity,m=0;m<a.dataSeriesIndexes.length;m++)for(var q=a.dataSeriesIndexes[m],s=this.data[q],t=s.dataPoints,u=0,e=0;e<t.length;e++)if(f=t[e].getTime?f=t[e].x.getTime():f=t[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"undefined"!==typeof t[e].z)u=t[e].z,u>l&&(l=u),u<n&&(n=u);for(var v=25*Math.PI,d=Math.max(Math.pow(0.25*Math.min(d.height,d.width)/2,2)*Math.PI,v),m=0;m<a.dataSeriesIndexes.length;m++)if(q=a.dataSeriesIndexes[m],s=this.data[q],t=s.dataPoints,1==t.length&&
(c=k),1>c?c=1:c>k&&(c=k),0<t.length){b.strokeStyle="#4572A7 ";for(e=0;e<t.length;e++)if(f=t[e].getTime?f=t[e].x.getTime():f=t[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===typeof t[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+0.5<<0;h=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(t[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=t[e].z,
w=2*Math.max(Math.sqrt((l===n?d/2:v+(d-v)/(l-n)*(u-n))/Math.PI)<<0,1),u=s.getMarkerProperties(e,b);u.size=w;oa.drawMarker(f,h,b,u.type,u.size,u.color,u.borderColor,u.borderThickness);if(!s.maxWidthInX||u.size>s.maxWidthInX)s.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-1:a.axisX.conversionParameters.pixelPerUnit);var x=s.dataPointIds[e];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:q,dataPointIndex:e,x1:f,
y1:h,size:w};w=p(x);D&&oa.drawMarker(f,h,this._eventManager.ghostCtx,u.type,u.size,w,w,u.borderThickness)}}b.restore();D&&this._eventManager.ghostCtx.restore()}};s.prototype.renderScatter=function(a){var b=this.plotArea.ctx,c=a.dataSeriesIndexes.length;if(!(0>=c)){var d=this.plotArea,e=0,f,h,k=0.15*this.width<<0,e=a.axisX.dataInfo.minDiff,c=0.9*(d.width/Math.abs(a.axisX.maximum-a.axisX.minimum)*Math.abs(e)/c)<<0;b.save();D&&this._eventManager.ghostCtx.save();b.beginPath();b.rect(d.x1,d.y1,d.width,
d.height);b.clip();D&&(this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var l=0;l<a.dataSeriesIndexes.length;l++){var n=a.dataSeriesIndexes[l],m=this.data[n],q=m.dataPoints;1==q.length&&(c=k);1>c?c=1:c>k&&(c=k);if(0<q.length){b.strokeStyle="#4572A7 ";Math.pow(0.3*Math.min(d.height,d.width)/2,2);for(var s=0,t=0,e=0;e<q.length;e++)if(f=q[e].getTime?f=q[e].x.getTime():f=q[e].x,!(f<a.axisX.dataInfo.viewPortMin||f>a.axisX.dataInfo.viewPortMax)&&"number"===
typeof q[e].y){f=a.axisX.conversionParameters.reference+a.axisX.conversionParameters.pixelPerUnit*(f-a.axisX.conversionParameters.minimum)+0.5<<0;h=a.axisY.conversionParameters.reference+a.axisY.conversionParameters.pixelPerUnit*(q[e].y-a.axisY.conversionParameters.minimum)+0.5<<0;var u=m.getMarkerProperties(e,f,h,b);oa.drawMarker(u.x,u.y,u.ctx,u.type,u.size,u.color,u.color,u.thickness);if(!m.maxWidthInX||u.size>m.maxWidthInX)m.maxWidthInX=u.size/(1<a.axisX.conversionParameters.pixelPerUnit?a.axisX.conversionParameters.pixelPerUnit-
1:a.axisX.conversionParameters.pixelPerUnit);Math.sqrt((s-f)*(s-f)+(t-h)*(t-h))<Math.min(u.size,5)||(s=m.dataPointIds[e],this._eventManager.objectMap[s]={id:s,objectType:"dataPoint",dataSeriesIndex:n,dataPointIndex:e,x1:f,y1:h},s=p(s),D&&oa.drawMarker(u.x,u.y,this._eventManager.ghostCtx,u.type,u.size,s,s,u.borderThickness),s=f,t=h)}}}b.restore();D&&this._eventManager.ghostCtx.restore()}};var qa=function(a,b,c,d,e,f,h){a.save();"pie"===e?(a.beginPath(),a.moveTo(b.x,b.y),a.arc(b.x,b.y,c,f,h,!1),a.fillStyle=
d,a.strokeStyle="white",a.lineWidth=2,a.closePath(),a.fill()):"doughnut"===e&&(a.beginPath(),a.arc(b.x,b.y,c,f,h,!1),a.arc(b.x,b.y,0.6*c,h,f,!0),a.closePath(),a.fillStyle=d,a.strokeStyle="white",a.lineWidth=2,a.fill());a.restore()};s.prototype.renderPie=function(a){function b(a){v.frame=0;v.maxFrames=a||1}function c(){if(m&&q){for(var a=0,b=0;b<q.length;b++)a+=Math.abs(q[b].y);for(var d=0,e=0,f=0,g=0,b=0;b<q.length;b++){var h=q[b],k=m.dataPointIds[b],l={id:k,objectType:"dataPoint",dataPointIndex:b,
dataSeriesIndex:0};w.push(l);var r=h.indexLabel?h.indexLabel:m.indexLabel?m.indexLabel:h.label?h.label:m.label?m.label:"";p._eventManager.objectMap[k]=l;l.center={x:B.x,y:B.y};l.y=h.y;l.radius=F;l.indexLabelText=p.replaceKeywordsWithValue(r,h,m,b);l.indexLabelPlacement=m.indexLabelPlacement;l.indexLabelLineColor=h.indexLabelLineColor?h.indexLabelLineColor:m.indexLabelLineColor?m.indexLabelLineColor:h.color?h.color:m._colorSet[b%m._colorSet.length];l.indexLabelLineThickness=h.indexLabelLineThickness?
h.indexLabelLineThickness:m.indexLabelLineThickness;l.indexLabelFontColor=h.indexLabelFontColor?h.indexLabelFontColor:m.indexLabelFontColor;l.indexLabelFontStyle=h.indexLabelFontStyle?h.indexLabelFontStyle:m.indexLabelFontStyle;l.indexLabelFontWeight=h.indexLabelFontWeight?h.indexLabelFontWeight:m.indexLabelFontWeight;l.indexLabelFontSize=h.indexLabelFontSize?h.indexLabelFontSize:m.indexLabelFontSize;l.indexLabelFontFamily=h.indexLabelFontFamily?h.indexLabelFontFamily:m.indexLabelFontFamily;l.indexLabelBackgroundColor=
h.indexLabelBackgroundColor?h.indexLabelBackgroundColor:m.indexLabelBackgroundColor?m.indexLabelBackgroundColor:null;l.indexLabelMaxWidth=h.indexLabelMaxWidth?h.indexLabelMaxWidth:m.indexLabelMaxWidth?m.indexLabelMaxWidth:0.33*t.width;l.indexLabelWrap=h.indexLabelWrap?h.indexLabelWrap:m.indexLabelWrap;l.startAngle=0===b?m.startAngle?m.startAngle/180*Math.PI:0:w[b-1].endAngle;l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI);l.endAngle=l.startAngle+2*Math.PI/a*Math.abs(h.y);h=(l.endAngle+l.startAngle)/
2;h=(h+2*Math.PI)%(2*Math.PI);l.midAngle=h;if(l.midAngle>Math.PI/2-A&&l.midAngle<Math.PI/2+A){if(0===d||w[f].midAngle>l.midAngle)f=b;d++}else if(l.midAngle>3*Math.PI/2-A&&l.midAngle<3*Math.PI/2+A){if(0===e||w[g].midAngle>l.midAngle)g=b;e++}l.hemisphere=h>Math.PI/2&&h<=3*Math.PI/2?"left":"right";l.indexLabelTextBlock=new H(p.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,
horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"});l.indexLabelTextBlock.measureText()}h=a=0;k=!1;for(b=0;b<q.length;b++)l=w[(f+b)%q.length],1<d&&(l.midAngle>Math.PI/2-A&&l.midAngle<Math.PI/2+A)&&(a<=d/2&&!k?(l.hemisphere="right",a++):(l.hemisphere="left",k=!0));k=!1;for(b=0;b<q.length;b++)l=w[(g+b)%q.length],1<e&&(l.midAngle>
3*Math.PI/2-A&&l.midAngle<3*Math.PI/2+A)&&(h<=e/2&&!k?(l.hemisphere="left",h++):(l.hemisphere="right",k=!0))}}function d(){var a=p.plotArea.ctx;if(null!==v&&v.frame<v.maxFrames){0===v.frame&&(v.prevMaxAngle=w[0].startAngle);a.clearRect(t.x1,t.y1,t.width,t.height);for(var a=v.prevMaxAngle+2*Math.PI/v.maxFrames,c=0;c<q.length;c++){var f=0===c?w[c].startAngle:g,g=f+(w[c].endAngle-w[c].startAngle),h=!1;g>a&&(g=a,h=!0);var k=q[c].color?q[c].color:m._colorSet[c%m._colorSet.length];g>f&&qa(p.plotArea.ctx,
w[c].center,w[c].radius,k,m.type,f,g);if(h)break}v.frame++;v.prevMaxAngle=a;v.frame<v.maxFrames?p.animationRequestId=p.requestAnimFrame.call(window,d):(b(D?15:4),e())}}function e(){var a=p.plotArea.ctx;if(null!==v&&v.frame<v.maxFrames){a.clearRect(t.x1,t.y1,t.width,t.height);for(a=0;a<q.length;a++){var b=w[a].startAngle,c=w[a].endAngle;if(c>b){var d=0.07*F*Math.cos(w[a].midAngle),f=0.07*F*Math.sin(w[a].midAngle),g=!1;if(q[a].exploded){if(Math.abs(w[a].center.x-(B.x+d))>Math.abs(0.5*d/v.maxFrames)||
Math.abs(w[a].center.y-(B.y+f))>Math.abs(0.5*f/v.maxFrames))w[a].center.x+=d/v.maxFrames,w[a].center.y+=f/v.maxFrames,g=!0}else if(Math.abs(w[a].center.x-B.x)>Math.abs(0.5*d/v.maxFrames)||Math.abs(w[a].center.y-B.y)>Math.abs(0.5*f/v.maxFrames))w[a].center.x-=d/v.maxFrames,w[a].center.y-=f/v.maxFrames,g=!0;g&&(d={},d.dataSeries=m,d.dataPoint=m.dataPoints[a],d.index=a,p._toolTip.highlightObjects([d]));qa(p.plotArea.ctx,w[a].center,w[a].radius,q[a].color?q[a].color:m._colorSet[a%m._colorSet.length],
m.type,b,c)}}v.frame++;a=p.plotArea.ctx;a.fillStyle="black";a.strokeStyle="grey";a.textBaseline="middle";a.lineJoin="round";for(b=b=0;b<q.length;b++)c=w[b],c.indexLabelText&&(c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2,d=0,d="left"===c.hemisphere?"outside"===m.indexLabelPlacement?-(c.indexLabelTextBlock.width+s):-c.indexLabelTextBlock.width/2:"outside"===m.indexLabelPlacement?s:-c.indexLabelTextBlock.width/2,c.indexLabelTextBlock.x+=d,c.indexLabelTextBlock.render(!0),c.indexLabelTextBlock.x-=
d,c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2,"outside"===c.indexLabelPlacement&&(d=c.center.x+F*Math.cos(c.midAngle),f=c.center.y+F*Math.sin(c.midAngle),a.strokeStyle=c.indexLabelLineColor,a.lineWidth=c.indexLabelLineThickness,a.beginPath(),a.moveTo(d,f),a.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y),a.lineTo(c.indexLabelTextBlock.x+("left"===c.hemisphere?-s:s),c.indexLabelTextBlock.y),a.stroke()),a.lineJoin="miter");v.frame<v.maxFrames&&(p.animationRequestId=p.requestAnimFrame.call(window,
e))}}function f(a,b){var c=a.indexLabelTextBlock.x,d=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2,e=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,g=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,h=b.indexLabelTextBlock.x+b.indexLabelTextBlock.width,k=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<b.indexLabelTextBlock.x-s||c>h+s||d>k+s||e<g-s?!1:!0}function h(a,b){var c=0,c=a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/
2,d=a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2,e=b.indexLabelTextBlock.y-b.indexLabelTextBlock.height/2,f=b.indexLabelTextBlock.y+b.indexLabelTextBlock.height/2;return c=b.indexLabelTextBlock.y>a.indexLabelTextBlock.y?e-d:c-f}function k(a){for(var b=null,c=1;c<q.length;c++)if(b=(a+c+w.length)%w.length,w[b].hemisphere!==w[a].hemisphere){b=null;break}else if(w[b].indexLabelText&&b!==a&&(0>h(w[b],w[a])||("right"===w[a].hemisphere?w[b].indexLabelTextBlock.y>=w[a].indexLabelTextBlock.y:w[b].indexLabelTextBlock.y<=
w[a].indexLabelTextBlock.y)))break;else b=null;return b}function l(a,b){b=b||0;var c=0,d=B.y-1*I,e=B.y+1*I;if(0<=a&&a<q.length){var f=w[a];if(0>b&&f.indexLabelTextBlock.y<d||0<b&&f.indexLabelTextBlock.y>e)return 0;var g=b,r=0,m=0,m=r=r=0;0>g?f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2>d&&f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+g<d&&(g=-(d-(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2+g))):f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2<d&&f.indexLabelTextBlock.y+
f.indexLabelTextBlock.height/2+g>e&&(g=f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2+g-e);g=f.indexLabelTextBlock.y+g;d=0;d="right"===f.hemisphere?B.x+Math.sqrt(Math.pow(I,2)-Math.pow(g-B.y,2)):B.x-Math.sqrt(Math.pow(I,2)-Math.pow(g-B.y,2));m=B.x+F*Math.cos(f.midAngle);r=B.y+F*Math.sin(f.midAngle);r=Math.sqrt(Math.pow(d-m,2)+Math.pow(g-r,2));m=Math.acos(F/I);r=Math.acos((I*I+F*F-r*r)/(2*F*I));g=r<m?g-f.indexLabelTextBlock.y:0;d=null;for(e=1;e<q.length;e++)if(d=(a-e+w.length)%w.length,w[d].hemisphere!==
w[a].hemisphere){d=null;break}else if(w[d].indexLabelText&&w[d].hemisphere===w[a].hemisphere&&d!==a&&(0>h(w[d],w[a])||("right"===w[a].hemisphere?w[d].indexLabelTextBlock.y<=w[a].indexLabelTextBlock.y:w[d].indexLabelTextBlock.y>=w[a].indexLabelTextBlock.y)))break;else d=null;m=d;r=k(a);e=d=0;0>g?(e="right"===f.hemisphere?m:r,c=g,null!==e&&(m=-g,g=f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2-(w[e].indexLabelTextBlock.y+w[e].indexLabelTextBlock.height/2),g-m<x&&(d=-m,u++,e=l(e,d),+e.toFixed(C)>
+d.toFixed(C)&&(c=g>x?-(g-x):-(m-(e-d)))))):0<g&&(e="right"===f.hemisphere?r:m,c=g,null!==e&&(m=g,g=w[e].indexLabelTextBlock.y-w[e].indexLabelTextBlock.height/2-(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2),g-m<x&&(d=m,u++,e=l(e,d),+e.toFixed(C)<+d.toFixed(C)&&(c=g>x?g-x:m-(d-e)))));c&&(g=f.indexLabelTextBlock.y+c,d=0,d="right"===f.hemisphere?B.x+Math.sqrt(Math.pow(I,2)-Math.pow(g-B.y,2)):B.x-Math.sqrt(Math.pow(I,2)-Math.pow(g-B.y,2)),f.midAngle>Math.PI/2-A&&f.midAngle<Math.PI/2+A?(e=(a-
1+w.length)%w.length,e=w[e],m=w[(a+1+w.length)%w.length],"left"===f.hemisphere&&"right"===e.hemisphere&&d>e.indexLabelTextBlock.x?d=e.indexLabelTextBlock.x-15:"right"===f.hemisphere&&("left"===m.hemisphere&&d<m.indexLabelTextBlock.x)&&(d=m.indexLabelTextBlock.x+15)):f.midAngle>3*Math.PI/2-A&&f.midAngle<3*Math.PI/2+A&&(e=(a-1+w.length)%w.length,e=w[e],m=w[(a+1+w.length)%w.length],"right"===f.hemisphere&&"left"===e.hemisphere&&d<e.indexLabelTextBlock.x?d=e.indexLabelTextBlock.x+15:"left"===f.hemisphere&&
("right"===m.hemisphere&&d>m.indexLabelTextBlock.x)&&(d=m.indexLabelTextBlock.x-15)),f.indexLabelTextBlock.y=g,f.indexLabelTextBlock.x=d,f.indexLabelAngle=Math.atan2(f.indexLabelTextBlock.y-B.y,f.indexLabelTextBlock.x-B.x))}return c}function n(){var a=p.plotArea.ctx;a.fillStyle="grey";a.strokeStyle="grey";a.font="16px Arial";a.textBaseline="middle";for(var c=0,e=a=0,a=0;10>a&&(1>a||0<e);a++){F-=e;e=0;if("outside"===m.indexLabelPlacement){I=F*y;for(c=0;c<q.length;c++){var g=w[c];g.indexLabelTextBlock.x=
B.x+I*Math.cos(g.midAngle);g.indexLabelTextBlock.y=B.y+I*Math.sin(g.midAngle);g.indexLabelAngle=g.midAngle;g.radius=F}for(var r,u,c=0;c<q.length;c++){var g=w[c],v=k(c);if(null!==v){r=w[c];u=w[v];var G=0,G=h(r,u)-x;if(0>G){for(var A=u=r=0;A<q.length;A++)A!==c&&w[A].hemisphere===g.hemisphere&&(w[A].indexLabelTextBlock.y<g.indexLabelTextBlock.y?r++:u++);A=G/(r+u||1)*u;r=-1*(G-A);var H=u=0;"right"===g.hemisphere?(u=l(c,A),r=-1*(G-u),H=l(v,r),+H.toFixed(C)<+r.toFixed(C)&&+u.toFixed(C)<=+A.toFixed(C)&&
l(c,-(r-H))):(u=l(v,A),r=-1*(G-u),H=l(c,r),+H.toFixed(C)<+r.toFixed(C)&&+u.toFixed(C)<=+A.toFixed(C)&&l(v,-(r-H)))}}}}else for(c=0;c<q.length;c++)g=w[c],I="pie"===m.type?0.7*F:0.8*F,G=B.x+I*Math.cos(g.midAngle),A=B.y+I*Math.sin(g.midAngle),g.indexLabelTextBlock.x=G,g.indexLabelTextBlock.y=A;for(c=0;c<q.length;c++)if(g=w[c],G=g.indexLabelTextBlock.measureText(),!(0===G.height||0===G.width)){G=G=0;"right"===g.hemisphere?(G=t.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+s),G*=-1):G=t.x1-(g.indexLabelTextBlock.x-
g.indexLabelTextBlock.width-s);if(0<G&&(Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-B.y)<F||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-B.y)<F))G/=Math.abs(Math.cos(g.indexLabelAngle)),9<G&&(G*=0.3),G>e&&(e=G);G=G=0;0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?(G=t.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),G*=-1):G=t.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5);0<G&&Math.abs(g.indexLabelTextBlock.x-B.x)<F&&(G/=Math.abs(Math.sin(g.indexLabelAngle)),
9<G&&(G*=0.3),G>e&&(e=G))}c=function(a,b,c){for(var d=[],e=0;!(d.push(w[b]),b===c);b=(b+1+q.length)%q.length);d.sort(function(a,b){return a.y-b.y});for(b=0;b<d.length;b++)if(c=d[b],e<a)e+=c.indexLabelTextBlock.height,c.indexLabelTextBlock.text="",c.indexLabelText="",c.indexLabelTextBlock.measureText();else break};v=g=-1;for(A=H=0;A<q.length;A++)if(r=w[A],r.indexLabelText){var J=k(A);null!==J&&(u=w[J],G=0,G=h(r,u),0>G&&f(r,u)?(0>g&&(g=A),J!==g&&(v=J),H+=-G):0<H&&(c(H,g,v),v=g=-1,H=0))}0<H&&c(H,g,v)}b(p.animationEnabled&&
0===p.renderCount?D?60:30:1);d()}var p=this;if(!(0>=a.dataSeriesIndexes.length)){var m=this.data[a.dataSeriesIndexes[0]],q=m.dataPoints,s=10,t=this.plotArea,u=0,v={frame:0,maxFrames:1},w=[],x=2,y=1.3,A=20/180*Math.PI,C=6,B={x:(t.x2+t.x1)/2,y:(t.y2+t.y1)/2},F="inside"===m.indexLabelPlacement?0.95*Math.min(t.width,t.height)/2:0.8*Math.min(t.width,t.height)/2,I=F*y;this.pieDoughnutClickHandler=function(a){v.frame===v.maxFrames&&(a=a.dataPoint,a.exploded=a.exploded?!1:!0,b(D?15:4),1<this.dataPoints.length&&
e())};c();n()}};s.prototype.animationRequestId=null;s.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();s.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||
clearTimeout;F.prototype.registerSpace=function(a,b){"top"===a?this._topOccupied+=b.height:"bottom"===a?this._bottomOccupied+=b.height:"left"===a?this._leftOccupied+=b.width:"right"===a&&(this._rightOccupied+=b.width)};F.prototype.unRegisterSpace=function(a,b){"top"===a?this._topOccupied-=b.height:"bottom"===a?this._bottomOccupied-=b.height:"left"===a?this._leftOccupied-=b.width:"right"===a&&(this._rightOccupied-=b.width)};F.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,
x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}};F.prototype.reset=function(){this._topOccupied=0;this._bottomOccupied=3;this._rightOccupied=this._leftOccupied=0};d(H,A);H.prototype.render=function(a){a&&this.ctx.save();var b=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var c=0;this._isDirty&&this.measureText(this.ctx);this.ctx.translate(this.x,
this.y+c);"middle"===this.textBaseline&&(c=-this._lineHeight/2);this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var d=0,e=this.padding,f=null;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,c,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);this.ctx.fillStyle=this.fontColor;for(c=0;c<this._wrappedText.lines.length;c++)f=this._wrappedText.lines[c],"right"===this.horizontalAlign?d=
this.width-f.width-this.padding:"left"===this.horizontalAlign?d=this.padding:"center"===this.horizontalAlign&&(d=(this.width-2*this.padding)/2-f.width/2+this.padding),this.ctx.fillText(f.text,d,e),e+=f.height;this.ctx.font=b;a&&this.ctx.restore()};H.prototype.setText=function(a){this.text=a;this._isDirty=!0;this._wrappedText=null};H.prototype.measureText=function(){if(null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";this._wrapText(this.ctx);this._isDirty=!1;return{width:this.width,
height:this.height}};H.prototype._getLineWithWidth=function(a,b,c){a=String(a);if(!a)return{text:"",width:0};var d=c=0,e=a.length-1,f=Infinity;for(this.ctx.font=this._getFontString();d<=e;){var f=Math.floor((d+e)/2),h=a.substr(0,f+1);c=this.ctx.measureText(h).width;if(c<b)d=f+1;else if(c>b)e=f-1;else break}c>b&&1<h.length&&(h=h.substr(0,h.length-1),c=this.ctx.measureText(h).width);b=!0;if(h.length===a.length||" "===a[h.length])b=!1;b&&(a=h.split(" "),1<a.length&&a.pop(),h=a.join(" "),c=this.ctx.measureText(h).width);
return{text:h,width:c}};H.prototype._wrapText=function(){var a=new String(k(this.text)),b=[],c=this.ctx.font,d=0,e=0;for(this.ctx.font=this._getFontString();0<a.length;){var f=this.maxHeight-2*this.padding,h=this._getLineWithWidth(a,this.maxWidth-2*this.padding,!1);h.height=this._lineHeight;b.push(h);e=Math.max(e,h.width);d+=h.height;a=k(a.slice(h.text.length,a.length));f&&d>f&&(h=b.pop(),d-=h.height)}this._wrappedText={lines:b,width:e,height:d};this.width=e+2*this.padding;this.height=d+2*this.padding;
this.ctx.font=c};H.prototype._getFontString=function(){return t("",this,null)};d(y,A);y.prototype.render=function(){if(this.text){var a=this.chart.layoutManager.getFreeSpace(),b=0,c=0,d=0,e=0,f=0,h,k;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(e=a.width-2*this.margin,f=0.5*a.height-2*this.margin,d=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(e=a.height-2*this.margin,f=0.5*a.width-2*this.margin):"center"===this.horizontalAlign&&(e=
a.width-2*this.margin,f=0.5*a.height-2*this.margin));var f=new H(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:e,maxHeight:f,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"}),l=f.measureText();
"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(c=this.margin,k="top"):"bottom"===this.verticalAlign&&(c=a.y2-this.margin-l.height,k="bottom"),"left"===this.horizontalAlign?b=a.x1+this.margin:"center"===this.horizontalAlign?b=a.x1+(e/2-l.width/2)+this.margin:"right"===this.horizontalAlign&&(b=a.x2-this.margin-l.width),h=this.horizontalAlign,this.width=l.width,this.height=l.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(b=a.x1+this.margin,
c=a.y2-this.margin-(e/2-l.width/2),d=-90,k="left",this.width=l.height,this.height=l.width):"right"===this.horizontalAlign?(b=a.x2-this.margin,c=a.y1+this.margin+(e/2-l.width/2),d=90,k="right",this.width=l.height,this.height=l.width):"center"===this.horizontalAlign&&(c=a.y1+(a.height/2-l.height/2),b=a.x1+(a.width/2-l.width/2),k="center",this.width=l.width,this.height=l.height),h="center");f.x=b;f.y=c;f.angle=d;f.horizontalAlign=h;f.render(!0);this.chart.layoutManager.registerSpace(k,{width:this.width+
2*this.margin,height:this.height+2*this.margin});this.bounds={x1:b,y1:c,x2:b+this.width,y2:c+this.height};this.ctx.textBaseline="top"}};d(I,A);I.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace(),b=null,c=0,d=0,e=0,f=0,h=[],k=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",b=this.verticalAlign,e=0.9*a.width,f=0.5*a.height):"center"===this.verticalAlign&&(this.orientation="vertical",b=this.horizontalAlign,e=0.5*a.width,f=0.9*a.height);
for(var l=0;l<this.dataSeries.length;l++){var m=this.dataSeries[l],n=m.legendMarkerType?m.legendMarkerType:("line"===m.type||"stepLine"===m.type||"spline"===m.type||"scatter"===m.type||"bubble"===m.type)&&m.markerType?m.markerType:J.getDefaultLegendMarker(m.type),q=m.legendText?m.legendText:m.name,s=m.legendMarkerColor?m.legendMarkerColor:m.markerColor?m.markerColor:m._colorSet[0],t=!m.markerSize&&("line"===m.type||"stepLine"===m.type||"spline"===m.type)?0:0.6*this.lineHeight;if("pie"!==m.type&&"doughnut"!==
m.type)n={markerType:n,markerColor:s,text:q,textBlock:null,chartType:m.type,markerSize:t,lineColor:m._colorSet[0],dataSeriesIndex:l,dataPointIndex:null},h.push(n);else for(var u=0;u<m.dataPoints.length;u++)t=m.dataPoints[u],n=t.legendMarkerType?t.legendMarkerType:m.legendMarkerType?m.legendMarkerType:J.getDefaultLegendMarker(m.type),q=t.legendText?t.legendText:m.legendText?m.legendText:t.name?t.name:"DataPoint: "+(u+1),s=t.markerColor?t.markerColor:m.markerColor?m.markerColor:t.color?t.color:m.color?
m.color:m._colorSet[u%m._colorSet.length],t=(0===t.markerSize||0===m.markerSize&&!t.markerSize)&&("line"===m.type||"stepLine"===m.type||"spline"===m.type)?0:0.6*this.lineHeight,n={markerType:n,markerColor:s,text:q,textBlock:null,chartType:m.type,markerSize:t,dataSeriesIndex:l,dataPointIndex:u},h.push(n)}if(0<h.length){m=null;for(l=u=0;l<h.length;l++){n=h[l];if("horizontal"===this.orientation){n.textBlock=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:this.lineHeight,angle:0,text:n.text,horizontalAlign:"left",
fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});n.textBlock.measureText();if(!m||m.width+n.textBlock.width+(0===m.width?0:this.horizontalSpacing)>e)m={items:[],width:0},k.push(m),this.height=k.length*(n.textBlock.height+5);n.textBlock.x=m.width;n.textBlock.y=0;m.width+=Math.round(n.textBlock.width+n.textBlock._lineHeight+(0===m.width?0:0.5*n.textBlock._lineHeight))}else this.height+this.lineHeight<
f?(m={items:[],width:0},k.push(m),this.height=k.length*this.lineHeight):(m=k[u],u=(u+1)%k.length),n.textBlock=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:1.5*this.fontSize,angle:0,text:n.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"}),n.textBlock.measureText(),n.textBlock.x=m.width,n.textBlock.y=0,m.width+=n.textBlock.width+n.textBlock._lineHeight+(0===m.width?0:0.5*n.textBlock._lineHeight);
m.items.push(n);this.width=Math.max(m.width,this.width)}this.height=k.length*this.lineHeight}"top"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1):"center"===this.verticalAlign?(d="left"===this.horizontalAlign?a.x1+2:"right"===this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y1+a.height/2-this.height/2):"bottom"===this.verticalAlign&&(d="left"===this.horizontalAlign?a.x1+2:"right"===
this.horizontalAlign?a.x2-this.width-2:a.x1+a.width/2-this.width/2,c=a.y2-this.height-5);this.items=h;for(l=0;l<this.items.length;l++)n=h[l],n.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[n.id]={id:n.id,objectType:"legendItem",legendItemIndex:l,dataSeriesIndex:n.dataSeriesIndex,dataPointIndex:n.dataPointIndex};for(l=0;l<k.length;l++){m=k[l];for(a=0;a<m.items.length;a++){n=m.items[a];f=n.textBlock.x+d+(0===a?0.2*t:0.4*this.lineHeight+0.2*t);h=c+l*this.lineHeight;e=
f;this.chart.data[n.dataSeriesIndex].visible||(this.ctx.globalAlpha=0.5);if("line"===n.chartType||"stepLine"===n.chartType||"spline"===n.chartType)this.ctx.strokeStyle=n.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-0.1*this.lineHeight,h+this.lineHeight/2),this.ctx.lineTo(f+0.7*this.lineHeight,h+this.lineHeight/2),this.ctx.stroke(),e-=0.1*this.lineHeight;oa.drawMarker(f+t/2,h+this.lineHeight/2,this.ctx,n.markerType,t,n.markerColor,null,0);n.textBlock.x=
f+Math.round(0.9*this.lineHeight);n.textBlock.y=h;n.textBlock.render(!0);this.chart.data[n.dataSeriesIndex].visible||(this.ctx.globalAlpha=1);f=p(n.id);this.ghostCtx.fillStyle=f;this.ghostCtx.beginPath();this.ghostCtx.fillRect(e,n.textBlock.y,n.textBlock.x+n.textBlock.width-e,n.textBlock.height);n.x1=this.chart._eventManager.objectMap[n.id].x1=e;n.y1=this.chart._eventManager.objectMap[n.id].y1=n.textBlock.y;n.x2=this.chart._eventManager.objectMap[n.id].x2=n.textBlock.x+n.textBlock.width;n.y2=this.chart._eventManager.objectMap[n.id].y2=
n.textBlock.y+n.textBlock.height}}this.chart.layoutManager.registerSpace(b,{width:this.width+2+2,height:this.height+5+5});this.bounds={x1:d,y1:c,x2:d+this.width,y2:c+this.height}};d(M,A);M.prototype.render=function(){var a=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(a.x1,a.y1,a.x2,a.y2)};d(J,A);J.prototype.getDefaultAxisPlacement=function(){var a=this.type;if("column"===a||"line"===a||"stepLine"===a||"spline"===a||"area"===a||"stepArea"===a||"splineArea"===a||
"stackedColumn"===a||"stackedLine"===a||"bubble"===a||"scatter"===a||"stackedArea"===a||"stackedColumn100"===a||"stackedLine100"===a||"stackedArea100"===a)return"normal";if("bar"===a||"stackedBar"===a||"stackedBar100"===a)return"xySwapped";if("pie"===a||"doughnut"===a)return"none";window.console.log("Unknown Chart Type: "+a);return null};J.getDefaultLegendMarker=function(a){if("column"===a||"stackedColumn"===a||"stackedLine"===a||"bar"===a||"stackedBar"===a||"stackedBar100"===a||"bubble"===a||"scatter"===
a||"stackedColumn100"===a||"stackedLine100"===a||"stepArea"===a)return"square";if("line"===a||"stepLine"===a||"spline"===a||"pie"===a||"doughnut"===a)return"circle";if("area"===a||"splineArea"===a||"stackedArea"===a||"stackedArea100"===a)return"triangle";window.console.log("Unknown Chart Type: "+a);return null};J.prototype.getDataPointAtX=function(a,b){if(!this.dataPoints||0===this.dataPoints.length)return null;var c={dataPoint:null,distance:Infinity,index:NaN},d=null,e=0,f=0,h=1,k=Infinity,l=0,m=
0,n=0;"none"!==this.chart.plotInfo.axisPlacement&&(n=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,n=0<n?(this.dataPoints.length-1)/n*(a-this.dataPoints[0].x)>>0:0);for(;;){f=0<h?n+e:n-e;if(0<=f&&f<this.dataPoints.length){var d=this.dataPoints[f],p=Math.abs(d.x-a);p<c.distance&&(c.dataPoint=d,c.distance=p,c.index=f);d=Math.abs(d.x-a);d<=k?k=d:0<h?l++:m++;if(1E3<l&&1E3<m)break}else if(0>n-e&&n+e>=this.dataPoints.length)break;-1===h?(e++,h=1):h=-1}return!b&&c.dataPoint.x===a?c:b&&
null!==c.dataPoint?c:null};J.prototype.getDataPointAtXY=function(a,b,c){if(!this.dataPoints||0===this.dataPoints.length)return null;c=c||!1;var d=[],e=0,f=0,h=1,k=!1,l=Infinity,m=0,n=0,p=0;"none"!==this.chart.plotInfo.axisPlacement&&(p=this.chart.axisX.getXValueAt({x:a,y:b}),f=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,p=0<f?(this.dataPoints.length-1)/f*(p-this.dataPoints[0].x)>>0:0);for(;;){f=0<h?p+e:p-e;if(0<=f&&f<this.dataPoints.length){var q=this.chart._eventManager.objectMap[this.dataPointIds[f]],
t=this.dataPoints[f];if(q){switch(this.type){case "column":case "stackedColumn":case "stackedColumn100":case "bar":case "stackedBar":case "stackedBar100":a>=q.x1&&(a<=q.x2&&b>=q.y1&&b<=q.y2)&&(d.push({dataPoint:t,dataPointIndex:f,dataSeries:this,distance:Math.min(Math.abs(q.x1-a),Math.abs(q.x2-a),Math.abs(q.y1-b),Math.abs(q.y2-b))}),k=!0);break;case "line":case "stepLine":case "spline":case "area":case "stepArea":case "stackedArea":case "stackedArea100":case "splineArea":case "scatter":var s=u("markerSize",
t,this)||4,v=c?20:s,w=Math.sqrt(Math.pow(q.x1-a,2)+Math.pow(q.y1-b,2));w<=v&&d.push({dataPoint:t,dataPointIndex:f,dataSeries:this,distance:w});f=Math.abs(q.x1-a);f<=l?l=f:0<h?m++:n++;w<=s/2&&(k=!0);break;case "bubble":s=q.size;w=Math.sqrt(Math.pow(q.x1-a,2)+Math.pow(q.y1-b,2));w<=s/2&&(d.push({dataPoint:t,dataPointIndex:f,dataSeries:this,distance:w}),k=!0);break;case "pie":case "doughnut":s=q.center,v="doughnut"===this.type?0.6*q.radius:0,w=Math.sqrt(Math.pow(s.x-a,2)+Math.pow(s.y-b,2)),w<q.radius&&
w>v&&(w=Math.atan2(b-s.y,a-s.x),0>w&&(w+=2*Math.PI),w=(180*(w/Math.PI)%360+360)%360,s=(180*(q.startAngle/Math.PI)%360+360)%360,v=(180*(q.endAngle/Math.PI)%360+360)%360,0===v&&1<q.endAngle&&(v=360),s>v&&(v+=360,w<s&&(w+=360)),w>s&&w<v&&(d.push({dataPoint:t,dataPointIndex:f,dataSeries:this,distance:0}),k=!0))}if(k||1E3<m&&1E3<n)break}}else if(0>p-e&&p+e>=this.dataPoints.length)break;-1===h?(e++,h=1):h=-1}a=null;for(b=0;b<d.length;b++)a?d[b].distance<=a.distance&&(a=d[b]):a=d[b];return a};J.prototype.getMarkerProperties=
function(a,b,c,d){var e=this.dataPoints;return{x:b,y:c,ctx:d,type:e[a].markerType?e[a].markerType:this.markerType,size:e[a].markerSize?e[a].markerSize:this.markerSize,color:e[a].markerColor?e[a].markerColor:this.markerColor?this.markerColor:e[a].color?e[a].color:this.color?this.color:this._colorSet[a%this._colorSet.length],borderColor:e[a].markerBorderColor?e[a].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:e[a].markerBorderThickness?e[a].markerBorderThickness:
this.markerBorderThickness?this.markerBorderThickness:null}};d(w,A);w.prototype.createLabels=function(){var a,b=0,d,e=0,f=0,b=0;if("bottom"===this._position||"top"===this._position)b=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"===typeof this._options.labelMaxWidth?0.9*b>>0:this.labelMaxWidth:"undefined"===typeof this._options.labelMaxWidth?0.7*this.chart.width>>0:this.labelMaxWidth,f="undefined"===typeof this._options.labelWrap||this.labelWrap?
0.5*this.chart.height>>0:1.5*this.labelFontSize;else if("left"===this._position||"right"===this._position)b=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval,e=this.labelAutoFit?"undefined"===typeof this._options.labelMaxWidth?0.3*this.chart.width>>0:this.labelMaxWidth:"undefined"===typeof this._options.labelMaxWidth?0.5*this.chart.width>>0:this.labelMaxWidth,f="undefined"===typeof this._options.labelWrap||this.labelWrap?2*b>>0:1.5*this.labelFontSize;if("axisX"===this.type&&
"dateTime"===this.chart.plotInfo.axisXValueType){d=c(new Date(this.maximum),this.interval,this.intervalType);for(b=this.intervalStartPosition;b<d;c(b,this.interval,this.intervalType))a="axisX"===this.type&&this.labels[b]?this.labels[b]:P(b,this.valueFormatString,this.chart._cultureInfo),a=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,
fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:b.getTime(),textBlock:a,effectiveHeight:null})}else{d=this.maximum;if(this.labels&&this.labels.length){a=Math.ceil(this.interval);for(var h=Math.ceil(this.intervalStartPosition),k=!1,b=h;b<this.maximum;b+=a)if(this.labels[b])k=!0;else{k=!1;break}k&&(this.interval=a,this.intervalStartPosition=h)}for(b=this.intervalStartPosition;b<=d;b+=this.interval)a="axisX"===this.type&&this.labels[b]?
this.labels[b]:ha(b,this.valueFormatString,this.chart._cultureInfo),a=new H(this.ctx,{x:0,y:0,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:this.prefix+a+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:b,textBlock:a,effectiveHeight:null})}for(b=0;b<this.stripLines.length;b++)d=this.stripLines[b],
a=new H(this.ctx,{x:0,y:0,backgroundColor:d.labelBackgroundColor,maxWidth:e,maxHeight:f,angle:this.labelAngle,text:d.label,horizontalAlign:"left",fontSize:d.labelFontSize,fontFamily:d.labelFontFamily,fontWeight:d.labelFontWeight,fontColor:d.labelFontColor,fontStyle:d.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:d.value,textBlock:a,effectiveHeight:null,stripLine:d})};w.prototype.createLabelsAndCalculateWidth=function(){var a=0;this._labels=[];if("left"===this._position||
"right"===this._position){this.createLabels();for(i=0;i<this._labels.length;i++){var b=this._labels[i].textBlock.measureText(),c=0,c=0===this.labelAngle?b.width:b.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));a<c&&(a=c);this._labels[i].effectiveWidth=c}}return(this.title?n(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5};w.prototype.createLabelsAndCalculateHeight=function(){var a=0;this._labels=
[];var b,c=0;this.createLabels();if("bottom"===this._position||"top"===this._position)for(c=0;c<this._labels.length;c++){b=this._labels[c].textBlock;b=b.measureText();var d=0,d=0===this.labelAngle?b.height:b.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+b.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));a<d&&(a=d);this._labels[c].effectiveHeight=d}return(this.title?n(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0)+a+this.tickLength+5};w.setLayoutAndRender=function(a,
b,c,d,e){var f,h,k,l=a.chart,m=l.ctx;a.calculateAxisParameters();b&&b.calculateAxisParameters();c&&c.calculateAxisParameters();if(b&&c&&"undefined"===typeof b._options.maximum&&"undefined"===typeof b._options.minimum&&"undefined"===typeof b._options.interval&&"undefined"===typeof c._options.maximum&&"undefined"===typeof c._options.minimum&&"undefined"===typeof c._options.interval){k=(b.maximum-b.minimum)/b.interval;var n=(c.maximum-c.minimum)/c.interval;k>n?c.maximum=c.interval*k+c.minimum:n>k&&(b.maximum=
b.interval*n+b.minimum)}n=b?b.margin:0;if("normal"===d){a.lineCoordinates={};var p=Math.ceil(b?b.createLabelsAndCalculateWidth():0);f=Math.round(e.x1+p+n);a.lineCoordinates.x1=f;n=Math.ceil(c?c.createLabelsAndCalculateWidth():0);h=Math.round(e.x2-n>a.chart.width-10?a.chart.width-10:e.x2-n);a.lineCoordinates.x2=h;a.lineCoordinates.width=Math.abs(h-f);var q=Math.ceil(a.createLabelsAndCalculateHeight());d=Math.round(e.y2-q-a.margin);k=Math.round(e.y2-a.margin);a.lineCoordinates.y1=d;a.lineCoordinates.y2=
d;a.boundingRect={x1:f,y1:d,x2:h,y2:k,width:h-f,height:k-d};b&&(f=Math.round(e.x1+b.margin),d=Math.round(10>e.y1?10:e.y1),h=Math.round(e.x1+p+b.margin),k=Math.round(e.y2-q-a.margin),b.lineCoordinates={x1:h,y1:d,x2:h,y2:k,height:Math.abs(k-d)},b.boundingRect={x1:f,y1:d,x2:h,y2:k,width:h-f,height:k-d});c&&(f=Math.round(a.lineCoordinates.x2),d=Math.round(10>e.y1?10:e.y1),h=Math.round(f+n+c.margin),k=Math.round(e.y2-q-a.margin),c.lineCoordinates={x1:f,y1:d,x2:f,y2:k,height:Math.abs(k-d)},c.boundingRect=
{x1:f,y1:d,x2:h,y2:k,width:h-f,height:k-d});a.calculateValueToPixelconversionParameters();b&&b.calculateValueToPixelconversionParameters();c&&c.calculateValueToPixelconversionParameters();m.save();m.rect(a.boundingRect.x1-40,a.boundingRect.y1,a.boundingRect.width+80,a.boundingRect.height);m.clip();a.renderLabelsTicksAndTitle();m.restore();b&&b.renderLabelsTicksAndTitle();c&&c.renderLabelsTicksAndTitle()}else{p=Math.ceil(a.createLabelsAndCalculateWidth());b&&(b.lineCoordinates={},f=Math.round(e.x1+
p+a.margin),h=Math.round(e.x2>b.chart.width-10?b.chart.width-10:e.x2),b.lineCoordinates.x1=f,b.lineCoordinates.x2=h,b.lineCoordinates.width=Math.abs(h-f));c&&(c.lineCoordinates={},f=Math.round(e.x1+p+a.margin),h=Math.round(e.x2>c.chart.width-10?c.chart.width-10:e.x2),c.lineCoordinates.x1=f,c.lineCoordinates.x2=h,c.lineCoordinates.width=Math.abs(h-f));var q=Math.ceil(b?b.createLabelsAndCalculateHeight():0),s=Math.ceil(c?c.createLabelsAndCalculateHeight():0);b&&(d=Math.round(e.y2-q-b.margin),k=Math.round(e.y2-
n>b.chart.height-10?b.chart.height-10:e.y2-n),b.lineCoordinates.y1=d,b.lineCoordinates.y2=d,b.boundingRect={x1:f,y1:d,x2:h,y2:k,width:h-f,height:q});c&&(d=Math.round(e.y1+c.margin),k=e.y1+c.margin+s,c.lineCoordinates.y1=k,c.lineCoordinates.y2=k,c.boundingRect={x1:f,y1:d,x2:h,y2:k,width:h-f,height:s});f=Math.round(e.x1+a.margin);d=Math.round(c?c.lineCoordinates.y2:10>e.y1?10:e.y1);h=Math.round(e.x1+p+a.margin);k=Math.round(b?b.lineCoordinates.y1:e.y2-n>a.chart.height-10?a.chart.height-10:e.y2-n);a.lineCoordinates=
{x1:h,y1:d,x2:h,y2:k,height:Math.abs(k-d)};a.boundingRect={x1:f,y1:d,x2:h,y2:k,width:h-f,height:k-d};a.calculateValueToPixelconversionParameters();b&&b.calculateValueToPixelconversionParameters();c&&c.calculateValueToPixelconversionParameters();b&&b.renderLabelsTicksAndTitle();c&&c.renderLabelsTicksAndTitle();a.renderLabelsTicksAndTitle()}l.preparePlotArea();e=a.chart.plotArea;m.save();m.rect(e.x1,e.y1,Math.abs(e.x2-e.x1),Math.abs(e.y2-e.y1));m.clip();a.renderStripLinesOfThicknessType("value");b&&
b.renderStripLinesOfThicknessType("value");c&&c.renderStripLinesOfThicknessType("value");a.renderInterlacedColors();b&&b.renderInterlacedColors();c&&c.renderInterlacedColors();m.restore();a.renderGrid();b&&b.renderGrid();c&&c.renderGrid();a.renderAxisLine();b&&b.renderAxisLine();c&&c.renderAxisLine();a.renderStripLinesOfThicknessType("pixel");b&&b.renderStripLinesOfThicknessType("pixel");c&&c.renderStripLinesOfThicknessType("pixel")};w.prototype.renderLabelsTicksAndTitle=function(){var a=!1,b=0,c=
1,d=0;0!==this.labelAngle&&360!==this.labelAngle&&(c=1.2);if("undefined"===typeof this._options.interval){if("bottom"===this._position||"top"===this._position){for(e=0;e<this._labels.length;e++)f=this._labels[e],f.position<this.minimum||f.stripLine||(f=f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.height*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.width*c&&(a=!0)}if("left"===this._position||"right"===this._position){for(e=0;e<this._labels.length;e++)f=
this._labels[e],f.position<this.minimum||f.stripLine||(f=f.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),b+=f);b>this.lineCoordinates.height*c&&(a=!0)}}if("bottom"===this._position){for(var e=0,f,e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?
(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+0.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y+this.tickLength<<0),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)0===f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y+=this.tickLength+f.textBlock.fontSize/2):(b.x-=0>this.labelAngle?f.textBlock.width*Math.cos(Math.PI/
180*this.labelAngle):0,b.y+=this.tickLength+Math.abs(0>this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,
fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-2,this._titleTextBlock.render(!0))}else if("top"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);
if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.x<<0)+0.5:b.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,b.y<<0),this.ctx.lineTo(c,b.y-this.tickLength<<0),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)0===
f.textBlock.angle?(b.x-=f.textBlock.width/2,b.y-=this.tickLength+f.textBlock.height/2):(b.x-=0<this.labelAngle?f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,b.y-=this.tickLength+Math.abs(0<this.labelAngle?f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)),f.textBlock.x=b.x,f.textBlock.y=b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:1.5*this.titleFontSize,
angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.render(!0))}else if("left"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||
f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+0.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x-
this.tickLength<<0,c),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)f.textBlock.x=b.x-f.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y-f.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,
angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}else if("right"===this._position){for(e=0;e<this._labels.length;e++)if(f=this._labels[e],!(f.position<this.minimum||
f.position>this.maximum)){b=this.getPixelCoordinatesOnAxis(f.position);if(this.tickThickness&&!this._labels[e].stripLine||this._labels[e].stripLine&&"pixel"===this._labels[e].stripLine._thicknessType)this._labels[e].stripLine?(c=this._labels[e].stripLine,this.ctx.lineWidth=c.thickness,this.ctx.strokeStyle=c.color):(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor),c=1===this.ctx.lineWidth%2?(b.y<<0)+0.5:b.y<<0,this.ctx.beginPath(),this.ctx.moveTo(b.x<<0,c),this.ctx.lineTo(b.x+
this.tickLength<<0,c),this.ctx.stroke();if(!a||0===d++%2||this._labels[e].stripLine)f.textBlock.x=b.x+this.tickLength+5,f.textBlock.y=0===this.labelAngle?b.y-f.textBlock.height/2+this.labelFontSize/2:b.y,f.textBlock.render(!0)}this.title&&(this._titleTextBlock=new H(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:1.5*this.titleFontSize,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,
fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"}),this._titleTextBlock.measureText(),this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this._titleTextBlock.render(!0))}};w.prototype.renderInterlacedColors=function(){var a=this.chart.plotArea.ctx,b,c,d=this.chart.plotArea,e=0;b=!0;if(("bottom"===this._position||"top"===this._position)&&this.interlacedColor){a.fillStyle=this.interlacedColor;
for(e=0;e<this._labels.length;e++)this._labels[e].stripLine||(b?(b=this.getPixelCoordinatesOnAxis(this._labels[e].position),c=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),a.fillRect(b.x,d.y1,Math.abs(c.x-b.x),Math.abs(d.y1-d.y2)),b=!1):b=!0)}else if(("left"===this._position||"right"===this._position)&&this.interlacedColor){a.fillStyle=this.interlacedColor;for(e=0;e<this._labels.length;e++)this._labels[e].stripLine||
(b?(c=this.getPixelCoordinatesOnAxis(this._labels[e].position),b=e+1>=this._labels.length?this.getPixelCoordinatesOnAxis(this.maximum):this.getPixelCoordinatesOnAxis(this._labels[e+1].position),a.fillRect(d.x1,b.y,Math.abs(d.x1-d.x2),Math.abs(b.y-c.y)),b=!1):b=!0)}a.beginPath()};w.prototype.renderStripLinesOfThicknessType=function(a){if(this.stripLines&&0<this.stripLines.length&&a)for(var b=this.chart.plotArea.ctx,c=0,c=0;c<this.stripLines.length;c++){var d=this.stripLines[c];if(d._thicknessType===
a&&!("pixel"===a&&(d.value<this.minimum||d.value>this.maximum))){var e=this.getPixelCoordinatesOnAxis(d.value),f=Math.abs("pixel"===a?d.thickness:this.conversionParameters.pixelPerUnit*d.thickness);if(!(0>=f)){b.strokeStyle=d.color;b.beginPath();p(d.id);var h,k,l,m;b.lineWidth=f;if("bottom"===this._position||"top"===this._position)h=k=1===b.lineWidth%2?(e.x<<0)+0.5:e.x<<0,l=this.chart.plotArea.y1,m=this.chart.plotArea.y2;else if("left"===this._position||"right"===this._position)l=m=1===b.lineWidth%
2?(e.y<<0)+0.5:e.y<<0,h=this.chart.plotArea.x1,k=this.chart.plotArea.x2;b.moveTo(h,l);b.lineTo(k,m);b.stroke()}}}};w.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var a=this.chart.ctx,b,c=this.chart.plotArea;a.lineWidth=this.gridThickness;a.strokeStyle=this.gridColor;if("bottom"===this._position||"top"===this._position)for(d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a.beginPath(),
b=this.getPixelCoordinatesOnAxis(this._labels[d].position),b=1===a.lineWidth%2?(b.x<<0)+0.5:b.x<<0,a.moveTo(b,c.y1<<0),a.lineTo(b,c.y2<<0),a.stroke());else if("left"===this._position||"right"===this._position)for(var d=0;d<this._labels.length&&!this._labels[d].stripLine;d++)this._labels[d].position<this.minimum||this._labels[d].position>this.maximum||(a.beginPath(),b=this.getPixelCoordinatesOnAxis(this._labels[d].position),b=1===a.lineWidth%2?(b.y<<0)+0.5:b.y<<0,a.moveTo(c.x1<<0,b),a.lineTo(c.x2<<
0,b),a.stroke())}};w.prototype.renderAxisLine=function(){var a=this.chart.ctx;if("bottom"===this._position||"top"===this._position){if(this.lineThickness){a.lineWidth=this.lineThickness;a.strokeStyle=this.lineColor?this.lineColor:"black";var b=1===this.lineThickness%2?(this.lineCoordinates.y1<<0)+0.5:this.lineCoordinates.y1<<0;a.beginPath();a.moveTo(this.lineCoordinates.x1,b);a.lineTo(this.lineCoordinates.x2,b);a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness)a.lineWidth=
this.lineThickness,a.strokeStyle=this.lineColor,b=1===this.lineThickness%2?(this.lineCoordinates.x1<<0)+0.5:this.lineCoordinates.x1<<0,a.beginPath(),a.moveTo(b,this.lineCoordinates.y1),a.lineTo(b,this.lineCoordinates.y2),a.stroke()};w.prototype.getPixelCoordinatesOnAxis=function(a){var b={},c=this.lineCoordinates.width,d=this.lineCoordinates.height;if("bottom"===this._position||"top"===this._position)c/=Math.abs(this.maximum-this.minimum),b.x=this.lineCoordinates.x1+c*(a-this.minimum),b.y=this.lineCoordinates.y1;
if("left"===this._position||"right"===this._position)c=d/Math.abs(this.maximum-this.minimum),b.y=this.lineCoordinates.y2-c*(a-this.minimum),b.x=this.lineCoordinates.x2;return b};w.prototype.getXValueAt=function(a){if(!a)return null;var b=null;"left"===this._position?b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-a.y)+this.chart.axisX.minimum:"bottom"===this._position&&(b=(this.chart.axisX.maximum-this.chart.axisX.minimum)/
this.chart.axisX.lineCoordinates.width*(a.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum);return b};w.prototype.calculateValueToPixelconversionParameters=function(a){a={pixelPerUnit:null,minimum:null,reference:null};var b=this.lineCoordinates.width,c=this.lineCoordinates.height;a.minimum=this.minimum;if("bottom"===this._position||"top"===this._position)a.pixelPerUnit=b/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.x1;if("left"===this._position||"right"===this._position)a.pixelPerUnit=
-1*c/Math.abs(this.maximum-this.minimum),a.reference=this.lineCoordinates.y2;this.conversionParameters=a};w.prototype.calculateAxisParameters=function(){var a=this.chart.layoutManager.getFreeSpace();"bottom"===this._position||"top"===this._position?(this.maxWidth=a.width,this.maxHeight=a.height):(this.maxWidth=a.height,this.maxHeight=a.width);var a="axisX"===this.type?500>this.maxWidth?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40),b,c,d,e;"axisX"===this.type?(b=null!==this.sessionVariables.internalMinimum?
this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin,c=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax,0===c-b&&(c+=0.4,b-=0.4),d=Infinity!==this.dataInfo.minDiff?this.dataInfo.minDiff:1):"axisY"===this.type&&(b="undefined"===typeof this._options.minimum?this.dataInfo.viewPortMin:this._options.minimum,c="undefined"===typeof this._options.maximum?this.dataInfo.viewPortMax:this._options.maximum,0===c-b?(c+=5,b-=5):(0!==c&&(c+=Math.abs(0.05)),
0!==b&&(b-=Math.abs(0.05))),this.includeZero&&"undefined"===typeof this._options.minimum&&0<b&&(b=0),this.includeZero&&"undefined"===typeof this._options.maximum&&0>c&&(c=0));"axisX"===this.type&&"dateTime"===this.chart.plotInfo.axisXValueType?(e=c-b,this.intervalType||(e/1<=a?(this.interval=1,this.intervalType="millisecond"):e/2<=a?(this.interval=2,this.intervalType="millisecond"):e/5<=a?(this.interval=5,this.intervalType="millisecond"):e/10<=a?(this.interval=10,this.intervalType="millisecond"):
e/20<=a?(this.interval=20,this.intervalType="millisecond"):e/50<=a?(this.interval=50,this.intervalType="millisecond"):e/100<=a?(this.interval=100,this.intervalType="millisecond"):e/200<=a?(this.interval=200,this.intervalType="millisecond"):e/250<=a?(this.interval=250,this.intervalType="millisecond"):e/300<=a?(this.interval=300,this.intervalType="millisecond"):e/400<=a?(this.interval=400,this.intervalType="millisecond"):e/500<=a?(this.interval=500,this.intervalType="millisecond"):e/(1*O.secondDuration)<=
a?(this.interval=1,this.intervalType="second"):e/(2*O.secondDuration)<=a?(this.interval=2,this.intervalType="second"):e/(5*O.secondDuration)<=a?(this.interval=5,this.intervalType="second"):e/(10*O.secondDuration)<=a?(this.interval=10,this.intervalType="second"):e/(15*O.secondDuration)<=a?(this.interval=15,this.intervalType="second"):e/(20*O.secondDuration)<=a?(this.interval=20,this.intervalType="second"):e/(30*O.secondDuration)<=a?(this.interval=30,this.intervalType="second"):e/(1*O.minuteDuration)<=
a?(this.interval=1,this.intervalType="minute"):e/(2*O.minuteDuration)<=a?(this.interval=2,this.intervalType="minute"):e/(5*O.minuteDuration)<=a?(this.interval=5,this.intervalType="minute"):e/(10*O.minuteDuration)<=a?(this.interval=10,this.intervalType="minute"):e/(15*O.minuteDuration)<=a?(this.interval=15,this.intervalType="minute"):e/(20*O.minuteDuration)<=a?(this.interval=20,this.intervalType="minute"):e/(30*O.minuteDuration)<=a?(this.interval=30,this.intervalType="minute"):e/(1*O.hourDuration)<=
a?(this.interval=1,this.intervalType="hour"):e/(2*O.hourDuration)<=a?(this.interval=2,this.intervalType="hour"):e/(3*O.hourDuration)<=a?(this.interval=3,this.intervalType="hour"):e/(6*O.hourDuration)<=a?(this.interval=6,this.intervalType="hour"):e/(1*O.dayDuration)<=a?(this.interval=1,this.intervalType="day"):e/(2*O.dayDuration)<=a?(this.interval=2,this.intervalType="day"):e/(4*O.dayDuration)<=a?(this.interval=4,this.intervalType="day"):e/(1*O.weekDuration)<=a?(this.interval=1,this.intervalType="week"):
e/(2*O.weekDuration)<=a?(this.interval=2,this.intervalType="week"):e/(3*O.weekDuration)<=a?(this.interval=3,this.intervalType="week"):e/(1*O.monthDuration)<=a?(this.interval=1,this.intervalType="month"):e/(2*O.monthDuration)<=a?(this.interval=2,this.intervalType="month"):e/(3*O.monthDuration)<=a?(this.interval=3,this.intervalType="month"):e/(6*O.monthDuration)<=a?(this.interval=6,this.intervalType="month"):(this.interval=e/(1*O.yearDuration)<=a?1:e/(2*O.yearDuration)<=a?2:e/(4*O.yearDuration)<=a?
4:Math.floor(w.getNiceNumber(e/(a-1),!0)/O.yearDuration),this.intervalType="year")),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:b-d/2,this.maximum=this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:c+d/2,this.valueFormatString||("year"===this.intervalType?this.valueFormatString="YYYY":"month"===this.intervalType?this.valueFormatString="MMM YYYY":"week"===this.intervalType?this.valueFormatString="MMM DD YYYY":"day"===this.intervalType?
this.valueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.valueFormatString="hh:mm TT":"minute"===this.intervalType?this.valueFormatString="hh:mm TT":"second"===this.intervalType?this.valueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.valueFormatString="fff'ms'")),this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)):(this.intervalType="number",e=w.getNiceNumber(c-b,!1),this.interval=this._options&&this._options.interval?
this._options.interval:w.getNiceNumber(e/(a-1),!0),this.minimum=null!==this.sessionVariables.internalMinimum?this.sessionVariables.internalMinimum:Math.floor(b/this.interval)*this.interval,this.maximum=null!==this.sessionVariables.internalMaximum?this.sessionVariables.internalMaximum:Math.ceil(c/this.interval)*this.interval,"axisX"===this.type?(null===this.sessionVariables.internalMinimum&&(this.minimum=b-d/2),this.sessionVariables.internalMaximum||(this.maximum=c+d/2),this.intervalStartPosition=
Math.floor((this.minimum+0.2*this.interval)/this.interval)*this.interval):"axisY"===this.type&&(this.intervalStartPosition=this.minimum));"axisX"===this.type&&(this._absoluteMinimum=this._options&&"undefined"!==typeof this._options.minimum?this._options.minimum:this.dataInfo.min-d/2,this._absoluteMaximum=this._options&&"undefined"!==typeof this._options.maximum?this._options.maximum:this.dataInfo.max+d/2);if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",e=Math.abs(this.maximum-this.minimum),
1>e&&(b=Math.floor(Math.abs(Math.log(e)/Math.LN10))+2,2<b)))for(c=0;c<b-2;c++)this.valueFormatString+="#"};w.getNiceNumber=function(a,b){var c=Math.floor(Math.log(a)/Math.LN10),d=a/Math.pow(10,c);return(b?1.5>d?1:3>d?2:7>d?5:10:1>=d?1:2>=d?2:5>=d?5:10)*Math.pow(10,c)};w.prototype.getLabelStartPoint=function(){var a=f(this.interval,this.intervalType),a=new Date(Math.floor(this.minimum/a)*a);if("millisecond"!==this.intervalType)if("second"===this.intervalType)0<a.getMilliseconds()&&(a.setSeconds(a.getSeconds()+
1),a.setMilliseconds(0));else if("minute"===this.intervalType){if(0<a.getSeconds()||0<a.getMilliseconds())a.setMinutes(a.getMinutes()+1),a.setSeconds(0),a.setMilliseconds(0)}else if("hour"===this.intervalType){if(0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setHours(a.getHours()+1),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("day"===this.intervalType){if(0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setDate(a.getDate()+1),a.setHours(0),
a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("week"===this.intervalType){if(0<a.getDay()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setDate(a.getDate()+(7-a.getDay())),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("month"===this.intervalType){if(1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds())a.setMonth(a.getMonth()+1),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)}else if("year"===
this.intervalType&&(0<a.getMonth()||1<a.getDate()||0<a.getHours()||0<a.getMinutes()||0<a.getSeconds()||0<a.getMilliseconds()))a.setFullYear(a.getFullYear()+1),a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);return a};d(S,A);d(C,A);C.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.setAttribute("class","canvasjs-chart-tooltip");this.container.style.position="absolute";this.container.style.height=
"auto";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.display="none";var a;a='<div style=" width: auto;height: auto;min-width: 50px;';a+="line-height: 20px;";a+="padding: 5px;";a+="font-family: Calibri, Arial, Georgia, serif;";a+="font-weight: 400;";a+="font-style: "+(D?"italic;":"normal;");a+="font-size: 14px;";a+="color: #000000;";a+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";a+="text-align: left;";a+="border: 2px solid gray;";
a+=D?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);";a+="text-indent: 0px;";a+="white-space: nowrap;";a+="border-radius: 10px;";D||(a+="filter: alpha(opacity = 90);",a+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');");a+='} "> Sample Tooltip</div>';this.container.innerHTML=a;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}};
C.prototype.mouseMoveHandler=function(a,b){this._lastUpdated&&40>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this._updateToolTip(a,b))};C.prototype._updateToolTip=function(a,b){if(this.enabled){if("undefined"===typeof a||"undefined"===typeof b){if(isNaN(this._prevX)||isNaN(this._prevY))return;a=this._prevX;b=this._prevY}else this._prevX=a,this._prevY=b;var c=null,d=null,e=[],f=0;if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){f="xySwapped"===this.chart.plotInfo.axisPlacement?
(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-b)+this.chart.axisX.minimum:(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum;c=[];for(d=0;d<this.chart.data.length;d++){var h=this.chart.data[d].getDataPointAtX(f,!0);h&&0<=h.index&&(h.dataSeries=this.chart.data[d],null!==h.dataPoint.y&&c.push(h))}if(0===c.length)return;
c.sort(function(a,b){return a.distance-b.distance});f=c[0];for(d=0;d<c.length;d++)c[d].dataPoint.x.valueOf()===f.dataPoint.x.valueOf()&&e.push(c[d]);c=null}else if((h=this.chart.getDataPointAtXY(a,b,!0))?(this.currentDataPointIndex=h.dataPointIndex,this.currentSeriesIndex=h.dataSeries.index):D?(h=l(a,b,this.chart._eventManager.ghostCtx),0<h&&"undefined"!==typeof this.chart._eventManager.objectMap[h]?(eventObject=this.chart._eventManager.objectMap[h],this.currentSeriesIndex=eventObject.dataSeriesIndex,
this.currentDataPointIndex=0<=eventObject.dataPointIndex?eventObject.dataPointIndex:-1):this.currentDataPointIndex=-1):this.currentDataPointIndex=-1,0<=this.currentSeriesIndex){d=this.chart.data[this.currentSeriesIndex];h={};if(0<=this.currentDataPointIndex)c=d.dataPoints[this.currentDataPointIndex],h.dataSeries=d,h.dataPoint=c,h.index=this.currentDataPointIndex,h.distance=Math.abs(c.x-f);else if("line"===d.type||"stepLine"===d.type||"spline"===d.type||"area"===d.type||"stepArea"===d.type||"splineArea"===
d.type||"stackedArea"===d.type||"stackedArea100"===d.type)f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(a-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf(),h=d.getDataPointAtX(f,!0),h.dataSeries=d,this.currentDataPointIndex=h.index,c=h.dataPoint;else return;null!==h.dataPoint.y&&e.push(h)}if(0<e.length){this.highlightObjects(e);f="";f=this.getToolTipInnerHTML({entries:e});this.contentDiv.innerHTML=f;this.contentDiv.innerHTML=f;
f=!1;"none"===this.container.style.display&&(f=!0,this.container.style.display="block");try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:e[0].dataPoint.color?e[0].dataPoint.color:e[0].dataSeries.color?e[0].dataSeries.color:e[0].dataSeries._colorSet[e[0].index%e[0].dataSeries._colorSet.length]}catch(k){}"pie"===e[0].dataSeries.type||"doughnut"===e[0].dataSeries.type||"bar"===e[0].dataSeries.type||"stackedBar"===
e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?toolTipLeft=a-10-this.container.clientWidth:(toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(e[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+0.5-this.container.clientWidth<<0,toolTipLeft-=10);toolTipLeft=0<toolTipLeft?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px";e=1===e.length&&!this.shared&&("line"===e[0].dataSeries.type||
"stepLine"===e[0].dataSeries.type||"spline"===e[0].dataSeries.type||"area"===e[0].dataSeries.type||"stepArea"===e[0].dataSeries.type||"splineArea"===e[0].dataSeries.type||"stackedArea"===e[0].dataSeries.type||"stackedArea100"===e[0].dataSeries.type)?e[0].dataSeries.axisY.lineCoordinates.y2-e[0].dataSeries.axisY.lineCoordinates.height/Math.abs(e[0].dataSeries.axisY.maximum-e[0].dataSeries.axisY.minimum)*Math.abs(e[0].dataPoint.y-e[0].dataSeries.axisY.minimum)+0.5<<0:"bar"===e[0].dataSeries.type||"stackedBar"===
e[0].dataSeries.type||"stackedBar100"===e[0].dataSeries.type?e[0].dataSeries.axisX.lineCoordinates.y2-e[0].dataSeries.axisX.lineCoordinates.height/Math.abs(e[0].dataSeries.axisX.maximum-e[0].dataSeries.axisX.minimum)*Math.abs(e[0].dataPoint.x-e[0].dataSeries.axisX.minimum)+0.5<<0:b;e=-e+10;0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0);this.container.style.left=toolTipLeft;this.container.style.bottom=e+"px";!this.animationEnabled||f?this.disableAnimation():this.enableAnimation()}}};
C.prototype.highlightObjects=function(a){if(this.enabled){var b=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas();b.save();var c=this.chart.plotArea;b.rect(c.x1,c.y1,c.width,c.height);b.clip();b.beginPath();for(c=0;c<a.length;c++){var d=a[c];if((d=this.chart._eventManager.objectMap[d.dataSeries.dataPointIds[d.index]])&&d.objectType&&"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=d.dataPointIndex;if("line"===e.type||"stepLine"===e.type||"spline"===e.type||"scatter"===
e.type||"area"===e.type||"stepArea"===e.type||"splineArea"===e.type||"stackedArea"===e.type||"stackedArea100"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=Math.max(1.5*e.size<<0,10),e.borderColor=e.borderColor||"#FFFFFF",e.borderThickness=e.borderThickness||Math.ceil(0.1*e.size),oa.drawMarkers([e]);else if("bubble"===e.type)e=e.getMarkerProperties(f,d.x1,d.y1,this.chart.overlaidCanvasCtx),e.size=d.size,e.color="white",e.borderColor="white",b.globalAlpha=0.3,oa.drawMarkers([e]),
b.globalAlpha=1;else if("column"===e.type||"stackedColumn"===e.type||"stackedColumn100"===e.type||"bar"===e.type||"stackedBar"===e.type||"stackedBar100"===e.type)b.globalAlpha=0.3,na(b,d.x1,d.y1,d.x2,d.y2,"white",!1,!1,!1,!1),b.globalAlpha=1;else if("pie"===e.type||"doughnut"===e.type)b.globalAlpha=0.3,qa(b,d.center,d.radius,"white",e.type,d.startAngle,d.endAngle),b.globalAlpha=1}}b.globalAlpha=1;b.restore()}};C.prototype.getToolTipInnerHTML=function(a){a=a.entries;for(var b="",c=null,d=null,e=0,
f="",h=!0,k=0;k<a.length;k++)if(a[k].dataSeries.toolTipContent||a[k].dataPoint.toolTipContent){h=!1;break}if(h&&this.content&&"function"===typeof this.content)b=this.content({entries:a});else if(1<a.length)for(k=0;k<a.length;k++){c=a[k].dataSeries;d=a[k].dataPoint;e=a[k].index;f="";0===k&&(h&&!this.content)&&(f+="undefined"!==typeof this.chart.axisX.labels[d.x]?this.chart.axisX.labels[d.x]:"{x}",f+="</br>");if("line"===c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===
c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type)f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}";else if("bubble"===c.type)f+=d.toolTipContent?d.toolTipContent:
c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===c.type||"doughnut"===c.type)f+=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"&nbsp;&nbsp;{y}";b+=this.chart.replaceKeywordsWithValue(f,d,c,e);k<a.length-1&&(b+="</br>")}else{c=a[0].dataSeries;d=a[0].dataPoint;e=a[0].index;if("line"===
c.type||"stepLine"===c.type||"spline"===c.type||"area"===c.type||"stepArea"===c.type||"splineArea"===c.type||"column"===c.type||"bar"===c.type||"scatter"===c.type||"stackedColumn"===c.type||"stackedColumn100"===c.type||"stackedBar"===c.type||"stackedBar100"===c.type||"stackedArea"===c.type||"stackedArea100"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":
"{x}")+" :</span>&nbsp;&nbsp;{y}";else if("bubble"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:"<span style='\"'color:{color};'\"'>"+(d.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}";else if("pie"===c.type||"doughnut"===c.type)f=d.toolTipContent?d.toolTipContent:c.toolTipContent?c.toolTipContent:this.content&&"function"!==typeof this.content?this.content:(d.name?"{name}:&nbsp;&nbsp;":
d.label?"{label}:&nbsp;&nbsp;":"")+"{y}";b+=this.chart.replaceKeywordsWithValue(f,d,c,e)}return b};C.prototype.enableAnimation=function(){this.container.style.WebkitTransition||(this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out",this.container.style.transition="left .2s ease-out, bottom .2s ease-out")};C.prototype.disableAnimation=
function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")};C.prototype.hide=function(){this.enabled&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.chart.resetOverlayedCanvas())};s.prototype.replaceKeywordsWithValue=function(a,b,c,d){var e=this;return a.replace(/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g,function(a){if('"'===
a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1])return a.slice(1,a.length-1);a=k(a.slice(1,a.length-1));var f=null;if("color"===a)return b.color?b.color:c.color?c.color:c._colorSet[d%c._colorSet.length];if(b.hasOwnProperty(a))f=b;else if(c.hasOwnProperty(a))f=c;else return"";return"x"===a?e.axisX&&"dateTime"===e.plotInfo.axisXValueType?P(f[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:e.axisX&&e.axisX.valueFormatString?e.axisX.valueFormatString:
"DD MMM YY",e._cultureInfo):ha(f[a],b.xValueFormatString?b.xValueFormatString:c.xValueFormatString?c.xValueFormatString:"#,##0.########",e._cultureInfo):"y"===a?ha(f[a],b.yValueFormatString?b.yValueFormatString:c.yValueFormatString?c.yValueFormatString:"#,##0.########",e._cultureInfo):f[a]})};B.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.eventObjects=[];D&&(this.ghostCtx.clearRect(0,0,this.chart.width,
this.chart.height),this.ghostCtx.beginPath())};B.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId};B.prototype.mouseEventHandler=function(a){if(!("mousemove"!==a.type&&"click"!==a.type)){var b=[],c=pa(a),d=null;if((d=this.chart.getObjectAtXY(c.x,c.y,!1))&&"undefined"!==typeof this.objectMap[d])if(d=this.objectMap[d],"dataPoint"===d.objectType){var e=this.chart.data[d.dataSeriesIndex],f=e.dataPoints[d.dataPointIndex],h=d.dataPointIndex;d.eventParameter={x:c.x,y:c.y,dataPoint:f,
dataSeries:e._options,dataPointIndex:h,dataSeriesIndex:e.index};d.eventContext={context:f,userContext:f,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(d);d=this.objectMap[e.id];d.eventParameter={x:c.x,y:c.y,dataPoint:f,dataSeries:e._options,dataPointIndex:h,dataSeriesIndex:e.index};d.eventContext={context:e,userContext:e._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};b.push(this.objectMap[e.id])}else"legendItem"===d.objectType&&
(e=this.chart.data[d.dataSeriesIndex],f=e.dataPoints[d.dataPointIndex],d.eventParameter={x:c.x,y:c.y,dataSeries:e._options,dataPoint:f,dataPointIndex:d.dataPointIndex,dataSeriesIndex:d.dataSeriesIndex},d.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},b.push(d));e=[];for(c=0;c<this.mouseoveredObjectMaps.length;c++){f=!0;for(d=0;d<b.length;d++)if(b[d].id===this.mouseoveredObjectMaps[c].id){f=
!1;break}f?this.fireEvent(this.mouseoveredObjectMaps[c],"mouseout",a):e.push(this.mouseoveredObjectMaps[c])}this.mouseoveredObjectMaps=e;for(c=0;c<b.length;c++){e=!1;for(d=0;d<this.mouseoveredObjectMaps.length;d++)if(b[c].id===this.mouseoveredObjectMaps[d].id){e=!0;break}e||(this.fireEvent(b[c],"mouseover",a),this.mouseoveredObjectMaps.push(b[c]));"click"===a.type?this.fireEvent(b[c],"click",a):"mousemove"===a.type&&this.fireEvent(b[c],"mousemove",a)}}};B.prototype.fireEvent=function(a,b,c){if(a&&
b){var d=a.eventParameter,e=a.eventContext,f=a.eventContext.userContext;f&&(e&&f[e[b]])&&f[e[b]].call(f,d);"mouseout"!==b?f.cursor&&f.cursor!==c.target.style.cursor&&(c.target.style.cursor=f.cursor):(c.target.style.cursor=this.chart._defaultCursor,delete a.eventParameter,delete a.eventContext);"click"===b&&("dataPoint"===a.objectType&&this.chart.pieDoughnutClickHandler)&&this.chart.pieDoughnutClickHandler.call(this.chart.data[a.dataSeriesIndex],d)}};d(N,A);var oa={drawMarker:function(a,b,c,d,e,f,
h,k){if(c){var l=1;c.fillStyle=f?f:"#000000";c.strokeStyle=h?h:"#000000";c.lineWidth=k?k:0;"circle"===d?(c.moveTo(a,b),c.beginPath(),c.arc(a,b,e/2,0,2*Math.PI,!1),f&&c.fill(),k&&(h?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l))):"square"===d?(c.beginPath(),c.rect(a-e/2,b-e/2,e,e),f&&c.fill(),k&&(h?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l))):"triangle"===d?(c.beginPath(),c.moveTo(a-e/2,b+e/2),
c.lineTo(a+e/2,b+e/2),c.lineTo(a,b-e/2),c.closePath(),f&&c.fill(),k&&(h?c.stroke():(l=c.globalAlpha,c.globalAlpha=0.15,c.strokeStyle="black",c.stroke(),c.globalAlpha=l)),c.beginPath()):"cross"===d&&(c.strokeStyle=f,c.lineWidth=e/4,c.beginPath(),c.moveTo(a-e/2,b-e/2),c.lineTo(a+e/2,b+e/2),c.stroke(),c.moveTo(a+e/2,b-e/2),c.lineTo(a-e/2,b+e/2),c.stroke())}},drawMarkers:function(a){for(var b=0;b<a.length;b++){var c=a[b];oa.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness)}}},
ra={Chart:function(a,b){var c=new s(a,b,this);this.render=function(){c.render(this.options)};this.options=c._options},addColorSet:function(a,b){Y[a]=b},addCultureInfo:function(a,b){V[a]=b}};ra.Chart.version="v1.4.1 GA";window.CanvasJS=ra})();var app=angular.module("Obelix",[]);
app.service("Lobby",["$http","Device","Directory",function(d,q,c){return{getDeviceTree:function(f){var b=new c("");b.expanded=!0;d.get("/obix").success(function(c){console.log(c);c.nodes.each(function(a){var c=a.href;c.startsWith("/")||(c="/"+c);var d=c.split("/").compact(!0),f=d.pop();a.displayName&&(f=a.displayName);b.make(d).devices.push(new q(c,f))});f(b)})}}}]);
app.factory("Storage",function(){var d=function(d){this.key=d;return this};d.get=function(d){return(d=localStorage.getItem(d))?"{"===d.charAt(0)||"["===d.charAt(0)?angular.fromJson(d):d:null};d.set=function(d,c){if(angular.isObject(c)||angular.isArray(c))c=angular.toJson(c);localStorage.setItem(d,c)};d.remove=function(d){localStorage.removeItem(d)};d.prototype={get:function(){return d.get(this.key)},set:function(q){d.set(this.key,q)},remove:function(){d.remove(this.key)}};return d});
app.factory("Directory",function(){var d=function(d){this.name=d;this.subdirectories=[];this.devices=[];this.expanded=!1;return this};d.prototype={make:function(q){if(q.isEmpty())return this;var c=q.shift(),c=c.replace("+"," "),f=this.subdirectories.find({name:c});f||(f=new d(c),this.subdirectories.push(f));return q.isEmpty()?f:f.make(q)},toggle:function(){this.expanded=!this.expanded},globDevices:function(){var d=[],d=d.concat(this.devices);this.subdirectories.each(function(c){d=d.concat(c.globDevices())});
return d}};return d});
app.factory("Watch",["$http","$timeout","$q","Storage",function(d,q,c,f){var b=function(b){this.intervalStorage=new f("watch_interval");this.interval=this.intervalStorage.get();this.intervalMinimum=1E3;this.intervalMaximum=1E4;this.interval=null==this.interval||void 0==this.interval||isNaN(this.interval)?this.intervalMinimum:this.interval;this.updateInterval();this.href=b};b.watchRecreatedDefer=c.defer();b.getInstance=function(c){var a=new f("watch"),e=a.get();if(e){var h=!1;d.get(e).success(function(a){"err"!=
a.tag&&(h=!0)}).then(function(){h?(console.log("Reusing watch"+e),c(new b(e))):(console.log("Old watch "+e+" seems gone. Recreating..."),a.remove(),b.getInstance(function(a){b.watchRecreatedDefer.resolve(a);c(a)}))})}else d.post("/watchService/make").success(function(d){d=d.href;a.set(d);console.log("Made new watch ",d);c(new b(d))})};b.prototype={updateInterval:function(){this.interval=isNaN(this.interval)?this.intervalStorage.get():parseInt(this.interval,10);this.interval<this.intervalMinimum&&
(this.interval=this.intervalMinimum);this.interval>this.intervalMaximum&&(this.interval=this.intervalMaximum);console.log("Watch interval is",this.interval);this.intervalStorage.set(this.interval)},hrefForOperation:function(b){return URI(this.href).segment(b).toString()},add:function(b){return this.op("add",b)},remove:function(b){return this.op("remove",b)},op:function(b,a){var c='<obj is="obix:WatchIn"><list name="hrefs"><uri val="'+a+'" /></list></obj>';d({url:this.hrefForOperation(b),method:"POST",
headers:{"Content-Type":"application/xml",Accept:"application/json"},data:c}).success(function(c){"obix:WatchOut"!=c.is&&"obix:Nil"!=c.is?console.log("Error "+b+" device "+a+" to watch",c):console.log(b+" device "+a+" to watch")})},poll:function(b){d.post(this.hrefForOperation("pollChanges")).success(function(a){(a=a.nodes[0].nodes)&&a.each(b)})},tick:function(){this.polling&&(this.poll(this.polling),this.intervalStorage.get()||this.intervalStorage.set(this.interval=this.intervalMinimum),q(this.tick.bind(this),
this.intervalStorage.get()))},startPolling:function(b){this.polling=b;this.tick()}};return b}]);
app.factory("Property",["$http",function(d){var q=function(c){["bool","int","real","str","enum"].find(c.tag)?(this.valid=!0,this.jsPlumbEndpoints=[],this.connections=[],this.range=this.groupCommEnabled=!1,this.href=c.href,this.type=c.tag,this.numeric="int"==this.type||"real"==this.type,this.name=c.name,this.displayName=c.displayName||this.name,this.value=c.val,this.readonly=!c.writable,"real"==this.type&&(this.value=Math.round(100*this.value)/100),this.numeric&&(c.max&&!this.readonly)&&(this.range=
{min:c.min,max:c.max,step:Math.abs(this.rangeMax-this.rangeMin)/100}),"enum"==this.type&&(this.range=q.Enum.range(c.range)),this.klass=this.numeric?"numeric":this.type):this.valid=!1};q.Enum={ranges:{},range:function(c){var f=this.ranges[c];f||(f=[],this.ranges[c]=f,d.get(c).success(function(b){f.add(b.nodes.map("name"))}.bind(this)));return f}};q.prototype={write:function(c){d.put(this.href,{tag:this.type,val:this.value}).success(function(c){c.tag&&"err"==c.tag&&console.log("Error updating "+this.href,
c)}.bind(this))},connect:function(c,f){var b=f?"joinGroup":"leaveGroup",k=URI(this.href).segment("groupComm").segment(b).toString();d.post(k,'<str val="'+c.ipv6+'"/>',{headers:{"Content-Type":"application/xml"}}).success(function(){f?this.connections.push(c):this.connections.remove(c);console.log(b,this.href,c.ipv6)}.bind(this))}};return q}]);
app.factory("Connection",["Storage",function(d){var q=function(c,d,b){this.jsPlumbConnection=null;this.fromProperty=c;this.toProperty=d;b?(console.log("Restored connection",b,"with",c,d),this.ipv6=b):this.ipv6="FF15::"+q.incrementCounter();this.fromProperty.connect(this,!0);this.toProperty.connect(this,!0);return this};q.prototype.destroy=function(){this.fromProperty.connect(this,!1);this.toProperty.connect(this,!1);jsPlumb.detach(this.jsPlumbConnection)};q.counter=null;q.incrementCounter=function(){var c=
new d("connections_counter");q.counter||(q.counter=c.get()||1);var f=q.counter++;c.set(q.counter);return f};q.Freezer=function(){var c=new d("connections"),f=c.get()||[];return{add:function(b){f.push({from:b.fromProperty.href,to:b.toProperty.href,ipv6:b.ipv6});c.set(f)},remove:function(b){f.remove({ipv6:b.ipv6});c.set(f)},restore:function(b,c){f.each(function(a){var d=b(a.from),f=b(a.to);c(new q(d,f,a.ipv6))})}}}();return q}]);
app.factory("Device",["$http","$q","$timeout","Storage","Property","Watch","Connection",function(d,q,c,f,b,k,a){c=function(a,b){this.loadedDefer=q.defer();this.href=a;this.placementStorage=new f("device_"+this.href+"_placement");(this.placement=this.placementStorage.get())&&this.load();this.nameStorage=new f("device_"+this.href+"_name");this.name=this.nameStorage.get()||b.replace(/&#x([0-9a-f]{1,4});/gi,function(a,b){var c=parseInt(b,16);return String.fromCharCode(c)});this.originalName=b;this.htmlClassName=
this.name.toLowerCase().replace(/ /g,"");this.obix={contractList:{is:null,of:null,"in":null,out:null}};this.statistics={history:{enabled:!1,properties:[]},statisticBox:{expanded:!1,chartsContainerContainer:null}};return this};c.prototype={rename:function(){this.name.isBlank()?(this.nameStorage.remove(),this.name=this.originalName):this.nameStorage.set(this.name)},place:function(a){this.placement={left:a.left,top:a.top};this.placementStorage.set(this.placement);!this.loaded&&!this.loading&&this.load()},
load:function(){this.loading=!0;d.get(this.href).success(function(a){this.parse(a);this.loaded=!0;this.loading=!1;this.loadedDefer.resolve()}.bind(this))},parse:function(a){a.is&&(this.obix.contractList.is=a.is);a.of&&(this.obix.contractList.of=a.of);a["in"]&&(this.obix.contractList["in"]=a["in"]);a.out&&(this.obix.contractList.out=a.out);var c=[];this.properties=a.nodes.map(function(a){if("ref"==a.tag){a=a.name?a.name.split(" "):"";var d=a.indexOf("groupComm");-1!=d&&(a.splice(d,1),c.push(a[0]));
return!1}a.href=URI(a.href).absoluteTo(this.href).toString();return new b(a)}.bind(this)).filter({valid:!0});var d=this;a.nodes.map(function(a){if("obix:History"==a.is){var b=d.href+a.href.substring(a.href.indexOf("/"));d.statistics.history.enabled=!0;d.statistics.history.properties.push({name:a.name.substring(0,a.name.lastIndexOf(" history")),href:b,chart:null,chartDataPoints:[],chartContainerID:b.replace(/\//g,"-").toLowerCase(),chartLineColor:null})}});c.each(function(a){if(a=this.properties.find({name:a}))a.groupCommEnabled=
!0}.bind(this))},refresh:function(a){console.log("Updating",this.href);a.nodes.each(function(a){var b=this.properties.find({href:a.href});b&&(b.value=a.val)}.bind(this))},toggleStatisticBox:function(){this.statistics.statisticBox.expanded=!this.statistics.statisticBox.expanded},destroy:function(){var b=this.href;k.getInstance(function(a){a.remove(b)});this.properties&&this.properties.each(function(b){b.connections.each(function(b){a.Freezer.remove(b)});b.jsPlumbEndpoints.each(function(a){jsPlumb.removeAllEndpoints(a.element)})});
this.placement=null;this.placementStorage.remove();this.nameStorage.remove()}};return c}]);
app.factory("Sidebar",["Storage",function(d){var q=new d("sidebar_expanded"),c="true"===q.get(),f=new d("sidebar_locked"),b="true"===f.get(),k=new d("sidebar_segment"),a=parseInt(k.get(),10);Number.isNaN(a)&&(a=0);return{get expanded(){return c},set expanded(a){b||(c=a,q.set(a))},toggle:function(){b||(c=!c,q.set(c))},get locked(){return b},set locked(a){b=a;f.set(a)},get segment(){return a},set segment(b){a=b;k.set(b)}}}]);
app.factory("DeviceStatistics",["$http","$interval",function(d,q){var c=[],f="#C7A317 #E41B17 #7E354D #FF00FF #893BFF #F88017 #F88017 #F88017".split(" "),b=0,k=f.length;return{devices:c,isRegisteredDevice:function(a){return 0<=c.indexOf(a)},addDevice:function(a){this.isRegisteredDevice(a)||c.push(a)},removeDevice:function(a){var b=c.indexOf(a);-1!=b&&(c.splice(b,1),a.statistics.history.properties.each(function(a){a.chart=null}))},query:function(){q(function(){c.forEach(function(a){a.statistics.history.properties.forEach(function(a){null==
a.lineColor&&(a.lineColor=f[b%k],b++);d.post(a.href+"/query",['<obj is="obix:HistoryFilter"><int name="limit" val="10"/><abstime name="start" val="1970-01-01T00:00:00.000Z"/><abstime name="end" val="',(new Date).toISOString(),'"/></obj>'].join(""),{headers:{"Content-Type":"text/xml",Accept:"application/json"}}).success(function(b,c,d,f){a.chartDataPoints.splice(0);b.nodes[3].nodes?(b.nodes[3].nodes.each(function(b){a.chartDataPoints.push({x:new Date(b.nodes[0].val),y:b.nodes[1].val})}),null==a.chart&&
(a.chart=new CanvasJS.Chart(a.chartContainerID,{theme:"theme2",title:{text:a.name},width:260,height:200,axisY:{interval:25},data:[{type:"line",lineThickness:2,dataPoints:a.chartDataPoints,color:a.lineColor}]})),a.chart.render()):jQuery("#"+a.chartContainerID).text(a.name+": Currently no data available.")})})})},5E3)}}}]);
app.factory("ProjectMembers",[function(){var d=function(d,c,f){this.firstName=d;this.lastName=c;this.website=f};return{leads:[new d("Markus","J.","https://www.auto.tuwien.ac.at/people/view/Markus_Jung/")],contributors:[new d("Clemens","P."),new d("Esad","H."),new d("Isolde","C."),new d("Jomy","C."),new d("J\u00fcrgen","S."),new d("J\u00fcrgen","W.","https://www.auto.tuwien.ac.at/people/view/Juergen_Weidinger/"),new d("Luyu","Z."),new d("Nam","G."),new d("Ralph","H."),new d("Robert","H."),new d("Stefan",
"S."),new d("Thomas","H.")]}}]);
app.controller("MainCtrl",["$scope","$q","$timeout","$interval","Lobby","Watch","Connection","Sidebar","DeviceStatistics","ProjectMembers",function(d,q,c,f,b,k,a,e,h,p){jQuery.fn.qtip.modal_zindex=jQuery.fn.qtip.zindex+1E3;d.directory=null;d.allDevices=[];d.watch=null;d.statistics=h;d.projectMembers=p;d.statistics.query();var n=q.defer(),m=q.defer(),l=q.defer(),t=null,u=f(function(){if((jQuery("rect:visible").length||jQuery("rect").length)===t)f.cancel(u),l.resolve()},250);q.all([k.watchRecreatedDefer.promise,
n.promise]).then(function(a){console.log("Re-adding placed devices to new watch");var b=a[0];a[1].each(function(a){b.add(a.href)})});m.promise.then(function(b){b.map(function(a){a.properties.map(function(a){a.groupCommEnabled&&t++})});a.Freezer.restore(function(a){return b.map("properties").flatten().find({href:a})},function(a){l.promise.then(function(){console.log(a);a.jsPlumbConnection=jsPlumb.connect({source:a.fromProperty.jsPlumbEndpoints[0],target:a.toProperty.jsPlumbEndpoints[0]},{parameters:{restored:!0}});
a.jsPlumbConnection.obelixConnection=a})});c(function(){jQuery("body").trigger("hideSplashScreen");jQuery("#tour-first-time-visitor").trigger("showTourHelp")},0)});b.getDeviceTree(function(a){d.directory=a;d.allDevices=a.globDevices();var b=d.allDevices.filter(function(a){return!!a.placement});n.resolve(b);q.all(b.map(function(a){return a.loadedDefer.promise})).then(function(a){m.resolve(b)})});k.getInstance(function(a){d.watch=a;a.startPolling(function(a){var b=d.allDevices.find({href:a.href});b&&
(console.log("Watch reports",a),b.refresh(a))})});d.sidebar=e;jsPlumb.bind("connection",function(b){console.log("Connection event",b);b.sourceEndpoint.addClass("connected");b.targetEndpoint.addClass("connected");if(!b.connection.getParameter("restored")){var c=b.sourceEndpoint.getParameters().property,d=b.targetEndpoint.getParameters().property;b.connection.obelixConnection=new a(c,d);b.connection.obelixConnection.jsPlumbConnection=b.connection;a.Freezer.add(b.connection.obelixConnection);console.log("the first connection event listener;")}});
jsPlumb.bind("connectionDetached",function(a){[a.sourceEndpoint,a.targetEndpoint].each(function(a){0==a.connections.length&&a.removeClass("connected")})});jsPlumb.bind("dblclick",function(b,c){b.obelixConnection.destroy();a.Freezer.remove(b.obelixConnection);b.obelixConnection=null});d.tourInProgress=!1;d.placeDevice=function(a,b){a.placement||d.watch.add(a.href);a.place(b)};d.destroyDevice=function(a){d.tourInProgress||(a.destroy(),d.statistics.removeDevice(a))};d.clear=function(){d.allDevices.filter(function(a){a.placement&&
d.destroyDevice(a)})}}]);app.directive("draggable",function(){return{restrict:"A",link:function(d,q,c){d.$eval(c.draggable);d={appendTo:"body",helper:"clone",start:function(){$(this).addClass("disabled")},stop:function(){$(this).removeClass("disabled")},containment:jQuery("#canvas")};c.draggableDistance&&(d.distance=c.draggableDistance);c.draggableHelper&&(d.helper=c.draggableHelper);c.draggableViaJsplumb?jsPlumb.draggable(q,d):q.draggable(d)}}});
app.directive("includeStatisticsTemplate",["$compile","$templateCache",function(d,q){return{restrict:"A",terminal:!0,scope:{statistics:"=includeStatisticsTemplate"},link:function(c,f,b){b=q.get("statistics-template");f.append(b);d(f.contents())(c.$new())}}}]);app.directive("includeDirectoryTemplate",["$compile","$templateCache",function(d,q){return{restrict:"A",terminal:!0,scope:{directory:"=includeDirectoryTemplate"},link:function(c,f,b){b=q.get("directory-template");f.append(b);d(f.contents())(c.$new())}}}]);
app.directive("droppable",["$parse",function(d){return{restrict:"A",link:function(q,c,f){var b=d(f.droppable)(q);c.droppable({drop:function(c,a){a.helper.position();var d=angular.element(a.draggable),d=d.scope().$eval(d.attr("draggable"));b(d,a.helper.position());q.$apply();jsPlumb.repaintEverything()}})}}}]);
app.directive("ngModelOnblur",function(){return{restrict:"A",require:"ngModel",link:function(d,q,c,f){"radio"===c.type||"checkbox"===c.type||(q.unbind("input").unbind("keydown").unbind("change"),q.bind("blur",function(){d.$apply(function(){f.$setViewValue(q.val())})}))}}});
app.directive("inlineEditor",["$parse",function(d){return{restrict:"A",require:"ngModel",link:function(q,c,f,b){var k=d(f.inlineEditor);c.bind("keydown keypress",function(a){if(13===a.which||27===a.which)c.blur(),a.preventDefault()});c.bind("blur",function(){q.$apply(function(){k(q);b.$setViewValue(c.val())})});c.focus()}}}]);
app.directive("jsplumbContainer",function(){return{restrict:"A",link:function(d,q,c){jsPlumb.ready(function(){jsPlumb.Defaults.Container=q;jsPlumb.Defaults.Connector=["Bezier",{stub:30,curviness:50}];jsPlumb.Defaults.Endpoint=["Rectangle",{width:12,height:15}]})}}});
app.directive("jsplumbEndpoint",["$timeout",function(d){return{restrict:"A",link:function(q,c,f){var b=q.$eval(f.jsplumbEndpoint);if(b.groupCommEnabled){var k=q.$eval(f.device);d(function(){var a=jsPlumb.addEndpoint(c,{isSource:!0,isTarget:!0,cssClass:k.name.toLowerCase(),parent:c.parent(),maxConnections:-1,anchors:[[1,0.5,1,0,12,0],[0,0.5,-1,0,-12,0]],paintStyle:{fillStyle:"#ff0"},connectorStyle:{lineWidth:7,strokeStyle:"#fff"},connectorHoverStyle:{strokeStyle:"#ff0000"},parameters:{property:b}});
b.jsPlumbEndpoints.push(a)},0)}}}}]);
app.directive("obelixSplashScreen",[function(){return{restrict:"A",link:function(d,q,c){jQuery(q).qtip({prerender:!0,content:{text:function(){var c=$("#about").clone();c.find("#about-content").append('<div class="row-2"><div class="loading"></div><div class="text">Loading ... Please Wait</div></div>');return c}},position:{my:"center",at:"center"},show:{delay:0,ready:!0,modal:{on:!0,blur:!1,escape:!1,stealfocus:!1}},hide:{event:"hideSplashScreen"},style:{classes:"qtip-light obelix-qtip"},events:{hide:function(c,
b){b.destroy()}}})}}}]);app.directive("obelixLogoutStarter",["$window",function(d){return{restrict:"A",link:function(q,c,f){c.addClass("enabled").attr("title","Logout").click(function(){d.location="/logout"})}}}]);
app.directive("obelixAboutStarter",[function(){var d;return{restrict:"A",link:function(q,c,f){c.addClass("enabled").attr("title","About").click(function(){jQuery("body").qtip({content:{text:function(){d=jQuery("#about").clone();d.css("height","auto").find("#about-content").append(jQuery("#project-members").clone());d.find("button").click(function(){jQuery("body").trigger("hideAboutScreen")});return d}},position:{my:"center",at:"center"},show:{event:"showAboutScreen",delay:100,ready:!0,modal:{on:!0,
blur:!1,escape:!0,stealfocus:!1}},hide:{event:"hideAboutScreen"},style:{classes:"qtip-light obelix-qtip"},events:{visible:function(b,c){d.animate({"margin-top":d.height()/-2},1E3)}}})})}}}]);app.directive("tourDevice",function(){return{restrict:"A",link:function(d,q,c){d=d.$eval(c.tourDevice).name.toLowerCase();"virtualpushbutton"===d?q.attr("id","tour-device-button"):"virtuallight"===d?q.attr("id","tour-device-light"):"vcomplexsunblind"===d&&q.attr("id","tour-device-history")}}});
app.directive("obelixTourFirstTimeVisitor",["Storage",function(d){return{restrict:"A",link:function(q,c,f){var b=new d("tourTaken");c.qtip({content:{title:{button:jQuery("<span>x</span>").addClass("icon icon-remove qtip-close"),text:"Need help?"},text:'Click on the "?" symbol to start the tour!'},show:{event:"showTourHelp"},hide:{event:"hideTourHelp"},position:{my:"right top",at:"left bottom"},style:{classes:"qtip-light obelix-qtip"},events:{show:function(c,a){"tourTaken"===b.get()&&c.preventDefault()}}})}}}]);
app.directive("obelixTourStarter",["$timeout","Sidebar","Storage",function(d,q,c){return{restrict:"A",link:function(f,b,k){function a(a){d(function(){f.tourInProgress=a},0)}function e(a){a?jQuery(b).off().on("click",h.start).attr("title","Start the UI tour").addClass("enabled").removeClass("disabled"):jQuery(b).off().attr("title","UI tour has started").addClass("disabled").removeClass("enabled")}var h={};k=[{title:"Menu Button",content:"<p>This is the menu toggle button. Click it to open/close the menu.</p>",
closeButton:!0,highlightTarget:!0,target:jQuery("div#toggle-sidebar"),my:"left center",at:"right center",bind:["onToggleButtonClick"],onToggleButtonClick:function(a,b,c,d){a.next()},setup:function(a,b){h.step=this;q.locked=!1;q.expanded=!1;this.target.bind("click",this.onToggleButtonClick)},teardown:function(a,b){this.target.unbind("click",this.onToggleButtonClick);q.locked=!0}},{title:"Menu",content:'<p>The menu contains three main sections: "Devices", "Statistics" and "Settings".</p>',closeButton:!0,
highlightTarget:!1,nextButton:!0,target:jQuery("div#sidebar-sublayer"),my:"left center",at:"right center",setup:function(a,b){h.step=this;jQuery("#sidebar").addClass("tour-highlight").children(".content:first").scrollTop(0)},teardown:function(a,b){jQuery("#sidebar").removeClass("tour-highlight")}},{title:'Section "Settings"',content:"<p>This section provides the possibility to control some aspects of this client. </p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-settings"),
my:"top left",at:"bottom right",setup:function(a,b){h.step=this;d(function(){jQuery("#sidebar > .content:first").scrollTop(0);q.segment=2},0)},teardown:function(a,b){d(function(){q.segment=1;f.directory.subdirectories[1].expanded=!0},0)}},{title:'Section "Statistics"',content:"<p>This section displays some statistics of devices (e. g. value history). </p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-statistics"),my:"top left",at:"bottom right",setup:function(a,b){h.step=
this;d(function(){jQuery("#sidebar > .content:first").scrollTop(0);q.segment=1},0)},teardown:function(a,b){d(function(){f.directory.subdirectories[1].expanded=!0;q.segment=0},0)}},{title:'Section "Devices"',content:"<p>This section contains the list of all known devices (represented as blocks), which are organized in lists (a list may contain sublists). A list can be opened/closed by clicking on it.</p>",closeButton:!0,highlightTarget:!0,nextButton:!0,target:jQuery("div#segment-devices"),my:"top left",
at:"bottom right",setup:function(a,b){h.step=this;q.segment=0},teardown:function(a,b){}},{title:"Virtual Push Button",content:"<p>Drag and drop the virtual push button device block onto the grid.</p>",closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom center",at:"top center",setup:function(a,b){h.step=this;document.getElementById("tour-device-button").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"30px",left:"50%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-button",
drop:function(c,d){b.droppedDeviceButton=jQuery(c.target);b.droppedDeviceButton.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-button")}},teardown:function(a,b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.virtualpushbutton").draggable("disable"))}},{title:"Virtual Light",content:"<p>Drag and drop the virtual light device block onto the grid.</p>",closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom left",
at:"top right",setup:function(a,b){h.step=this;document.getElementById("tour-device-light").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"280px",left:"30%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-light",drop:function(c,d){b.droppedDeviceLight=jQuery(c.target);b.droppedDeviceLight.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-light")}},teardown:function(a,b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.virtuallight").draggable("disable"))}},
{title:"Device Box (1/2)",content:'<p>A device box can be deleted from the configuration by clicking on the button "x" (during the tour the button\'s functionality has been disabled). A device box contains interactive elements to modify its behaviour. It can also be  moved around using the mouse (but during the tour it is not possible to move around the device boxes of the virtual push button, virtual light and virtual complex sun blind).</p>',closeButton:!0,highlightTarget:!0,nextButton:!0,my:"top left",
at:"bottom center",setup:function(a,b){h.step=this;return{target:b.droppedDevices[0]}},teardown:function(a,b){}},{title:"Endpoint",content:"<p>A device box may have endpoints like this one, which can be connected to other endpoints.</p>",closeButton:!0,highlightTarget:!0,nextButton:!0,my:"left top",at:"right center",setup:function(a,b){h.step=this;return{target:jQuery("#canvas ._jsPlumb_endpoint.virtualpushbutton")}},teardown:function(a,b){}},{title:"Connect Endpoints",content:"<p>Connect the endpoint of the virtual push button with the endpoint of the virtual light by drawing a line. Click with the primary mouse button on a endpoint and keep the mouse button pressed. Move the mouse pointer over to the other endpoint and release the mouse button afterwards.</p><p>A connection can be deleted by double-clicking on the connection line. All connections of a device are delete when the device is deleted.</p>",
nextButton:!0,closeButton:!0,highlightTarget:!0,my:"left top",at:"right center",setup:function(a,b){h.step=this;jQuery("#canvas ._jsPlumb_endpoint.virtuallight, #canvas ._jsPlumb_endpoint.virtualpushbutton").addClass("tour-highlight");return{target:jQuery("#canvas ._jsPlumb_endpoint.virtualpushbutton")}},teardown:function(a,b){jQuery("#canvas ._jsPlumb_endpoint.virtuallight, #canvas ._jsPlumb_endpoint.virtualpushbutton").removeClass("tour-highlight")}},{title:"Statistics",content:"<p>Drag and drop the virtual complex sun blind device block onto the grid.</p>",
closeButton:!0,highlightTarget:!0,nextButton:!1,my:"bottom left",at:"top right",setup:function(a,b){h.step=this;document.getElementById("tour-device-history").scrollIntoView(!1);b.tourDeviceDropZone.css({top:"280px",left:"60%"}).addClass("tour-highlight").droppable().droppable({accept:"label#tour-device-history",drop:function(c,d){b.droppedDeviceHistory=jQuery(c.target);b.droppedDeviceHistory.droppable().droppable("destroy");a.next()}});return{target:jQuery("label#tour-device-history")}},teardown:function(a,
b){b.tourDeviceDropZone.removeClass("tour-highlight");b.droppedDevices.push(jQuery("#canvas .device.vcomplexsunblind").draggable("disable"))}},{title:"Device Box (2/2)",content:'<p>Statistics of a device box can be displayed in the sidebar section "Statistics" by clicking on the button "%". If a device has its statistical functionality enabled the button will turn and stay green until the button is clicked again. Clicking a second time, removes the device from the statistic. If the statistical functionality is not enabled for a device the button will turn and stay gray. Click on the button "%" to add this device to the statistic and set the sliders to a few different positions. Clicking on the device name in the statistic section will toggle the statistic information display of a device. The charts are interactive (tooltips are displayed when the mouse pointer is hovered over a datapoint) and redrawn every 5 seconds and the latest 10 values are dislpayed.</p>',
closeButton:!0,highlightTarget:!0,nextButton:!0,my:"center left",at:"center right",setup:function(a,b){h.step=this;d(function(){jQuery("#sidebar > .content:first").scrollTop(0);q.segment=1},0);return{target:b.droppedDevices[2]}},teardown:function(a,b){}},{title:"Logout",content:"<p>Click this symbol to end the current oBeliX session.</p>",nextButton:!0,closeButton:!0,my:"top right",at:"bottom left",setup:function(a,b){h.step=this;return{target:jQuery("#logout-starter")}}}];var p={title:"End Of Tour",
content:"<p>This is the end of the tour. Thanks!",closeButton:!0,target:b,nextButton:!0,my:"top right",at:"bottom left",setup:function(a,b){h.step=this},teardown:function(b,c){c.setDragOnDroppedDevices(!0);c.droppedDevices=[];q.locked=!1;a(!1);e(!0)}},n=new Tourist.Tour({tipClass:"QTip",tipOptions:{style:{classes:"qtip-light qtip-shadow obelix-tour obelix-qtip"},overwrite:!1,content:{title:"Obelix Tour"},show:{solo:!0},events:{show:function(a,b){var c=jQuery(a.target),d=c.find(".tour-close"),e=c.find(".qtip-titlebar");
d.each(function(){jQuery(this).hasClass("qtip-close")?jQuery(this).detach():jQuery(this).addClass("qtip-close").html('<span class="icon icon-remove">x</span>').appendTo(e)});jQuery(".qtip-title",e).html(h.step.title)}}},steps:k,stepOptions:{tourDeviceDropZone:jQuery("#canvas #tour-device-drop-zone"),droppedDevices:[],setDragOnDroppedDevices:function(a){var b=a?"enable":"disable";this.droppedDevices.map(function(a){a.draggable(b)})}},successStep:p,cancelStep:p});h.start=function(b){(new c("tourTaken")).set("tourTaken");
e(!1);a(!0);n.start()};e(!0)}}}]);
app.directive("toggleDeviceStatistic",["DeviceStatistics",function(d){return{restrict:"A",link:function(q,c,f){var b=q.$eval(f.toggleDeviceStatistic);c.hasClass("in-statistic")?c.attr("title","Remove device from the statistics menu"):c.attr("title","Add device to the statistics menu");c.click(function(){b.statistics.history.enabled?c.hasClass("in-statistic")?(d.removeDevice(b),c.removeClass("in-statistic").attr("title","Add device to the statistics menu")):(d.addDevice(b),c.addClass("in-statistic").attr("title",
"Remove device from the statistics menu")):c.addClass("no-statistic").attr("title","History function is not enabled on this device")})}}}]);
app.filter("comparatorOpEnc",function(){return function(d,q){if(angular.isString(d)){var c=d,f=q.obix.contractList.is;if("iot:StringComparator"==f)switch(d){case "eq":c="eq";break;case "startsWith":c="^x*";break;case "endsWith":c="*x$";break;case "contains":c="*x*";break;default:c=d}else if("iot:Comparator"==f)switch(d){case "lt":c="<";break;case "lte":c="\u2264";break;case "eq":c="=";break;case "gte":c="\u2265";break;case "gt":c=">";break;default:c=d}return c}return d}});
